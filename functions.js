/*! For license information please see functions.js.LICENSE.txt */
!function(){var t={52470:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(36921)),c=n(15797);e.default=new u.default((function(t){return function(t){return i(this,void 0,void 0,(function(){var e,n,a,u=this;return s(this,(function(l){switch(l.label){case 0:return e=(0,c.getFromLocalStorage)("FmpApiKey"),n={},a={},t.forEach((function(t){n[t.symbol]||(n[t.symbol]={});var e=t.quarter?"quarter":"annual";n[t.symbol][e]||(n[t.symbol][e]=[]),n[t.symbol][e].push({year:t.year,quarter:t.quarter})})),[4,r.all(Object.keys(n).map((function(t){return i(u,void 0,void 0,(function(){var u=this;return s(this,(function(c){switch(c.label){case 0:return[4,r.all(Object.keys(n[t]).map((function(r){return i(u,void 0,void 0,(function(){var i,u,c;return s(this,(function(s){switch(s.label){case 0:return i="https://financialmodelingprep.com/api/v3/balance-sheet-statement/".concat(t,"?period=").concat(r,"&apikey=").concat(e),[4,fetch(i)];case 1:return(u=s.sent()).ok?[4,u.json()]:[2,null];case 2:return c=s.sent(),n[t][r].forEach((function(e){var n=e.year,r=e.quarter,i=r?"Q".concat(r):"FY",s=c.find((function(t){return t.calendarYear===n.toString()&&t.period===i})),u="".concat(t,"_").concat(n,"_").concat(i);a[u]=o(o({},s),{otherTotalStockholdersEquity:s.othertotalStockholdersEquity})})),[2]}}))}))})))];case 1:return c.sent(),[2]}}))}))})))];case 1:return l.sent(),[2,t.map((function(t){var e=t.symbol,n=t.year,r=t.quarter,o=r?"Q".concat(r):"FY",i="".concat(e,"_").concat(n,"_").concat(o);return i?a[i]:null}))]}}))}))}(t)}))},35013:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(36921)),c=n(15797);e.default=new u.default((function(t){return function(t){return i(this,void 0,void 0,(function(){var e,n,a,u=this;return s(this,(function(l){switch(l.label){case 0:return e=(0,c.getFromLocalStorage)("FmpApiKey"),n={},a={},t.forEach((function(t){n[t.symbol]||(n[t.symbol]={});var e=t.quarter?"quarter":"annual";n[t.symbol][e]||(n[t.symbol][e]=[]),n[t.symbol][e].push({year:t.year,quarter:t.quarter})})),[4,r.all(Object.keys(n).map((function(t){return i(u,void 0,void 0,(function(){var u=this;return s(this,(function(c){switch(c.label){case 0:return[4,r.all(Object.keys(n[t]).map((function(r){return i(u,void 0,void 0,(function(){var i,u,c;return s(this,(function(s){switch(s.label){case 0:return i="https://financialmodelingprep.com/api/v3/cash-flow-statement/".concat(t,"?period=").concat(r,"&apikey=").concat(e),[4,fetch(i)];case 1:return(u=s.sent()).ok?[4,u.json()]:[2,null];case 2:return c=s.sent(),n[t][r].forEach((function(e){var n=e.year,r=e.quarter,i=r?"Q".concat(r):"FY",s=c.find((function(t){return t.calendarYear===n.toString()&&t.period===i})),u="".concat(t,"_").concat(n,"_").concat(i);a[u]=o(o({},s),{otherInvestingActivities:s.otherInvestingActivites,netCashUsedForInvestingActivities:s.netCashUsedForInvestingActivites,otherFinancingActivities:s.otherFinancingActivites})})),[2]}}))}))})))];case 1:return c.sent(),[2]}}))}))})))];case 1:return l.sent(),[2,t.map((function(t){var e=t.symbol,n=t.year,r=t.quarter,o=r?"Q".concat(r):"FY",i="".concat(e,"_").concat(n,"_").concat(o);return i?a[i]:null}))]}}))}))}(t)}))},93649:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(36921)),u=n(2543),c=n(15797);e.default=new a.default((function(t){return function(t){return o(this,void 0,void 0,(function(){var e,n,r,o,s,a,l;return i(this,(function(i){switch(i.label){case 0:e=(0,c.getFromLocalStorage)("FmpApiKey"),n=(0,u.uniq)(t).join(","),r="https://financialmodelingprep.com/api/v3/profile/".concat(n,"?apikey=").concat(e),o={},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(r)];case 2:if(!(s=i.sent()).ok)throw new Error("HTTP error! status: ".concat(s.status));return[4,s.json()];case 3:return a=i.sent(),o=(0,u.keyBy)(a,"symbol"),[2,t.map((function(t){return o[t]}))];case 4:return l=i.sent(),console.error("Error fetching company profile data:",l),[3,5];case 5:return[2,t.map((function(t){return o[t]}))]}}))}))}(t)}))},14145:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(36921)),u=n(15797);e.default=new a.default((function(t){return function(t){return o(this,void 0,void 0,(function(){var e,n,s,a=this;return i(this,(function(c){switch(c.label){case 0:return e=(0,u.getFromLocalStorage)("FmpApiKey"),n={},s={},t.forEach((function(t){n[t.symbol]||(n[t.symbol]={});var e=t.quarter?"quarter":"annual";n[t.symbol][e]||(n[t.symbol][e]=[]),n[t.symbol][e].push({year:t.year,quarter:t.quarter})})),[4,r.all(Object.keys(n).map((function(t){return o(a,void 0,void 0,(function(){var a=this;return i(this,(function(u){switch(u.label){case 0:return[4,r.all(Object.keys(n[t]).map((function(r){return o(a,void 0,void 0,(function(){var o,a,u;return i(this,(function(i){switch(i.label){case 0:return o="https://financialmodelingprep.com/api/v3/income-statement/".concat(t,"?period=").concat(r,"&apikey=").concat(e),[4,fetch(o)];case 1:return(a=i.sent()).ok?[4,a.json()]:[2,null];case 2:return u=i.sent(),n[t][r].forEach((function(e){var n=e.year,r=e.quarter,o=r?"Q".concat(r):"FY",i=u.find((function(t){return t.calendarYear===n.toString()&&t.period===o})),a="".concat(t,"_").concat(n,"_").concat(o);s[a]=i})),[2]}}))}))})))];case 1:return u.sent(),[2]}}))}))})))];case 1:return c.sent(),[2,t.map((function(t){var e=t.symbol,n=t.year,r=t.quarter,o=r?"Q".concat(r):"FY",i="".concat(e,"_").concat(n,"_").concat(o);return i?s[i]:null}))]}}))}))}(t)}))},27369:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(36921)),c=n(2543),l=n(15797);e.default=new u.default((function(t){return function(t){return i(this,void 0,void 0,(function(){var e,n,a,u,f=this;return s(this,(function(h){switch(h.label){case 0:return e=(0,l.getFromLocalStorage)("FmpApiKey"),n=(0,c.uniq)(t),[4,r.all(n.map((function(t){return i(f,void 0,void 0,(function(){var n,r,i;return s(this,(function(s){switch(s.label){case 0:return n="https://financialmodelingprep.com/api/v3/key-metrics-ttm/".concat(t,"?apikey=").concat(e),[4,fetch(n)];case 1:return(r=s.sent()).ok?[4,r.json()]:[2,null];case 2:return[2,(i=s.sent()).length>0?o(o({},i[0]),{researchAndDevelopmentToRevenueTTM:i[0].researchAndDevelopementToRevenueTTM}):null]}}))}))})))];case 1:return a=h.sent(),u=(0,c.keyBy)(a,"symbol"),[2,t.map((function(t){return u[t]}))]}}))}))}(t)}))},39933:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(36921)),u=n(2543),c=n(15797);e.default=new a.default((function(t){return function(t){return o(this,void 0,void 0,(function(){var e,n,s,a,l=this;return i(this,(function(f){switch(f.label){case 0:return e=(0,c.getFromLocalStorage)("FmpApiKey"),n=(0,u.uniq)(t),[4,r.all(n.map((function(t){return o(l,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return n="https://financialmodelingprep.com/api/v4/price-target-consensus?symbol=".concat(t,"&apikey=").concat(e),[4,fetch(n)];case 1:return(r=i.sent()).ok?[4,r.json()]:[2,null];case 2:return[2,(o=i.sent()).length>0?o[0]:null]}}))}))})))];case 1:return s=f.sent(),a=(0,u.keyBy)(s,"symbol"),[2,t.map((function(t){return a[t]}))]}}))}))}(t)}))},94285:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(36921)),u=n(2543),c=n(15797);e.default=new a.default((function(t){return function(t){return o(this,void 0,void 0,(function(){var e,n,r,o,s,a,l;return i(this,(function(i){switch(i.label){case 0:e=(0,c.getFromLocalStorage)("FmpApiKey"),n=(0,u.uniq)(t).join(","),r="https://financialmodelingprep.com/api/v3/quote/".concat(n,"?apikey=").concat(e),o={},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(r)];case 2:if(!(s=i.sent()).ok)throw new Error("HTTP error! status: ".concat(s.status));return[4,s.json()];case 3:return a=i.sent(),o=(0,u.keyBy)(a,"symbol"),[2,t.map((function(t){return o[t]}))];case 4:return l=i.sent(),console.error("Error fetching stock data:",l),[3,5];case 5:return[2,t.map((function(t){return o[t]}))]}}))}))}(t)}))},53977:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(36921)),c=n(2543),l=n(15797);e.default=new u.default((function(t){return function(t){return i(this,void 0,void 0,(function(){var e,n,a,u,f=this;return s(this,(function(h){switch(h.label){case 0:return e=(0,l.getFromLocalStorage)("FmpApiKey"),n=(0,c.uniq)(t),[4,r.all(n.map((function(t){return i(f,void 0,void 0,(function(){var n,r,i;return s(this,(function(s){switch(s.label){case 0:return n="https://financialmodelingprep.com/api/v3/ratios-ttm/".concat(t,"?apikey=").concat(e),[4,fetch(n)];case 1:return(r=s.sent()).ok?[4,r.json()]:[2,null];case 2:return[2,(i=s.sent()).length>0?o(o({},i[0]),{dividendYielTTM:i[0].dividendYieldTTM,dividendYielPercentageTTM:i[0].dividendYieldPercentageTTM}):null]}}))}))})))];case 1:return a=h.sent(),u=(0,c.keyBy)(a,"symbol"),[2,t.map((function(t){return u[t]}))]}}))}))}(t)}))},95544:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.screening=f,e.answer=h,e.answerFactual=d;var a=s(n(93649));n(97506);var u=n(32012),c=n(15797);function l(t){return o(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,a.default.load(t)];case 1:if(!(e=n.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(t));return[2,e]}}))}))}function f(t){return o(this,arguments,void 0,(function(t,e){var n,r,o,s,a,l;return void 0===e&&(e=0),i(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!(n=(0,c.getFromLocalStorage)("GPTKey")))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API key not found in settings");return[4,new u.AzureOpenAI({baseURL:"https://apoidea-chatgpt-api.openai.azure.com/openai/deployments/gpt4o-mini-deployment/",apiVersion:"2024-05-01-preview",apiKey:n,deployment:"gpt4o-mini-deployment",dangerouslyAllowBrowser:!0}).chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:'You are a helpful assistant.\nYou must only respond in JSON format that adheres to the following schema:\n{\n"list": list[]\n}\n\n- Based on the query, provide a list of stock codes that is the answer to the query,，丁冐戶吐C\n- for US Stock, the stock code is the ticker symbol\n- for Stock other than US, append the exchange code to the ticker symbol, eg 700.HK\n- If the query is not related to any listed company, put \'NA\' in "list"'},{role:"user",content:"query: ".concat(t)}]})];case 1:if(r=i.sent(),!(o=r.choices[0].message.content))throw new Error("No content in response");return s=JSON.parse(o),a=s.list,0===e?[2,[a]]:[2,a.map((function(t){return[t]}))];case 2:throw l=i.sent(),console.error("Error in SCREENING function:",l),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Error in SCREENING function");case 3:return[2]}}))}))}function h(t,e){return o(this,void 0,void 0,(function(){var n,r,o,s,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,l(t)];case 1:return n=i.sent(),r=JSON.stringify({query:"Company: ".concat(n.companyName,"\nstockcode: ").concat(t,"\nQuery: ").concat(e,"\n Instruction: return the shortest answer possible")}),[4,fetch("https://stockchat-intelligence-service.arbor.news/poc/query/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:r})];case 2:if(!(o=i.sent()).ok)throw new Error("HTTP error! status: ".concat(o.status));return[4,o.json()];case 3:if((s=i.sent()).answer)return[2,s.answer];throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"No answer field in response");case 4:throw a=i.sent(),console.error("Error in ANSWER function:",a),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,a.message);case 5:return[2]}}))}))}function d(t,e){return o(this,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,l(t)];case 1:if(n=i.sent(),!(r=(0,c.getFromLocalStorage)("GPTKey")))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API key not found in settings");return[4,new u.AzureOpenAI({baseURL:"https://apoidea-chatgpt-api.openai.azure.com/openai/deployments/gpt4o-mini-deployment/",apiVersion:"2024-05-01-preview",apiKey:r,deployment:"gpt4o-mini-deployment",dangerouslyAllowBrowser:!0}).chat.completions.create({model:"gpt4o-mini-deployment",messages:[{role:"system",content:'You are a helpful assistant providing factual information about companies. Answer the query concisely with an elliptical response (aka short answer) based on the given company and stock code. Output in JSON: {"answer": string}'},{role:"user",content:"Company: ".concat(n.companyName,"\nStock Code: ").concat(t,"\n Question:").concat(e)}],max_tokens:50,temperature:.9})];case 2:return o=i.sent(),[2,JSON.parse(o.choices[0].message.content.trim()).answer||""];case 3:if(401===i.sent().status)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API Key not valid");throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Unknown error in ANSWER_FACTUAL function");case 4:return[2]}}))}))}CustomFunctions.associate("SCREENING",f),CustomFunctions.associate("ANSWER",h),CustomFunctions.associate("ANSWER_FACTUAL",d)},42825:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.balanceSheet=c,e.balanceSheetCashAndCashEquivalents=l,e.balanceSheetShortTermInvestments=f,e.balanceSheetCashAndShortTermInvestments=h,e.balanceSheetNetReceivables=d,e.balanceSheetInventory=p,e.balanceSheetOtherCurrentAssets=m,e.balanceSheetTotalCurrentAssets=v,e.balanceSheetPropertyPlantEquipmentNet=_,e.balanceSheetGoodwill=T,e.balanceSheetIntangibleAssets=y,e.balanceSheetLongTermInvestments=g,e.balanceSheetTaxAssets=E,e.balanceSheetOtherNonCurrentAssets=b,e.balanceSheetTotalNonCurrentAssets=C,e.balanceSheetOtherAssets=S,e.balanceSheetTotalAssets=w,e.balanceSheetAccountsPayable=A,e.balanceSheetShortTermDebt=O,e.balanceSheetTaxPayables=M,e.balanceSheetDeferredRevenue=R,e.balanceSheetOtherCurrentLiabilities=P,e.balanceSheetTotalCurrentLiabilities=I,e.balanceSheetLongTermDebt=F,e.balanceSheetDeferredRevenueNonCurrent=N,e.balanceSheetDeferredTaxLiabilitiesNonCurrent=x,e.balanceSheetOtherNonCurrentLiabilities=j,e.balanceSheetTotalNonCurrentLiabilities=k,e.balanceSheetOtherLiabilities=D,e.balanceSheetTotalLiabilities=K,e.balanceSheetPreferredStock=L,e.balanceSheetCommonStock=B,e.balanceSheetRetainedEarnings=U,e.balanceSheetAccumulatedOtherComprehensiveIncomeLoss=q,e.balanceSheetOtherTotalStockholdersEquity=H,e.balanceSheetTotalStockholdersEquity=V,e.balanceSheetTotalEquity=Y,e.balanceSheetTotalLiabilitiesAndStockholdersEquity=W,e.balanceSheetMinorityInterest=$,e.balanceSheetTotalLiabilitiesAndTotalEquity=G,e.balanceSheetTotalInvestments=z,e.balanceSheetTotalDebt=Q,e.balanceSheetNetDebt=X;var a=s(n(52470)),u=n(6229);function c(t,e,n){return o(this,arguments,void 0,(function(t,e,n,r){var o,s;return void 0===r&&(r=0),i(this,(function(i){switch(i.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!n)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Year is required");if(!u.BALANCE_SHEET_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load({symbol:e,year:n,quarter:r})];case 1:if(!(o=i.sent()))throw s=r?"Q".concat(r):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(n," ").concat(s));return[2,o[t]]}}))}))}function l(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.CashAndCashEquivalents,t,e,n)]}))}))}function f(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.ShortTermInvestments,t,e,n)]}))}))}function h(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.CashAndShortTermInvestments,t,e,n)]}))}))}function d(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.NetReceivables,t,e,n)]}))}))}function p(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.Inventory,t,e,n)]}))}))}function m(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherCurrentAssets,t,e,n)]}))}))}function v(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalCurrentAssets,t,e,n)]}))}))}function _(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.PropertyPlantEquipmentNet,t,e,n)]}))}))}function T(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.Goodwill,t,e,n)]}))}))}function y(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.IntangibleAssets,t,e,n)]}))}))}function g(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.LongTermInvestments,t,e,n)]}))}))}function E(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TaxAssets,t,e,n)]}))}))}function b(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherNonCurrentAssets,t,e,n)]}))}))}function C(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalNonCurrentAssets,t,e,n)]}))}))}function S(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherAssets,t,e,n)]}))}))}function w(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalAssets,t,e,n)]}))}))}function A(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.AccountsPayable,t,e,n)]}))}))}function O(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.ShortTermDebt,t,e,n)]}))}))}function M(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TaxPayables,t,e,n)]}))}))}function R(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.DeferredRevenue,t,e,n)]}))}))}function P(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherCurrentLiabilities,t,e,n)]}))}))}function I(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalCurrentLiabilities,t,e,n)]}))}))}function F(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.LongTermDebt,t,e,n)]}))}))}function N(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.DeferredRevenueNonCurrent,t,e,n)]}))}))}function x(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.DeferredTaxLiabilitiesNonCurrent,t,e,n)]}))}))}function j(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherNonCurrentLiabilities,t,e,n)]}))}))}function k(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalNonCurrentLiabilities,t,e,n)]}))}))}function D(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherLiabilities,t,e,n)]}))}))}function K(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalLiabilities,t,e,n)]}))}))}function L(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.PreferredStock,t,e,n)]}))}))}function B(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.CommonStock,t,e,n)]}))}))}function U(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.RetainedEarnings,t,e,n)]}))}))}function q(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.AccumulatedOtherComprehensiveIncomeLoss,t,e,n)]}))}))}function H(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.OtherTotalStockholdersEquity,t,e,n)]}))}))}function V(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalStockholdersEquity,t,e,n)]}))}))}function Y(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalEquity,t,e,n)]}))}))}function W(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalLiabilitiesAndStockholdersEquity,t,e,n)]}))}))}function $(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.MinorityInterest,t,e,n)]}))}))}function G(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalLiabilitiesAndTotalEquity,t,e,n)]}))}))}function z(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalInvestments,t,e,n)]}))}))}function Q(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.TotalDebt,t,e,n)]}))}))}function X(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.BalanceSheetKeyEnum.NetDebt,t,e,n)]}))}))}CustomFunctions.associate("BALANCE_SHEET",c),CustomFunctions.associate("BALANCE_SHEET.CASH_AND_CASH_EQUIVALENTS",l),CustomFunctions.associate("BALANCE_SHEET.SHORT_TERM_INVESTMENTS",f),CustomFunctions.associate("BALANCE_SHEET.CASH_AND_SHORT_TERM_INVESTMENTS",h),CustomFunctions.associate("BALANCE_SHEET.NET_RECEIVABLES",d),CustomFunctions.associate("BALANCE_SHEET.INVENTORY",p),CustomFunctions.associate("BALANCE_SHEET.OTHER_CURRENT_ASSETS",m),CustomFunctions.associate("BALANCE_SHEET.TOTAL_CURRENT_ASSETS",v),CustomFunctions.associate("BALANCE_SHEET.PROPERTY_PLANT_EQUIPMENT_NET",_),CustomFunctions.associate("BALANCE_SHEET.GOODWILL",T),CustomFunctions.associate("BALANCE_SHEET.INTANGIBLE_ASSETS",y),CustomFunctions.associate("BALANCE_SHEET.LONG_TERM_INVESTMENTS",g),CustomFunctions.associate("BALANCE_SHEET.TAX_ASSETS",E),CustomFunctions.associate("BALANCE_SHEET.OTHER_NON_CURRENT_ASSETS",b),CustomFunctions.associate("BALANCE_SHEET.TOTAL_NON_CURRENT_ASSETS",C),CustomFunctions.associate("BALANCE_SHEET.OTHER_ASSETS",S),CustomFunctions.associate("BALANCE_SHEET.TOTAL_ASSETS",w),CustomFunctions.associate("BALANCE_SHEET.ACCOUNTS_PAYABLE",A),CustomFunctions.associate("BALANCE_SHEET.SHORT_TERM_DEBT",O),CustomFunctions.associate("BALANCE_SHEET.TAX_PAYABLES",M),CustomFunctions.associate("BALANCE_SHEET.DEFERRED_REVENUE",R),CustomFunctions.associate("BALANCE_SHEET.OTHER_CURRENT_LIABILITIES",P),CustomFunctions.associate("BALANCE_SHEET.TOTAL_CURRENT_LIABILITIES",I),CustomFunctions.associate("BALANCE_SHEET.LONG_TERM_DEBT",F),CustomFunctions.associate("BALANCE_SHEET.DEFERRED_REVENUE_NON_CURRENT",N),CustomFunctions.associate("BALANCE_SHEET.DEFERRED_TAX_LIABILITIES_NON_CURRENT",x),CustomFunctions.associate("BALANCE_SHEET.OTHER_NON_CURRENT_LIABILITIES",j),CustomFunctions.associate("BALANCE_SHEET.TOTAL_NON_CURRENT_LIABILITIES",k),CustomFunctions.associate("BALANCE_SHEET.OTHER_LIABILITIES",D),CustomFunctions.associate("BALANCE_SHEET.TOTAL_LIABILITIES",K),CustomFunctions.associate("BALANCE_SHEET.PREFERRED_STOCK",L),CustomFunctions.associate("BALANCE_SHEET.COMMON_STOCK",B),CustomFunctions.associate("BALANCE_SHEET.RETAINED_EARNINGS",U),CustomFunctions.associate("BALANCE_SHEET.ACCUMULATED_OTHER_COMPREHENSIVE_INCOME_LOSS",q),CustomFunctions.associate("BALANCE_SHEET.OTHER_TOTAL_STOCKHOLDERS_EQUITY",H),CustomFunctions.associate("BALANCE_SHEET.TOTAL_STOCKHOLDERS_EQUITY",V),CustomFunctions.associate("BALANCE_SHEET.TOTAL_EQUITY",Y),CustomFunctions.associate("BALANCE_SHEET.TOTAL_LIABILITIES_AND_STOCKHOLDERS_EQUITY",W),CustomFunctions.associate("BALANCE_SHEET.MINORITY_INTEREST",$),CustomFunctions.associate("BALANCE_SHEET.TOTAL_LIABILITIES_AND_TOTAL_EQUITY",G),CustomFunctions.associate("BALANCE_SHEET.TOTAL_INVESTMENTS",z),CustomFunctions.associate("BALANCE_SHEET.TOTAL_DEBT",Q),CustomFunctions.associate("BALANCE_SHEET.NET_DEBT",X)},8376:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.cashFlowStatement=c,e.cashFlowStatementNetIncome=l,e.cashFlowStatementDepreciationAndAmortization=f,e.cashFlowStatementDeferredIncomeTax=h,e.cashFlowStatementStockBasedCompensation=d,e.cashFlowStatementChangeInWorkingCapital=p,e.cashFlowStatementAccountsReceivables=m,e.cashFlowStatementInventory=v,e.cashFlowStatementAccountsPayables=_,e.cashFlowStatementOtherWorkingCapital=T,e.cashFlowStatementOtherNonCashItems=y,e.cashFlowStatementNetCashProvidedByOperatingActivities=g,e.cashFlowStatementInvestmentsInPropertyPlantAndEquipment=E,e.cashFlowStatementAcquisitionsNet=b,e.cashFlowStatementPurchasesOfInvestments=C,e.cashFlowStatementSalesMaturitiesOfInvestments=S,e.cashFlowStatementOtherInvestingActivities=w,e.cashFlowStatementNetCashUsedForInvestingActivities=A,e.cashFlowStatementDebtRepayment=O,e.cashFlowStatementCommonStockIssued=M,e.cashFlowStatementCommonStockRepurchased=R,e.cashFlowStatementDividendsPaid=P,e.cashFlowStatementOtherFinancingActivities=I,e.cashFlowStatementNetCashUsedProvidedByFinancingActivities=F,e.cashFlowStatementEffectOfForexChangesOnCash=N,e.cashFlowStatementNetChangeInCash=x,e.cashFlowStatementCashAtEndOfPeriod=j,e.cashFlowStatementCashAtBeginningOfPeriod=k,e.cashFlowStatementOperatingCashFlow=D,e.cashFlowStatementCapitalExpenditure=K,e.cashFlowStatementFreeCashFlow=L;var a=s(n(35013)),u=n(6229);function c(t,e,n){return o(this,arguments,void 0,(function(t,e,n,r){var o,s;return void 0===r&&(r=0),i(this,(function(i){switch(i.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!n)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Year is required");if(!u.CASH_FLOW_STATEMENT_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load({symbol:e,year:n,quarter:r})];case 1:if(!(o=i.sent()))throw s=r?"Q".concat(r):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(n," ").concat(s));return[2,o[t]]}}))}))}function l(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.NetIncome,t,e,n)]}))}))}function f(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.DepreciationAndAmortization,t,e,n)]}))}))}function h(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.DeferredIncomeTax,t,e,n)]}))}))}function d(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.StockBasedCompensation,t,e,n)]}))}))}function p(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.ChangeInWorkingCapital,t,e,n)]}))}))}function m(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.AccountsReceivables,t,e,n)]}))}))}function v(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.Inventory,t,e,n)]}))}))}function _(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.AccountsPayables,t,e,n)]}))}))}function T(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.OtherWorkingCapital,t,e,n)]}))}))}function y(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.OtherNonCashItems,t,e,n)]}))}))}function g(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.NetCashProvidedByOperatingActivities,t,e,n)]}))}))}function E(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.InvestmentsInPropertyPlantAndEquipment,t,e,n)]}))}))}function b(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.AcquisitionsNet,t,e,n)]}))}))}function C(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.PurchasesOfInvestments,t,e,n)]}))}))}function S(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.SalesMaturitiesOfInvestments,t,e,n)]}))}))}function w(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.OtherInvestingActivities,t,e,n)]}))}))}function A(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.netCashUsedForInvestingActivities,t,e,n)]}))}))}function O(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.DebtRepayment,t,e,n)]}))}))}function M(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.CommonStockIssued,t,e,n)]}))}))}function R(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.CommonStockRepurchased,t,e,n)]}))}))}function P(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.DividendsPaid,t,e,n)]}))}))}function I(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.otherFinancingActivities,t,e,n)]}))}))}function F(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.NetCashUsedProvidedByFinancingActivities,t,e,n)]}))}))}function N(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.EffectOfForexChangesOnCash,t,e,n)]}))}))}function x(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.NetChangeInCash,t,e,n)]}))}))}function j(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.CashAtEndOfPeriod,t,e,n)]}))}))}function k(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.CashAtBeginningOfPeriod,t,e,n)]}))}))}function D(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.OperatingCashFlow,t,e,n)]}))}))}function K(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.CapitalExpenditure,t,e,n)]}))}))}function L(t,e){return o(this,arguments,void 0,(function(t,e,n){return void 0===n&&(n=0),i(this,(function(r){return[2,c(u.CashFlowStatementKeyEnum.FreeCashFlow,t,e,n)]}))}))}CustomFunctions.associate("CASH_FLOW_STATEMENT",c),CustomFunctions.associate("CASH_FLOW_STATEMENT.NET_INCOME",l),CustomFunctions.associate("CASH_FLOW_STATEMENT.DEPRECIATION_AND_AMORTIZATION",f),CustomFunctions.associate("CASH_FLOW_STATEMENT.DEFERRED_INCOME_TAX",h),CustomFunctions.associate("CASH_FLOW_STATEMENT.STOCK_BASED_COMPENSATION",d),CustomFunctions.associate("CASH_FLOW_STATEMENT.CHANGE_IN_WORKING_CAPITAL",p),CustomFunctions.associate("CASH_FLOW_STATEMENT.ACCOUNTS_RECEIVABLES",m),CustomFunctions.associate("CASH_FLOW_STATEMENT.INVENTORY",v),CustomFunctions.associate("CASH_FLOW_STATEMENT.ACCOUNTS_PAYABLES",_),CustomFunctions.associate("CASH_FLOW_STATEMENT.OTHER_WORKING_CAPITAL",T),CustomFunctions.associate("CASH_FLOW_STATEMENT.OTHER_NON_CASH_ITEMS",y),CustomFunctions.associate("CASH_FLOW_STATEMENT.NET_CASH_PROVIDED_BY_OPERATING_ACTIVITIES",g),CustomFunctions.associate("CASH_FLOW_STATEMENT.INVESTMENTS_IN_PROPERTY_PLANT_AND_EQUIPMENT",E),CustomFunctions.associate("CASH_FLOW_STATEMENT.ACQUISITIONS_NET",b),CustomFunctions.associate("CASH_FLOW_STATEMENT.PURCHASES_OF_INVESTMENTS",C),CustomFunctions.associate("CASH_FLOW_STATEMENT.SALES_MATURITIES_OF_INVESTMENTS",S),CustomFunctions.associate("CASH_FLOW_STATEMENT.OTHER_INVESTING_ACTIVITIES",w),CustomFunctions.associate("CASH_FLOW_STATEMENT.NET_CASH_USED_FOR_INVESTING_ACTIVITIES",A),CustomFunctions.associate("CASH_FLOW_STATEMENT.DEBT_REPAYMENT",O),CustomFunctions.associate("CASH_FLOW_STATEMENT.COMMON_STOCK_ISSUED",M),CustomFunctions.associate("CASH_FLOW_STATEMENT.COMMON_STOCK_REPURCHASED",R),CustomFunctions.associate("CASH_FLOW_STATEMENT.DIVIDENDS_PAID",P),CustomFunctions.associate("CASH_FLOW_STATEMENT.OTHER_FINANCING_ACTIVITIES",I),CustomFunctions.associate("CASH_FLOW_STATEMENT.NET_CASH_USED_PROVIDED_BY_FINANCING_ACTIVITIES",F),CustomFunctions.associate("CASH_FLOW_STATEMENT.EFFECT_OF_FOREX_CHANGES_ON_CASH",N),CustomFunctions.associate("CASH_FLOW_STATEMENT.NET_CHANGE_IN_CASH",x),CustomFunctions.associate("CASH_FLOW_STATEMENT.CASH_AT_END_OF_PERIOD",j),CustomFunctions.associate("CASH_FLOW_STATEMENT.CASH_AT_BEGINNING_OF_PERIOD",k),CustomFunctions.associate("CASH_FLOW_STATEMENT.OPERATING_CASH_FLOW",D),CustomFunctions.associate("CASH_FLOW_STATEMENT.CAPITAL_EXPENDITURE",K),CustomFunctions.associate("CASH_FLOW_STATEMENT.FREE_CASH_FLOW",L)},9546:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.companyProfile=c,e.companyProfileCompanyName=l,e.companyProfileCurrency=f,e.companyProfileExchange=h,e.companyProfileExchangeShortName=d,e.companyProfileIndustry=p,e.companyProfileWebsite=m,e.companyProfileDescription=v,e.companyProfileCEO=_,e.companyProfileSector=T,e.companyProfileCountry=y,e.companyProfileFullTimeEmployees=g,e.companyProfilePhone=E,e.companyProfileAddress=b,e.companyProfileCity=C,e.companyProfileState=S,e.companyProfileZip=w,e.companyProfileIpoDate=A;var a=s(n(93649)),u=n(6229);function c(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!u.COMPANY_PROFILE_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load(e)];case 1:if(!(n=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Stock symbol not found: ".concat(e));return[2,n[t]]}}))}))}function l(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.CompanyName,t)]}))}))}function f(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Currency,t)]}))}))}function h(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Exchange,t)]}))}))}function d(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.ExchangeShortName,t)]}))}))}function p(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Industry,t)]}))}))}function m(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Website,t)]}))}))}function v(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Description,t)]}))}))}function _(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.CEO,t)]}))}))}function T(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Sector,t)]}))}))}function y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Country,t)]}))}))}function g(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.FullTimeEmployees,t)]}))}))}function E(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Phone,t)]}))}))}function b(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Address,t)]}))}))}function C(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.City,t)]}))}))}function S(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.State,t)]}))}))}function w(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.Zip,t)]}))}))}function A(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.CompanyProfileKeyEnum.IpoDate,t)]}))}))}CustomFunctions.associate("COMPANY_PROFILE",c),CustomFunctions.associate("COMPANY_PROFILE.COMPANY_NAME",l),CustomFunctions.associate("COMPANY_PROFILE.CURRENCY",f),CustomFunctions.associate("COMPANY_PROFILE.EXCHANGE",h),CustomFunctions.associate("COMPANY_PROFILE.EXCHANGE_SHORT_NAME",d),CustomFunctions.associate("COMPANY_PROFILE.INDUSTRY",p),CustomFunctions.associate("COMPANY_PROFILE.WEBSITE",m),CustomFunctions.associate("COMPANY_PROFILE.DESCRIPTION",v),CustomFunctions.associate("COMPANY_PROFILE.CEO",_),CustomFunctions.associate("COMPANY_PROFILE.SECTOR",T),CustomFunctions.associate("COMPANY_PROFILE.COUNTRY",y),CustomFunctions.associate("COMPANY_PROFILE.FULL_TIME_EMPLOYEES",g),CustomFunctions.associate("COMPANY_PROFILE.PHONE",E),CustomFunctions.associate("COMPANY_PROFILE.ADDRESS",b),CustomFunctions.associate("COMPANY_PROFILE.CITY",C),CustomFunctions.associate("COMPANY_PROFILE.STATE",S),CustomFunctions.associate("COMPANY_PROFILE.ZIP",w),CustomFunctions.associate("COMPANY_PROFILE.IPO_DATE",A)},45152:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.incomeStatement=c,e.incomeStatementRevenue=l,e.incomeStatementCostOfRevenue=f,e.incomeStatementGrossProfit=h,e.incomeStatementGrossProfitRatio=d,e.incomeStatementResearchAndDevelopmentExpenses=p,e.incomeStatementSellingGeneralAndAdministrativeExpenses=m,e.incomeStatementOtherExpenses=v,e.incomeStatementOperatingExpenses=_,e.incomeStatementCostAndExpenses=T,e.incomeStatementInterestIncome=y,e.incomeStatementInterestExpense=g,e.incomeStatementDepreciationAndAmortization=E,e.incomeStatementEBITDA=b,e.incomeStatementEBITDARatio=C,e.incomeStatementOperatingIncome=S,e.incomeStatementOperatingIncomeRatio=w,e.incomeStatementTotalOtherIncomeExpensesNet=A,e.incomeStatementIncomeBeforeTax=O,e.incomeStatementIncomeBeforeTaxRatio=M,e.incomeStatementIncomeTaxExpense=R,e.incomeStatementNetIncome=P,e.incomeStatementNetIncomeRatio=I,e.incomeStatementEPS=F,e.incomeStatementEPSDiluted=N,e.incomeStatementWeightedAverageShsOut=x,e.incomeStatementWeightedAverageShsOutDil=j;var a=s(n(14145)),u=n(6229);function c(t,e,n,r){return o(this,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:if(!u.INCOME_STATEMENT_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));if(r&&(r<0||r>4))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid quarter: ".concat(r));return[4,a.default.load({symbol:e,year:n,quarter:r})];case 1:if(!(o=i.sent()))throw s=r?"Q".concat(r):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(n," ").concat(s));return[2,o[t]]}}))}))}function l(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.Revenue,t,e,n)]}))}))}function f(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.CostOfRevenue,t,e,n)]}))}))}function h(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.GrossProfit,t,e,n)]}))}))}function d(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.GrossProfitRatio,t,e,n)]}))}))}function p(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.ResearchAndDevelopmentExpenses,t,e,n)]}))}))}function m(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.SellingGeneralAndAdministrativeExpenses,t,e,n)]}))}))}function v(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.OtherExpenses,t,e,n)]}))}))}function _(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.OperatingExpenses,t,e,n)]}))}))}function T(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.CostAndExpenses,t,e,n)]}))}))}function y(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.InterestIncome,t,e,n)]}))}))}function g(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.InterestExpense,t,e,n)]}))}))}function E(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.DepreciationAndAmortization,t,e,n)]}))}))}function b(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.EBITDA,t,e,n)]}))}))}function C(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.EBITDARatio,t,e,n)]}))}))}function S(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.OperatingIncome,t,e,n)]}))}))}function w(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.OperatingIncomeRatio,t,e,n)]}))}))}function A(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.TotalOtherIncomeExpensesNet,t,e,n)]}))}))}function O(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.IncomeBeforeTax,t,e,n)]}))}))}function M(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.IncomeBeforeTaxRatio,t,e,n)]}))}))}function R(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.IncomeTaxExpense,t,e,n)]}))}))}function P(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.NetIncome,t,e,n)]}))}))}function I(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.NetIncomeRatio,t,e,n)]}))}))}function F(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.EPS,t,e,n)]}))}))}function N(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.Epsdiluted,t,e,n)]}))}))}function x(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.WeightedAverageShsOut,t,e,n)]}))}))}function j(t,e,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,c(u.IncomeStatementKeyEnum.WeightedAverageShsOutDil,t,e,n)]}))}))}CustomFunctions.associate("INCOME_STATEMENT",c),CustomFunctions.associate("INCOME_STATEMENT.REVENUE",l),CustomFunctions.associate("INCOME_STATEMENT.COST_OF_REVENUE",f),CustomFunctions.associate("INCOME_STATEMENT.GROSS_PROFIT",h),CustomFunctions.associate("INCOME_STATEMENT.GROSS_PROFIT_RATIO",d),CustomFunctions.associate("INCOME_STATEMENT.RESEARCH_AND_DEVELOPMENT_EXPENSES",p),CustomFunctions.associate("INCOME_STATEMENT.SELLING_GENERAL_AND_ADMINISTRATIVE_EXPENSES",m),CustomFunctions.associate("INCOME_STATEMENT.OTHER_EXPENSES",v),CustomFunctions.associate("INCOME_STATEMENT.OPERATING_EXPENSES",_),CustomFunctions.associate("INCOME_STATEMENT.COST_AND_EXPENSES",T),CustomFunctions.associate("INCOME_STATEMENT.INTEREST_INCOME",y),CustomFunctions.associate("INCOME_STATEMENT.INTEREST_EXPENSE",g),CustomFunctions.associate("INCOME_STATEMENT.DEPRECIATION_AND_AMORTIZATION",E),CustomFunctions.associate("INCOME_STATEMENT.EBITDA",b),CustomFunctions.associate("INCOME_STATEMENT.EBITDA_RATIO",C),CustomFunctions.associate("INCOME_STATEMENT.OPERATING_INCOME",S),CustomFunctions.associate("INCOME_STATEMENT.OPERATING_INCOME_RATIO",w),CustomFunctions.associate("INCOME_STATEMENT.TOTAL_OTHER_INCOME_EXPENSES_NET",A),CustomFunctions.associate("INCOME_STATEMENT.INCOME_BEFORE_TAX",O),CustomFunctions.associate("INCOME_STATEMENT.INCOME_BEFORE_TAX_RATIO",M),CustomFunctions.associate("INCOME_STATEMENT.INCOME_TAX_EXPENSE",R),CustomFunctions.associate("INCOME_STATEMENT.NET_INCOME",P),CustomFunctions.associate("INCOME_STATEMENT.NET_INCOME_RATIO",I),CustomFunctions.associate("INCOME_STATEMENT.EPS",F),CustomFunctions.associate("INCOME_STATEMENT.EPS_DILUTED",N),CustomFunctions.associate("INCOME_STATEMENT.WEIGHTED_AVERAGE_SHS_OUT",x),CustomFunctions.associate("INCOME_STATEMENT.WEIGHTED_AVERAGE_SHS_OUT_DIL",j)},21458:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.keyMetrics=c,e.keyMetricsRevenuePerShareTTM=l,e.keyMetricsNetIncomePerShareTTM=f,e.keyMetricsOperatingCashFlowPerShareTTM=h,e.keyMetricsFreeCashFlowPerShareTTM=d,e.keyMetricsCashPerShareTTM=p,e.keyMetricsBookValuePerShareTTM=m,e.keyMetricsTangibleBookValuePerShareTTM=v,e.keyMetricsShareholdersEquityPerShareTTM=_,e.keyMetricsInterestDebtPerShareTTM=T,e.keyMetricsMarketCapTTM=y,e.keyMetricsEnterpriseValueTTM=g,e.keyMetricsPeRatioTTM=E,e.keyMetricsPriceToSalesRatioTTM=b,e.keyMetricsPocfratioTTM=C,e.keyMetricsPfcfRatioTTM=S,e.keyMetricsPbRatioTTM=w,e.keyMetricsPtbRatioTTM=A,e.keyMetricsEvToSalesTTM=O,e.keyMetricsEnterpriseValueOverEBITDATTM=M,e.keyMetricsEvToOperatingCashFlowTTM=R,e.keyMetricsEvToFreeCashFlowTTM=P,e.keyMetricsEarningsYieldTTM=I,e.keyMetricsFreeCashFlowYieldTTM=F,e.keyMetricsDebtToEquityTTM=N,e.keyMetricsDebtToAssetsTTM=x,e.keyMetricsNetDebtToEBITDATTM=j,e.keyMetricsCurrentRatioTTM=k,e.keyMetricsInterestCoverageTTM=D,e.keyMetricsIncomeQualityTTM=K,e.keyMetricsDividendYieldTTM=L,e.keyMetricsDividendYieldPercentageTTM=B,e.keyMetricsPayoutRatioTTM=U,e.keyMetricsSalesGeneralAndAdministrativeToRevenueTTM=q,e.keyMetricsResearchAndDevelopmentToRevenueTTM=H,e.keyMetricsIntangiblesToTotalAssetsTTM=V,e.keyMetricsCapexToOperatingCashFlowTTM=Y,e.keyMetricsCapexToRevenueTTM=W,e.keyMetricsCapexToDepreciationTTM=$,e.keyMetricsStockBasedCompensationToRevenueTTM=G,e.keyMetricsGrahamNumberTTM=z,e.keyMetricsRoicTTM=Q,e.keyMetricsReturnOnTangibleAssetsTTM=X,e.keyMetricsGrahamNetNetTTM=J,e.keyMetricsWorkingCapitalTTM=Z,e.keyMetricsTangibleAssetValueTTM=tt,e.keyMetricsNetCurrentAssetValueTTM=et,e.keyMetricsInvestedCapitalTTM=nt,e.keyMetricsAverageReceivablesTTM=rt,e.keyMetricsAveragePayablesTTM=ot,e.keyMetricsAverageInventoryTTM=it,e.keyMetricsDaysSalesOutstandingTTM=st,e.keyMetricsDaysPayablesOutstandingTTM=at,e.keyMetricsDaysOfInventoryOnHandTTM=ut,e.keyMetricsReceivablesTurnoverTTM=ct,e.keyMetricsPayablesTurnoverTTM=lt,e.keyMetricsInventoryTurnoverTTM=ft,e.keyMetricsRoeTTM=ht,e.keyMetricsCapexPerShareTTM=dt,e.keyMetricsDividendPerShareTTM=pt,e.keyMetricsDebtToMarketCapTTM=mt;var a=s(n(27369)),u=n(6229);function c(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!u.KEY_METRICS_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load(e)];case 1:if(!(n=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,n[t]]}}))}))}function l(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.RevenuePerShareTTM,t)]}))}))}function f(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.NetIncomePerShareTTM,t)]}))}))}function h(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.OperatingCashFlowPerShareTTM,t)]}))}))}function d(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.FreeCashFlowPerShareTTM,t)]}))}))}function p(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CashPerShareTTM,t)]}))}))}function m(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.BookValuePerShareTTM,t)]}))}))}function v(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.TangibleBookValuePerShareTTM,t)]}))}))}function _(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.ShareholdersEquityPerShareTTM,t)]}))}))}function T(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.InterestDebtPerShareTTM,t)]}))}))}function y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.MarketCapTTM,t)]}))}))}function g(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EnterpriseValueTTM,t)]}))}))}function E(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PeRatioTTM,t)]}))}))}function b(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PriceToSalesRatioTTM,t)]}))}))}function C(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PocfratioTTM,t)]}))}))}function S(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PfcfRatioTTM,t)]}))}))}function w(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PbRatioTTM,t)]}))}))}function A(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PtbRatioTTM,t)]}))}))}function O(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EvToSalesTTM,t)]}))}))}function M(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EnterpriseValueOverEBITDATTM,t)]}))}))}function R(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EvToOperatingCashFlowTTM,t)]}))}))}function P(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EvToFreeCashFlowTTM,t)]}))}))}function I(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.EarningsYieldTTM,t)]}))}))}function F(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.FreeCashFlowYieldTTM,t)]}))}))}function N(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DebtToEquityTTM,t)]}))}))}function x(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DebtToAssetsTTM,t)]}))}))}function j(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.NetDebtToEBITDATTM,t)]}))}))}function k(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CurrentRatioTTM,t)]}))}))}function D(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.InterestCoverageTTM,t)]}))}))}function K(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.IncomeQualityTTM,t)]}))}))}function L(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DividendYieldTTM,t)]}))}))}function B(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DividendYieldPercentageTTM,t)]}))}))}function U(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PayoutRatioTTM,t)]}))}))}function q(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.SalesGeneralAndAdministrativeToRevenueTTM,t)]}))}))}function H(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.researchAndDevelopmentToRevenueTTM,t)]}))}))}function V(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.IntangiblesToTotalAssetsTTM,t)]}))}))}function Y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CapexToOperatingCashFlowTTM,t)]}))}))}function W(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CapexToRevenueTTM,t)]}))}))}function $(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CapexToDepreciationTTM,t)]}))}))}function G(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.StockBasedCompensationToRevenueTTM,t)]}))}))}function z(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.GrahamNumberTTM,t)]}))}))}function Q(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.RoicTTM,t)]}))}))}function X(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.ReturnOnTangibleAssetsTTM,t)]}))}))}function J(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.GrahamNetNetTTM,t)]}))}))}function Z(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.WorkingCapitalTTM,t)]}))}))}function tt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.TangibleAssetValueTTM,t)]}))}))}function et(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.NetCurrentAssetValueTTM,t)]}))}))}function nt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.InvestedCapitalTTM,t)]}))}))}function rt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.AverageReceivablesTTM,t)]}))}))}function ot(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.AveragePayablesTTM,t)]}))}))}function it(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.AverageInventoryTTM,t)]}))}))}function st(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DaysSalesOutstandingTTM,t)]}))}))}function at(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DaysPayablesOutstandingTTM,t)]}))}))}function ut(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DaysOfInventoryOnHandTTM,t)]}))}))}function ct(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.ReceivablesTurnoverTTM,t)]}))}))}function lt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.PayablesTurnoverTTM,t)]}))}))}function ft(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.InventoryTurnoverTTM,t)]}))}))}function ht(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.RoeTTM,t)]}))}))}function dt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.CapexPerShareTTM,t)]}))}))}function pt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DividendPerShareTTM,t)]}))}))}function mt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.KeyMetricsKeyEnum.DebtToMarketCapTTM,t)]}))}))}CustomFunctions.associate("KEY_METRICS",c),CustomFunctions.associate("KEY_METRICS.REVENUE_PER_SHARE_TTM",l),CustomFunctions.associate("KEY_METRICS.NET_INCOME_PER_SHARE_TTM",f),CustomFunctions.associate("KEY_METRICS.OPERATING_CASH_FLOW_PER_SHARE_TTM",h),CustomFunctions.associate("KEY_METRICS.FREE_CASH_FLOW_PER_SHARE_TTM",d),CustomFunctions.associate("KEY_METRICS.CASH_PER_SHARE_TTM",p),CustomFunctions.associate("KEY_METRICS.BOOK_VALUE_PER_SHARE_TTM",m),CustomFunctions.associate("KEY_METRICS.TANGIBLE_BOOK_VALUE_PER_SHARE_TTM",v),CustomFunctions.associate("KEY_METRICS.SHAREHOLDERS_EQUITY_PER_SHARE_TTM",_),CustomFunctions.associate("KEY_METRICS.INTEREST_DEBT_PER_SHARE_TTM",T),CustomFunctions.associate("KEY_METRICS.MARKET_CAP_TTM",y),CustomFunctions.associate("KEY_METRICS.ENTERPRISE_VALUE_TTM",g),CustomFunctions.associate("KEY_METRICS.PE_RATIO_TTM",E),CustomFunctions.associate("KEY_METRICS.PRICE_TO_SALES_RATIO_TTM",b),CustomFunctions.associate("KEY_METRICS.POCF_RATIO_TTM",C),CustomFunctions.associate("KEY_METRICS.PFCF_RATIO_TTM",S),CustomFunctions.associate("KEY_METRICS.PB_RATIO_TTM",w),CustomFunctions.associate("KEY_METRICS.PTB_RATIO_TTM",A),CustomFunctions.associate("KEY_METRICS.EV_TO_SALES_TTM",O),CustomFunctions.associate("KEY_METRICS.ENTERPRISE_VALUE_OVER_EBITDA_TTM",M),CustomFunctions.associate("KEY_METRICS.EV_TO_OPERATING_CASH_FLOW_TTM",R),CustomFunctions.associate("KEY_METRICS.EV_TO_FREE_CASH_FLOW_TTM",P),CustomFunctions.associate("KEY_METRICS.EARNINGS_YIELD_TTM",I),CustomFunctions.associate("KEY_METRICS.FREE_CASH_FLOW_YIELD_TTM",F),CustomFunctions.associate("KEY_METRICS.DEBT_TO_EQUITY_TTM",N),CustomFunctions.associate("KEY_METRICS.DEBT_TO_ASSETS_TTM",x),CustomFunctions.associate("KEY_METRICS.NET_DEBT_TO_EBITDA_TTM",j),CustomFunctions.associate("KEY_METRICS.CURRENT_RATIO_TTM",k),CustomFunctions.associate("KEY_METRICS.INTEREST_COVERAGE_TTM",D),CustomFunctions.associate("KEY_METRICS.INCOME_QUALITY_TTM",K),CustomFunctions.associate("KEY_METRICS.DIVIDEND_YIELD_TTM",L),CustomFunctions.associate("KEY_METRICS.DIVIDEND_YIELD_PERCENTAGE_TTM",B),CustomFunctions.associate("KEY_METRICS.PAYOUT_RATIO_TTM",U),CustomFunctions.associate("KEY_METRICS.SGA_TO_REVENUE_TTM",q),CustomFunctions.associate("KEY_METRICS.R_AND_D_TO_REVENUE_TTM",H),CustomFunctions.associate("KEY_METRICS.INTANGIBLES_TO_TOTAL_ASSETS_TTM",V),CustomFunctions.associate("KEY_METRICS.CAPEX_TO_OPERATING_CASH_FLOW_TTM",Y),CustomFunctions.associate("KEY_METRICS.CAPEX_TO_REVENUE_TTM",W),CustomFunctions.associate("KEY_METRICS.CAPEX_TO_DEPRECIATION_TTM",$),CustomFunctions.associate("KEY_METRICS.STOCK_BASED_COMPENSATION_TO_REVENUE_TTM",G),CustomFunctions.associate("KEY_METRICS.GRAHAM_NUMBER_TTM",z),CustomFunctions.associate("KEY_METRICS.ROIC_TTM",Q),CustomFunctions.associate("KEY_METRICS.RETURN_ON_TANGIBLE_ASSETS_TTM",X),CustomFunctions.associate("KEY_METRICS.GRAHAM_NET_NET_TTM",J),CustomFunctions.associate("KEY_METRICS.WORKING_CAPITAL_TTM",Z),CustomFunctions.associate("KEY_METRICS.TANGIBLE_ASSET_VALUE_TTM",tt),CustomFunctions.associate("KEY_METRICS.NET_CURRENT_ASSET_VALUE_TTM",et),CustomFunctions.associate("KEY_METRICS.INVESTED_CAPITAL_TTM",nt),CustomFunctions.associate("KEY_METRICS.AVERAGE_RECEIVABLES_TTM",rt),CustomFunctions.associate("KEY_METRICS.AVERAGE_PAYABLES_TTM",ot),CustomFunctions.associate("KEY_METRICS.AVERAGE_INVENTORY_TTM",it),CustomFunctions.associate("KEY_METRICS.DAYS_SALES_OUTSTANDING_TTM",st),CustomFunctions.associate("KEY_METRICS.DAYS_PAYABLES_OUTSTANDING_TTM",at),CustomFunctions.associate("KEY_METRICS.DAYS_OF_INVENTORY_ON_HAND_TTM",ut),CustomFunctions.associate("KEY_METRICS.RECEIVABLES_TURNOVER_TTM",ct),CustomFunctions.associate("KEY_METRICS.PAYABLES_TURNOVER_TTM",lt),CustomFunctions.associate("KEY_METRICS.INVENTORY_TURNOVER_TTM",ft),CustomFunctions.associate("KEY_METRICS.ROE_TTM",ht),CustomFunctions.associate("KEY_METRICS.CAPEX_PER_SHARE_TTM",dt),CustomFunctions.associate("KEY_METRICS.DIVIDEND_PER_SHARE_TTM",pt),CustomFunctions.associate("KEY_METRICS.DEBT_TO_MARKET_CAP_TTM",mt)},13761:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.priceTargetConsensus=c,e.priceTargetConsensusTargetHigh=l,e.priceTargetConsensusTargetLow=f,e.priceTargetConsensusTargetConsensus=h,e.priceTargetConsensusTargetMedian=d;var a=s(n(39933)),u=n(6229);function c(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!u.PRICE_TARGET_CONSENSUS_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load(e)];case 1:if(!(n=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,n[t]]}}))}))}function l(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.PriceTargetConsensusKeyEnum.TargetHigh,t)]}))}))}function f(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.PriceTargetConsensusKeyEnum.TargetLow,t)]}))}))}function h(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.PriceTargetConsensusKeyEnum.TargetConsensus,t)]}))}))}function d(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.PriceTargetConsensusKeyEnum.TargetMedian,t)]}))}))}CustomFunctions.associate("PRICE_TARGET_CONSENSUS",c),CustomFunctions.associate("PRICE_TARGET_CONSENSUS.TARGET_HIGH",l),CustomFunctions.associate("PRICE_TARGET_CONSENSUS.TARGET_LOW",f),CustomFunctions.associate("PRICE_TARGET_CONSENSUS.TARGET_CONSENSUS",h),CustomFunctions.associate("PRICE_TARGET_CONSENSUS.TARGET_MEDIAN",d)},84200:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.quote=c,e.quotePrice=l,e.quoteChangesPercentage=f,e.quoteChange=h,e.quoteDayLow=d,e.quoteDayHigh=p,e.quoteYearHigh=m,e.quoteYearLow=v,e.quoteMarketCap=_,e.quotePriceAvg50=T,e.quotePriceAvg200=y,e.quoteExchange=g,e.quoteVolume=E,e.quoteAvgVolume=b,e.quoteOpen=C,e.quotePreviousClose=S,e.quoteEPS=w,e.quotePE=A,e.quoteSharesOutstanding=O;var a=s(n(94285)),u=n(6229);function c(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!u.QUOTE_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load(e)];case 1:if(!(n=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,n[t]]}}))}))}function l(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.Price,t)]}))}))}function f(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.ChangesPercentage,t)]}))}))}function h(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.Change,t)]}))}))}function d(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.DayLow,t)]}))}))}function p(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.DayHigh,t)]}))}))}function m(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.YearHigh,t)]}))}))}function v(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.YearLow,t)]}))}))}function _(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.MarketCap,t)]}))}))}function T(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.PriceAvg50,t)]}))}))}function y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.PriceAvg200,t)]}))}))}function g(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.Exchange,t)]}))}))}function E(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.Volume,t)]}))}))}function b(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.AvgVolume,t)]}))}))}function C(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.Open,t)]}))}))}function S(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.PreviousClose,t)]}))}))}function w(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.EPS,t)]}))}))}function A(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.PE,t)]}))}))}function O(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.QuoteKeyEnum.SharesOutstanding,t)]}))}))}CustomFunctions.associate("QUOTE",c),CustomFunctions.associate("QUOTE.PRICE",l),CustomFunctions.associate("QUOTE.CHANGES_PERCENTAGE",f),CustomFunctions.associate("QUOTE.CHANGE",h),CustomFunctions.associate("QUOTE.DAY_LOW",d),CustomFunctions.associate("QUOTE.DAY_HIGH",p),CustomFunctions.associate("QUOTE.YEAR_HIGH",m),CustomFunctions.associate("QUOTE.YEAR_LOW",v),CustomFunctions.associate("QUOTE.MARKET_CAP",_),CustomFunctions.associate("QUOTE.PRICE_AVG_50",T),CustomFunctions.associate("QUOTE.PRICE_AVG_200",y),CustomFunctions.associate("QUOTE.EXCHANGE",g),CustomFunctions.associate("QUOTE.VOLUME",E),CustomFunctions.associate("QUOTE.AVG_VOLUME",b),CustomFunctions.associate("QUOTE.OPEN",C),CustomFunctions.associate("QUOTE.PREVIOUS_CLOSE",S),CustomFunctions.associate("QUOTE.EPS",w),CustomFunctions.associate("QUOTE.PE",A),CustomFunctions.associate("QUOTE.SHARES_OUTSTANDING",O)},74090:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ratios=c,e.ratiosDividendYieldTTM=l,e.ratiosDividendYieldPercentageTTM=f,e.ratiosPERatioTTM=h,e.ratiosPEGRatioTTM=d,e.ratiosPayoutRatioTTM=p,e.ratiosCurrentRatioTTM=m,e.ratiosQuickRatioTTM=v,e.ratiosCashRatioTTM=_,e.ratiosDaysOfSalesOutstandingTTM=T,e.ratiosDaysOfInventoryOutstandingTTM=y,e.ratiosOperatingCycleTTM=g,e.ratiosDaysOfPayablesOutstandingTTM=E,e.ratiosCashConversionCycleTTM=b,e.ratiosGrossProfitMarginTTM=C,e.ratiosOperatingProfitMarginTTM=S,e.ratiosPretaxProfitMarginTTM=w,e.ratiosNetProfitMarginTTM=A,e.ratiosEffectiveTaxRateTTM=O,e.ratiosReturnOnAssetsTTM=M,e.ratiosReturnOnEquityTTM=R,e.ratiosReturnOnCapitalEmployedTTM=P,e.ratiosNetIncomePerEBTTTM=I,e.ratiosEbtPerEbitTTM=F,e.ratiosEbitPerRevenueTTM=N,e.ratiosDebtRatioTTM=x,e.ratiosDebtEquityRatioTTM=j,e.ratiosLongTermDebtToCapitalizationTTM=k,e.ratiosTotalDebtToCapitalizationTTM=D,e.ratiosInterestCoverageTTM=K,e.ratiosCashFlowToDebtRatioTTM=L,e.ratiosCompanyEquityMultiplierTTM=B,e.ratiosReceivablesTurnoverTTM=U,e.ratiosPayablesTurnoverTTM=q,e.ratiosInventoryTurnoverTTM=H,e.ratiosFixedAssetTurnoverTTM=V,e.ratiosAssetTurnoverTTM=Y,e.ratiosOperatingCashFlowPerShareTTM=W,e.ratiosFreeCashFlowPerShareTTM=$,e.ratiosCashPerShareTTM=G,e.ratiosOperatingCashFlowSalesRatioTTM=z,e.ratiosFreeCashFlowOperatingCashFlowRatioTTM=Q,e.ratiosCashFlowCoverageRatiosTTM=X,e.ratiosShortTermCoverageRatiosTTM=J,e.ratiosCapitalExpenditureCoverageRatioTTM=Z,e.ratiosDividendPaidAndCapexCoverageRatioTTM=tt,e.ratiosPriceBookValueRatioTTM=et,e.ratiosPriceToBookRatioTTM=nt,e.ratiosPriceToSalesRatioTTM=rt,e.ratiosPriceEarningsRatioTTM=ot,e.ratiosPriceToFreeCashFlowsRatioTTM=it,e.ratiosPriceToOperatingCashFlowsRatioTTM=st,e.ratiosPriceCashFlowRatioTTM=at,e.ratiosPriceEarningsToGrowthRatioTTM=ut,e.ratiosPriceSalesRatioTTM=ct,e.ratiosEnterpriseValueMultipleTTM=lt,e.ratiosPriceFairValueTTM=ft,e.ratiosDividendPerShareTTM=ht;var a=s(n(53977)),u=n(6229);function c(t,e){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!u.RATIOS_KEYS.includes(t))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid key: ".concat(t));return[4,a.default.load(e)];case 1:if(!(n=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,n[t]]}}))}))}function l(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DividendYieldTTM,t)]}))}))}function f(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DividendYieldPercentageTTM,t)]}))}))}function h(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PeRatioTTM,t)]}))}))}function d(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PegRatioTTM,t)]}))}))}function p(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PayoutRatioTTM,t)]}))}))}function m(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CurrentRatioTTM,t)]}))}))}function v(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.QuickRatioTTM,t)]}))}))}function _(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CashRatioTTM,t)]}))}))}function T(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DaysOfSalesOutstandingTTM,t)]}))}))}function y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DaysOfInventoryOutstandingTTM,t)]}))}))}function g(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.OperatingCycleTTM,t)]}))}))}function E(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DaysOfPayablesOutstandingTTM,t)]}))}))}function b(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CashConversionCycleTTM,t)]}))}))}function C(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.GrossProfitMarginTTM,t)]}))}))}function S(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.OperatingProfitMarginTTM,t)]}))}))}function w(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PretaxProfitMarginTTM,t)]}))}))}function A(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.NetProfitMarginTTM,t)]}))}))}function O(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.EffectiveTaxRateTTM,t)]}))}))}function M(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.ReturnOnAssetsTTM,t)]}))}))}function R(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.ReturnOnEquityTTM,t)]}))}))}function P(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.ReturnOnCapitalEmployedTTM,t)]}))}))}function I(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.NetIncomePerEBTTTM,t)]}))}))}function F(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.EbtPerEbitTTM,t)]}))}))}function N(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.EbitPerRevenueTTM,t)]}))}))}function x(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DebtRatioTTM,t)]}))}))}function j(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DebtEquityRatioTTM,t)]}))}))}function k(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.LongTermDebtToCapitalizationTTM,t)]}))}))}function D(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.TotalDebtToCapitalizationTTM,t)]}))}))}function K(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.InterestCoverageTTM,t)]}))}))}function L(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CashFlowToDebtRatioTTM,t)]}))}))}function B(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CompanyEquityMultiplierTTM,t)]}))}))}function U(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.ReceivablesTurnoverTTM,t)]}))}))}function q(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PayablesTurnoverTTM,t)]}))}))}function H(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.InventoryTurnoverTTM,t)]}))}))}function V(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.FixedAssetTurnoverTTM,t)]}))}))}function Y(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.AssetTurnoverTTM,t)]}))}))}function W(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.OperatingCashFlowPerShareTTM,t)]}))}))}function $(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.FreeCashFlowPerShareTTM,t)]}))}))}function G(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CashPerShareTTM,t)]}))}))}function z(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.OperatingCashFlowSalesRatioTTM,t)]}))}))}function Q(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.FreeCashFlowOperatingCashFlowRatioTTM,t)]}))}))}function X(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CashFlowCoverageRatiosTTM,t)]}))}))}function J(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.ShortTermCoverageRatiosTTM,t)]}))}))}function Z(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.CapitalExpenditureCoverageRatioTTM,t)]}))}))}function tt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DividendPaidAndCapexCoverageRatioTTM,t)]}))}))}function et(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceBookValueRatioTTM,t)]}))}))}function nt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceToBookRatioTTM,t)]}))}))}function rt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceToSalesRatioTTM,t)]}))}))}function ot(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceEarningsRatioTTM,t)]}))}))}function it(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceToFreeCashFlowsRatioTTM,t)]}))}))}function st(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceToOperatingCashFlowsRatioTTM,t)]}))}))}function at(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceCashFlowRatioTTM,t)]}))}))}function ut(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceEarningsToGrowthRatioTTM,t)]}))}))}function ct(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceSalesRatioTTM,t)]}))}))}function lt(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.EnterpriseValueMultipleTTM,t)]}))}))}function ft(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.PriceFairValueTTM,t)]}))}))}function ht(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c(u.RatiosKeyEnum.DividendPerShareTTM,t)]}))}))}CustomFunctions.associate("RATIOS",c),CustomFunctions.associate("RATIOS.DIVIDEND_YIELD_TTM",l),CustomFunctions.associate("RATIOS.DIVIDEND_YIELD_PERCENTAGE_TTM",f),CustomFunctions.associate("RATIOS.PE_RATIO_TTM",h),CustomFunctions.associate("RATIOS.PEG_RATIO_TTM",d),CustomFunctions.associate("RATIOS.PAYOUT_RATIO_TTM",p),CustomFunctions.associate("RATIOS.CURRENT_RATIO_TTM",m),CustomFunctions.associate("RATIOS.QUICK_RATIO_TTM",v),CustomFunctions.associate("RATIOS.CASH_RATIO_TTM",_),CustomFunctions.associate("RATIOS.DAYS_OF_SALES_OUTSTANDING_TTM",T),CustomFunctions.associate("RATIOS.DAYS_OF_INVENTORY_OUTSTANDING_TTM",y),CustomFunctions.associate("RATIOS.OPERATING_CYCLE_TTM",g),CustomFunctions.associate("RATIOS.DAYS_OF_PAYABLES_OUTSTANDING_TTM",E),CustomFunctions.associate("RATIOS.CASH_CONVERSION_CYCLE_TTM",b),CustomFunctions.associate("RATIOS.GROSS_PROFIT_MARGIN_TTM",C),CustomFunctions.associate("RATIOS.OPERATING_PROFIT_MARGIN_TTM",S),CustomFunctions.associate("RATIOS.PRETAX_PROFIT_MARGIN_TTM",w),CustomFunctions.associate("RATIOS.NET_PROFIT_MARGIN_TTM",A),CustomFunctions.associate("RATIOS.EFFECTIVE_TAX_RATE_TTM",O),CustomFunctions.associate("RATIOS.RETURN_ON_ASSETS_TTM",M),CustomFunctions.associate("RATIOS.RETURN_ON_EQUITY_TTM",R),CustomFunctions.associate("RATIOS.RETURN_ON_CAPITAL_EMPLOYED_TTM",P),CustomFunctions.associate("RATIOS.NET_INCOME_PER_EBT_TTM",I),CustomFunctions.associate("RATIOS.EBT_PER_EBIT_TTM",F),CustomFunctions.associate("RATIOS.EBIT_PER_REVENUE_TTM",N),CustomFunctions.associate("RATIOS.DEBT_RATIO_TTM",x),CustomFunctions.associate("RATIOS.DEBT_EQUITY_RATIO_TTM",j),CustomFunctions.associate("RATIOS.LONG_TERM_DEBT_TO_CAPITALIZATION_TTM",k),CustomFunctions.associate("RATIOS.TOTAL_DEBT_TO_CAPITALIZATION_TTM",D),CustomFunctions.associate("RATIOS.INTEREST_COVERAGE_TTM",K),CustomFunctions.associate("RATIOS.CASH_FLOW_TO_DEBT_RATIO_TTM",L),CustomFunctions.associate("RATIOS.COMPANY_EQUITY_MULTIPLIER_TTM",B),CustomFunctions.associate("RATIOS.RECEIVABLES_TURNOVER_TTM",U),CustomFunctions.associate("RATIOS.PAYABLES_TURNOVER_TTM",q),CustomFunctions.associate("RATIOS.INVENTORY_TURNOVER_TTM",H),CustomFunctions.associate("RATIOS.FIXED_ASSET_TURNOVER_TTM",V),CustomFunctions.associate("RATIOS.ASSET_TURNOVER_TTM",Y),CustomFunctions.associate("RATIOS.OPERATING_CASH_FLOW_PER_SHARE_TTM",W),CustomFunctions.associate("RATIOS.FREE_CASH_FLOW_PER_SHARE_TTM",$),CustomFunctions.associate("RATIOS.CASH_PER_SHARE_TTM",G),CustomFunctions.associate("RATIOS.OPERATING_CASH_FLOW_SALES_RATIO_TTM",z),CustomFunctions.associate("RATIOS.FREE_CASH_FLOW_OPERATING_CASH_FLOW_RATIO_TTM",Q),CustomFunctions.associate("RATIOS.CASH_FLOW_COVERAGE_RATIOS_TTM",X),CustomFunctions.associate("RATIOS.SHORT_TERM_COVERAGE_RATIOS_TTM",J),CustomFunctions.associate("RATIOS.CAPITAL_EXPENDITURE_COVERAGE_RATIO_TTM",Z),CustomFunctions.associate("RATIOS.DIVIDEND_PAID_AND_CAPEX_COVERAGE_RATIO_TTM",tt),CustomFunctions.associate("RATIOS.PRICE_BOOK_VALUE_RATIO_TTM",et),CustomFunctions.associate("RATIOS.PRICE_TO_BOOK_RATIO_TTM",nt),CustomFunctions.associate("RATIOS.PRICE_TO_SALES_RATIO_TTM",rt),CustomFunctions.associate("RATIOS.PRICE_EARNINGS_RATIO_TTM",ot),CustomFunctions.associate("RATIOS.PRICE_TO_FREE_CASH_FLOWS_RATIO_TTM",it),CustomFunctions.associate("RATIOS.PRICE_TO_OPERATING_CASH_FLOWS_RATIO_TTM",st),CustomFunctions.associate("RATIOS.PRICE_CASH_FLOW_RATIO_TTM",at),CustomFunctions.associate("RATIOS.PRICE_EARNINGS_TO_GROWTH_RATIO_TTM",ut),CustomFunctions.associate("RATIOS.PRICE_SALES_RATIO_TTM",ct),CustomFunctions.associate("RATIOS.ENTERPRISE_VALUE_MULTIPLE_TTM",lt),CustomFunctions.associate("RATIOS.PRICE_FAIR_VALUE_TTM",ft),CustomFunctions.associate("RATIOS.DIVIDEND_PER_SHARE_TTM",ht)},6229:function(t,e){"use strict";var n,r,o,i,s,a,u,c;Object.defineProperty(e,"__esModule",{value:!0}),e.COMPANY_PROFILE_KEYS=e.CompanyProfileKeyEnum=e.PRICE_TARGET_CONSENSUS_KEYS=e.PriceTargetConsensusKeyEnum=e.RATIOS_KEYS=e.RatiosKeyEnum=e.KEY_METRICS_KEYS=e.KeyMetricsKeyEnum=e.CASH_FLOW_STATEMENT_KEYS=e.CashFlowStatementKeyEnum=e.BALANCE_SHEET_KEYS=e.BalanceSheetKeyEnum=e.INCOME_STATEMENT_KEYS=e.IncomeStatementKeyEnum=e.QUOTE_KEYS=e.QuoteKeyEnum=void 0,function(t){t.Price="price",t.ChangesPercentage="changesPercentage",t.Change="change",t.DayLow="dayLow",t.DayHigh="dayHigh",t.YearHigh="yearHigh",t.YearLow="yearLow",t.MarketCap="marketCap",t.PriceAvg50="priceAvg50",t.PriceAvg200="priceAvg200",t.Exchange="exchange",t.Volume="volume",t.AvgVolume="avgVolume",t.Open="open",t.PreviousClose="previousClose",t.EPS="eps",t.PE="pe",t.SharesOutstanding="sharesOutstanding"}(n||(e.QuoteKeyEnum=n={})),e.QUOTE_KEYS=Object.values(n),function(t){t.Revenue="revenue",t.CostOfRevenue="costOfRevenue",t.GrossProfit="grossProfit",t.GrossProfitRatio="grossProfitRatio",t.ResearchAndDevelopmentExpenses="researchAndDevelopmentExpenses",t.SellingGeneralAndAdministrativeExpenses="sellingGeneralAndAdministrativeExpenses",t.OtherExpenses="otherExpenses",t.OperatingExpenses="operatingExpenses",t.CostAndExpenses="costAndExpenses",t.InterestIncome="interestIncome",t.InterestExpense="interestExpense",t.DepreciationAndAmortization="depreciationAndAmortization",t.EBITDA="ebitda",t.EBITDARatio="ebitdaratio",t.OperatingIncome="operatingIncome",t.OperatingIncomeRatio="operatingIncomeRatio",t.TotalOtherIncomeExpensesNet="totalOtherIncomeExpensesNet",t.IncomeBeforeTax="incomeBeforeTax",t.IncomeBeforeTaxRatio="incomeBeforeTaxRatio",t.IncomeTaxExpense="incomeTaxExpense",t.NetIncome="netIncome",t.NetIncomeRatio="netIncomeRatio",t.EPS="eps",t.Epsdiluted="epsdiluted",t.WeightedAverageShsOut="weightedAverageShsOut",t.WeightedAverageShsOutDil="weightedAverageShsOutDil"}(r||(e.IncomeStatementKeyEnum=r={})),e.INCOME_STATEMENT_KEYS=Object.values(r),function(t){t.CashAndCashEquivalents="cashAndCashEquivalents",t.ShortTermInvestments="shortTermInvestments",t.CashAndShortTermInvestments="cashAndShortTermInvestments",t.NetReceivables="netReceivables",t.Inventory="inventory",t.OtherCurrentAssets="otherCurrentAssets",t.TotalCurrentAssets="totalCurrentAssets",t.PropertyPlantEquipmentNet="propertyPlantEquipmentNet",t.Goodwill="goodwill",t.IntangibleAssets="intangibleAssets",t.LongTermInvestments="longTermInvestments",t.TaxAssets="taxAssets",t.OtherNonCurrentAssets="otherNonCurrentAssets",t.TotalNonCurrentAssets="totalNonCurrentAssets",t.OtherAssets="otherAssets",t.TotalAssets="totalAssets",t.AccountsPayable="accountsPayable",t.ShortTermDebt="shortTermDebt",t.TaxPayables="taxPayables",t.DeferredRevenue="deferredRevenue",t.OtherCurrentLiabilities="otherCurrentLiabilities",t.TotalCurrentLiabilities="totalCurrentLiabilities",t.LongTermDebt="longTermDebt",t.DeferredRevenueNonCurrent="deferredRevenueNonCurrent",t.DeferredTaxLiabilitiesNonCurrent="deferredTaxLiabilitiesNonCurrent",t.OtherNonCurrentLiabilities="otherNonCurrentLiabilities",t.TotalNonCurrentLiabilities="totalNonCurrentLiabilities",t.OtherLiabilities="otherLiabilities",t.TotalLiabilities="totalLiabilities",t.PreferredStock="preferredStock",t.CommonStock="commonStock",t.RetainedEarnings="retainedEarnings",t.AccumulatedOtherComprehensiveIncomeLoss="accumulatedOtherComprehensiveIncomeLoss",t.OtherTotalStockholdersEquity="otherTotalStockholdersEquity",t.TotalStockholdersEquity="totalStockholdersEquity",t.TotalEquity="totalEquity",t.TotalLiabilitiesAndStockholdersEquity="totalLiabilitiesAndStockholdersEquity",t.MinorityInterest="minorityInterest",t.TotalLiabilitiesAndTotalEquity="totalLiabilitiesAndTotalEquity",t.TotalInvestments="totalInvestments",t.TotalDebt="totalDebt",t.NetDebt="netDebt"}(o||(e.BalanceSheetKeyEnum=o={})),e.BALANCE_SHEET_KEYS=Object.values(o),function(t){t.NetIncome="netIncome",t.DepreciationAndAmortization="depreciationAndAmortization",t.DeferredIncomeTax="deferredIncomeTax",t.StockBasedCompensation="stockBasedCompensation",t.ChangeInWorkingCapital="changeInWorkingCapital",t.AccountsReceivables="accountsReceivables",t.Inventory="inventory",t.AccountsPayables="accountsPayables",t.OtherWorkingCapital="otherWorkingCapital",t.OtherNonCashItems="otherNonCashItems",t.NetCashProvidedByOperatingActivities="netCashProvidedByOperatingActivities",t.InvestmentsInPropertyPlantAndEquipment="investmentsInPropertyPlantAndEquipment",t.AcquisitionsNet="acquisitionsNet",t.PurchasesOfInvestments="purchasesOfInvestments",t.SalesMaturitiesOfInvestments="salesMaturitiesOfInvestments",t.OtherInvestingActivities="otherInvestingActivities",t.netCashUsedForInvestingActivities="netCashUsedForInvestingActivities",t.DebtRepayment="debtRepayment",t.CommonStockIssued="commonStockIssued",t.CommonStockRepurchased="commonStockRepurchased",t.DividendsPaid="dividendsPaid",t.otherFinancingActivities="otherFinancingActivities",t.NetCashUsedProvidedByFinancingActivities="netCashUsedProvidedByFinancingActivities",t.EffectOfForexChangesOnCash="effectOfForexChangesOnCash",t.NetChangeInCash="netChangeInCash",t.CashAtEndOfPeriod="cashAtEndOfPeriod",t.CashAtBeginningOfPeriod="cashAtBeginningOfPeriod",t.OperatingCashFlow="operatingCashFlow",t.CapitalExpenditure="capitalExpenditure",t.FreeCashFlow="freeCashFlow"}(i||(e.CashFlowStatementKeyEnum=i={})),e.CASH_FLOW_STATEMENT_KEYS=Object.values(i),function(t){t.RevenuePerShareTTM="revenuePerShareTTM",t.NetIncomePerShareTTM="netIncomePerShareTTM",t.OperatingCashFlowPerShareTTM="operatingCashFlowPerShareTTM",t.FreeCashFlowPerShareTTM="freeCashFlowPerShareTTM",t.CashPerShareTTM="cashPerShareTTM",t.BookValuePerShareTTM="bookValuePerShareTTM",t.TangibleBookValuePerShareTTM="tangibleBookValuePerShareTTM",t.ShareholdersEquityPerShareTTM="shareholdersEquityPerShareTTM",t.InterestDebtPerShareTTM="interestDebtPerShareTTM",t.MarketCapTTM="marketCapTTM",t.EnterpriseValueTTM="enterpriseValueTTM",t.PeRatioTTM="peRatioTTM",t.PriceToSalesRatioTTM="priceToSalesRatioTTM",t.PocfratioTTM="pocfratioTTM",t.PfcfRatioTTM="pfcfRatioTTM",t.PbRatioTTM="pbRatioTTM",t.PtbRatioTTM="ptbRatioTTM",t.EvToSalesTTM="evToSalesTTM",t.EnterpriseValueOverEBITDATTM="enterpriseValueOverEBITDATTM",t.EvToOperatingCashFlowTTM="evToOperatingCashFlowTTM",t.EvToFreeCashFlowTTM="evToFreeCashFlowTTM",t.EarningsYieldTTM="earningsYieldTTM",t.FreeCashFlowYieldTTM="freeCashFlowYieldTTM",t.DebtToEquityTTM="debtToEquityTTM",t.DebtToAssetsTTM="debtToAssetsTTM",t.NetDebtToEBITDATTM="netDebtToEBITDATTM",t.CurrentRatioTTM="currentRatioTTM",t.InterestCoverageTTM="interestCoverageTTM",t.IncomeQualityTTM="incomeQualityTTM",t.DividendYieldTTM="dividendYieldTTM",t.DividendYieldPercentageTTM="dividendYieldPercentageTTM",t.PayoutRatioTTM="payoutRatioTTM",t.SalesGeneralAndAdministrativeToRevenueTTM="salesGeneralAndAdministrativeToRevenueTTM",t.researchAndDevelopmentToRevenueTTM="researchAndDevelopmentToRevenueTTM",t.IntangiblesToTotalAssetsTTM="intangiblesToTotalAssetsTTM",t.CapexToOperatingCashFlowTTM="capexToOperatingCashFlowTTM",t.CapexToRevenueTTM="capexToRevenueTTM",t.CapexToDepreciationTTM="capexToDepreciationTTM",t.StockBasedCompensationToRevenueTTM="stockBasedCompensationToRevenueTTM",t.GrahamNumberTTM="grahamNumberTTM",t.RoicTTM="roicTTM",t.ReturnOnTangibleAssetsTTM="returnOnTangibleAssetsTTM",t.GrahamNetNetTTM="grahamNetNetTTM",t.WorkingCapitalTTM="workingCapitalTTM",t.TangibleAssetValueTTM="tangibleAssetValueTTM",t.NetCurrentAssetValueTTM="netCurrentAssetValueTTM",t.InvestedCapitalTTM="investedCapitalTTM",t.AverageReceivablesTTM="averageReceivablesTTM",t.AveragePayablesTTM="averagePayablesTTM",t.AverageInventoryTTM="averageInventoryTTM",t.DaysSalesOutstandingTTM="daysSalesOutstandingTTM",t.DaysPayablesOutstandingTTM="daysPayablesOutstandingTTM",t.DaysOfInventoryOnHandTTM="daysOfInventoryOnHandTTM",t.ReceivablesTurnoverTTM="receivablesTurnoverTTM",t.PayablesTurnoverTTM="payablesTurnoverTTM",t.InventoryTurnoverTTM="inventoryTurnoverTTM",t.RoeTTM="roeTTM",t.CapexPerShareTTM="capexPerShareTTM",t.DividendPerShareTTM="dividendPerShareTTM",t.DebtToMarketCapTTM="debtToMarketCapTTM"}(s||(e.KeyMetricsKeyEnum=s={})),e.KEY_METRICS_KEYS=Object.values(s),function(t){t.DividendYieldTTM="dividendYieldTTM",t.DividendYieldPercentageTTM="dividendYieldPercentageTTM",t.PeRatioTTM="peRatioTTM",t.PegRatioTTM="pegRatioTTM",t.PayoutRatioTTM="payoutRatioTTM",t.CurrentRatioTTM="currentRatioTTM",t.QuickRatioTTM="quickRatioTTM",t.CashRatioTTM="cashRatioTTM",t.DaysOfSalesOutstandingTTM="daysOfSalesOutstandingTTM",t.DaysOfInventoryOutstandingTTM="daysOfInventoryOutstandingTTM",t.OperatingCycleTTM="operatingCycleTTM",t.DaysOfPayablesOutstandingTTM="daysOfPayablesOutstandingTTM",t.CashConversionCycleTTM="cashConversionCycleTTM",t.GrossProfitMarginTTM="grossProfitMarginTTM",t.OperatingProfitMarginTTM="operatingProfitMarginTTM",t.PretaxProfitMarginTTM="pretaxProfitMarginTTM",t.NetProfitMarginTTM="netProfitMarginTTM",t.EffectiveTaxRateTTM="effectiveTaxRateTTM",t.ReturnOnAssetsTTM="returnOnAssetsTTM",t.ReturnOnEquityTTM="returnOnEquityTTM",t.ReturnOnCapitalEmployedTTM="returnOnCapitalEmployedTTM",t.NetIncomePerEBTTTM="netIncomePerEBTTTM",t.EbtPerEbitTTM="ebtPerEbitTTM",t.EbitPerRevenueTTM="ebitPerRevenueTTM",t.DebtRatioTTM="debtRatioTTM",t.DebtEquityRatioTTM="debtEquityRatioTTM",t.LongTermDebtToCapitalizationTTM="longTermDebtToCapitalizationTTM",t.TotalDebtToCapitalizationTTM="totalDebtToCapitalizationTTM",t.InterestCoverageTTM="interestCoverageTTM",t.CashFlowToDebtRatioTTM="cashFlowToDebtRatioTTM",t.CompanyEquityMultiplierTTM="companyEquityMultiplierTTM",t.ReceivablesTurnoverTTM="receivablesTurnoverTTM",t.PayablesTurnoverTTM="payablesTurnoverTTM",t.InventoryTurnoverTTM="inventoryTurnoverTTM",t.FixedAssetTurnoverTTM="fixedAssetTurnoverTTM",t.AssetTurnoverTTM="assetTurnoverTTM",t.OperatingCashFlowPerShareTTM="operatingCashFlowPerShareTTM",t.FreeCashFlowPerShareTTM="freeCashFlowPerShareTTM",t.CashPerShareTTM="cashPerShareTTM",t.OperatingCashFlowSalesRatioTTM="operatingCashFlowSalesRatioTTM",t.FreeCashFlowOperatingCashFlowRatioTTM="freeCashFlowOperatingCashFlowRatioTTM",t.CashFlowCoverageRatiosTTM="cashFlowCoverageRatiosTTM",t.ShortTermCoverageRatiosTTM="shortTermCoverageRatiosTTM",t.CapitalExpenditureCoverageRatioTTM="capitalExpenditureCoverageRatioTTM",t.DividendPaidAndCapexCoverageRatioTTM="dividendPaidAndCapexCoverageRatioTTM",t.PriceBookValueRatioTTM="priceBookValueRatioTTM",t.PriceToBookRatioTTM="priceToBookRatioTTM",t.PriceToSalesRatioTTM="priceToSalesRatioTTM",t.PriceEarningsRatioTTM="priceEarningsRatioTTM",t.PriceToFreeCashFlowsRatioTTM="priceToFreeCashFlowsRatioTTM",t.PriceToOperatingCashFlowsRatioTTM="priceToOperatingCashFlowsRatioTTM",t.PriceCashFlowRatioTTM="priceCashFlowRatioTTM",t.PriceEarningsToGrowthRatioTTM="priceEarningsToGrowthRatioTTM",t.PriceSalesRatioTTM="priceSalesRatioTTM",t.EnterpriseValueMultipleTTM="enterpriseValueMultipleTTM",t.PriceFairValueTTM="priceFairValueTTM",t.DividendPerShareTTM="dividendPerShareTTM"}(a||(e.RatiosKeyEnum=a={})),e.RATIOS_KEYS=Object.values(a),function(t){t.TargetHigh="targetHigh",t.TargetLow="targetLow",t.TargetConsensus="targetConsensus",t.TargetMedian="targetMedian"}(u||(e.PriceTargetConsensusKeyEnum=u={})),e.PRICE_TARGET_CONSENSUS_KEYS=Object.values(u),function(t){t.Symbol="symbol",t.CompanyName="companyName",t.Currency="currency",t.Exchange="exchange",t.ExchangeShortName="exchangeShortName",t.Industry="industry",t.Website="website",t.Description="description",t.CEO="ceo",t.Sector="sector",t.Country="country",t.FullTimeEmployees="fullTimeEmployees",t.Phone="phone",t.Address="address",t.City="city",t.State="state",t.Zip="zip",t.IpoDate="ipoDate"}(c||(e.CompanyProfileKeyEnum=c={})),e.COMPANY_PROFILE_KEYS=Object.values(c)},15797:function(t,e,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=r))((function(r,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.insertText=function(t){return o(this,void 0,void 0,(function(){var e,n=this;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Excel.run((function(e){return o(n,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return n=e.workbook.worksheets.getActiveWorksheet(),(r=n.getRange("A1")).values=[[t]],r.format.autofitColumns(),[4,e.sync()];case 1:return o.sent(),[2]}}))}))}))];case 1:return r.sent(),[3,3];case 2:return e=r.sent(),console.log("Error: "+e),[3,3];case 3:return[2]}}))}))},e.insertCriteria=function(t){return o(this,void 0,void 0,(function(){var e,n=this;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Excel.run((function(e){return o(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return e.workbook.worksheets.getActiveWorksheet().getRange("A1").values=[[t]],[4,e.sync()];case 1:return n.sent(),[2]}}))}))}))];case 1:return r.sent(),[3,3];case 2:return e=r.sent(),console.error("Error inserting criteria:",e),[3,3];case 3:return[2]}}))}))},e.getPasteRange=function(){return o(this,void 0,void 0,(function(){var t,e=this;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,Excel.run((function(t){return o(e,void 0,void 0,(function(){var e,n,r,o;return i(this,(function(i){switch(i.label){case 0:return(e=t.workbook.getSelectedRange()).load("rowCount"),e.load("columnCount"),(n=e.getCell(0,0)).load("address"),[4,t.sync()];case 1:return i.sent(),r=e.columnCount,o=e.rowCount,[2,{address:n.address,direction:1===r||o>1?"down":"right",limit:1===r&&1===o?null:1===r&&o>1?o:r>1&&1===o?r:null}]}}))}))}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("Error getting paste range:",t),[4,Excel.run((function(n){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return n.workbook.worksheets.getActiveWorksheet().getRange("A1").values=[[t.toString()]],[4,n.sync()];case 1:return e.sent(),[2]}}))}))}))];case 3:throw n.sent(),t;case 4:return[2]}}))}))},e.pasteData=function(t,e,n){return o(this,void 0,void 0,(function(){var r,s=this;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,4]),[4,Excel.run((function(r){return o(s,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:return o=r.workbook.worksheets.getActiveWorksheet(),s=o.getRange(t),[4,r.sync()];case 1:return i.sent(),"down"===e||(n=(a=n)[0].map((function(t,e){return a.map((function(t){return t[e]}))}))),s.getResizedRange(n.length-1,n[0].length-1).values=n,[4,r.sync()];case 2:return i.sent(),[2]}var a}))}))}))];case 1:return a.sent(),[3,4];case 2:return r=a.sent(),console.error("Error getting paste range:",r),[4,Excel.run((function(t){return o(s,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t.workbook.worksheets.getActiveWorksheet().getRange("A1").values=[[r.toString()]],[4,t.sync()];case 1:return e.sent(),[2]}}))}))}))];case 3:throw a.sent(),r;case 4:return[2]}}))}))},e.setInLocalStorage=function(t,e){var n=Office.context.partitionKey;n?localStorage.setItem(n+t,e):localStorage.setItem(t,e)},e.getFromLocalStorage=function(t){var e=Office.context.partitionKey;return e?localStorage.getItem(e+t):localStorage.getItem(t)}},36921:function(t,e,n){"use strict";var r,o=n(64583).Promise,i=function(){function t(t,e){if("function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._maxBatchSize=function(t){if(!(!t||!1!==t.batch))return 1;var e=t&&t.maxBatchSize;if(void 0===e)return 1/0;if("number"!=typeof e||e<1)throw new TypeError("maxBatchSize must be a positive number: "+e);return e}(e),this._batchScheduleFn=function(t){var e=t&&t.batchScheduleFn;if(void 0===e)return s;if("function"!=typeof e)throw new TypeError("batchScheduleFn must be a function: "+e);return e}(e),this._cacheKeyFn=function(t){var e=t&&t.cacheKeyFn;if(void 0===e)return function(t){return t};if("function"!=typeof e)throw new TypeError("cacheKeyFn must be a function: "+e);return e}(e),this._cacheMap=function(t){if(!(!t||!1!==t.cache))return null;var e=t&&t.cacheMap;if(void 0===e)return new Map;if(null!==e){var n=["get","set","delete","clear"].filter((function(t){return e&&"function"!=typeof e[t]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return e}(e),this._batch=null,this.name=function(t){return t&&t.name?t.name:null}(e)}var e=t.prototype;return e.load=function(t){if(null==t)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(t)+".");var e=function(t){var e=t._batch;if(null!==e&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var n={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=n,t._batchScheduleFn((function(){!function(t,e){if(e.hasDispatched=!0,0!==e.keys.length){var n;try{n=t._batchLoadFn(e.keys)}catch(n){return a(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return a(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(t){if(!c(t))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(t)+".");if(t.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(e.keys)+"\n\nValues:\n"+String(t));u(e);for(var n=0;n<e.callbacks.length;n++){var r=t[n];r instanceof Error?e.callbacks[n].reject(r):e.callbacks[n].resolve(r)}})).catch((function(n){a(t,e,n)}))}else u(e)}(t,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(t);if(n){var i=n.get(r);if(i){var s=e.cacheHits||(e.cacheHits=[]);return new o((function(t){s.push((function(){t(i)}))}))}}e.keys.push(t);var l=new o((function(t,n){e.callbacks.push({resolve:t,reject:n})}));return n&&n.set(r,l),l},e.loadMany=function(t){if(!c(t))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+t+".");for(var e=[],n=0;n<t.length;n++)e.push(this.load(t[n]).catch((function(t){return t})));return o.all(e)},e.clear=function(t){var e=this._cacheMap;if(e){var n=this._cacheKeyFn(t);e.delete(n)}return this},e.clearAll=function(){var t=this._cacheMap;return t&&t.clear(),this},e.prime=function(t,e){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(t);void 0===n.get(i)&&(e instanceof Error?(r=o.reject(e)).catch((function(){})):r=o.resolve(e),n.set(i,r))}return this},t}(),s="object"==typeof process&&"function"==typeof process.nextTick?function(t){r||(r=o.resolve()),r.then((function(){process.nextTick(t)}))}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t)};function a(t,e,n){u(e);for(var r=0;r<e.keys.length;r++)t.clear(e.keys[r]),e.callbacks[r].reject(n)}function u(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function c(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&(0===t.length||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}t.exports=i},64583:function(t,e,n){t.exports=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,o=void 0,i=void 0,s=function(t,e){d[r]=t,d[r+1]=e,2===(r+=2)&&(i?i(p):y())};var a="undefined"!=typeof window?window:void 0,u=a||{},c=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(p,1)}}var d=new Array(1e3);function p(){for(var t=0;t<r;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;r=0}var m,v,_,T,y=void 0;function g(t,e){var n=this,r=new this.constructor(C);void 0===r[b]&&k(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return x(o,r,i,n._result)}))}else F(n,r,t,e);return r}function E(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(C);return M(e,t),e}y=l?function(){return process.nextTick(p)}:c?(v=0,_=new c(p),T=document.createTextNode(""),_.observe(T,{characterData:!0}),function(){T.data=v=++v%2}):f?((m=new MessageChannel).port1.onmessage=p,function(){return m.port2.postMessage(0)}):void 0===a?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(p)}:h()}catch(t){return h()}}():h();var b=Math.random().toString(36).substring(2);function C(){}var S=void 0,w=1,A=2;function O(e,n,r){n.constructor===e.constructor&&r===g&&n.constructor.resolve===E?function(t,e){e._state===w?P(t,e._result):e._state===A?I(t,e._result):F(e,void 0,(function(e){return M(t,e)}),(function(e){return I(t,e)}))}(e,n):void 0===r?P(e,n):t(r)?function(t,e,n){s((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?M(t,n):P(t,n))}),(function(e){r||(r=!0,I(t,e))}),t._label);!r&&o&&(r=!0,I(t,o))}),t)}(e,n,r):P(e,n)}function M(t,e){if(t===e)I(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)P(t,e);else{var n=void 0;try{n=e.then}catch(e){return void I(t,e)}O(t,e,n)}var r,o}function R(t){t._onerror&&t._onerror(t._result),N(t)}function P(t,e){t._state===S&&(t._result=e,t._state=w,0!==t._subscribers.length&&s(N,t))}function I(t,e){t._state===S&&(t._state=A,t._result=e,s(R,t))}function F(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+w]=n,o[i+A]=r,0===i&&t._state&&s(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function x(e,n,r,o){var i=t(r),s=void 0,a=void 0,u=!0;if(i){try{s=r(o)}catch(t){u=!1,a=t}if(n===s)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==S||(i&&u?M(n,s):!1===u?I(n,a):e===w?P(n,s):e===A&&I(n,s))}var j=0;function k(t){t[b]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(C),this.promise[b]||k(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&P(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===E){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===g&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===K){var a=new n(C);s?I(a,i):O(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===S&&(this._remaining--,t===A?I(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;F(t,void 0,(function(t){return n._settledAt(w,e,t)}),(function(t){return n._settledAt(A,e,t)}))},t}();var K=function(){function e(t){this[b]=j++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){M(t,e)}),(function(e){I(t,e)}))}catch(e){I(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return K.prototype.then=g,K.all=function(t){return new D(this,t).promise},K.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},K.resolve=E,K.reject=function(t){var e=new this(C);return I(e,t),e},K._setScheduler=function(t){i=t},K._setAsap=function(t){s=t},K._asap=s,K.polyfill=function(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=K},K.Promise=K,K}()},2543:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],m="[object Arguments]",v="[object Array]",_="[object Boolean]",T="[object Date]",y="[object Error]",g="[object Function]",E="[object GeneratorFunction]",b="[object Map]",C="[object Number]",S="[object Object]",w="[object Promise]",A="[object RegExp]",O="[object Set]",M="[object String]",R="[object Symbol]",P="[object WeakMap]",I="[object ArrayBuffer]",F="[object DataView]",N="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",k="[object Int16Array]",D="[object Int32Array]",K="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,$=RegExp(Y.source),G=RegExp(W.source),z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,ot=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,Tt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,gt=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",St="a-z\\xdf-\\xf6\\xf8-\\xff",wt="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="["+Et+"]",Rt="["+Ot+"]",Pt="["+bt+"]",It="\\d+",Ft="["+Ct+"]",Nt="["+St+"]",xt="[^"+Et+Ot+It+Ct+St+wt+"]",jt="\\ud83c[\\udffb-\\udfff]",kt="[^"+Et+"]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+wt+"]",Bt="\\u200d",Ut="(?:"+Nt+"|"+xt+")",qt="(?:"+Lt+"|"+xt+")",Ht="(?:['’](?:d|ll|m|re|s|t|ve))?",Vt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Pt+"|"+jt+")?",Wt="["+At+"]?",$t=Wt+Yt+"(?:"+Bt+"(?:"+[kt,Dt,Kt].join("|")+")"+Wt+Yt+")*",Gt="(?:"+[Ft,Dt,Kt].join("|")+")"+$t,zt="(?:"+[kt+Pt+"?",Pt,Dt,Kt,Mt].join("|")+")",Qt=RegExp("['’]","g"),Xt=RegExp(Pt,"g"),Jt=RegExp(jt+"(?="+jt+")|"+zt+$t,"g"),Zt=RegExp([Lt+"?"+Nt+"+"+Ht+"(?="+[Rt,Lt,"$"].join("|")+")",qt+"+"+Vt+"(?="+[Rt,Lt+Ut,"$"].join("|")+")",Lt+"?"+Ut+"+"+Ht,Lt+"+"+Vt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,Gt].join("|"),"g"),te=RegExp("["+Bt+Et+bt+At+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,oe={};oe[N]=oe[x]=oe[j]=oe[k]=oe[D]=oe[K]=oe[L]=oe[B]=oe[U]=!0,oe[m]=oe[v]=oe[I]=oe[_]=oe[F]=oe[T]=oe[y]=oe[g]=oe[b]=oe[C]=oe[S]=oe[A]=oe[O]=oe[M]=oe[P]=!1;var ie={};ie[m]=ie[v]=ie[I]=ie[F]=ie[_]=ie[T]=ie[N]=ie[x]=ie[j]=ie[k]=ie[D]=ie[b]=ie[C]=ie[S]=ie[A]=ie[O]=ie[M]=ie[R]=ie[K]=ie[L]=ie[B]=ie[U]=!0,ie[y]=ie[g]=ie[P]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ue=parseInt,ce="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,le="object"==typeof self&&self&&self.Object===Object&&self,fe=ce||le||Function("return this")(),he=e&&!e.nodeType&&e,de=he&&t&&!t.nodeType&&t,pe=de&&de.exports===he,me=pe&&ce.process,ve=function(){try{return de&&de.require&&de.require("util").types||me&&me.binding&&me.binding("util")}catch(t){}}(),_e=ve&&ve.isArrayBuffer,Te=ve&&ve.isDate,ye=ve&&ve.isMap,ge=ve&&ve.isRegExp,Ee=ve&&ve.isSet,be=ve&&ve.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Se(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Me(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function Re(t,e){return!(null==t||!t.length)&&Le(t,e,0)>-1}function Pe(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ie(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Fe(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ne(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function xe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ke=He("length");function De(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Ke(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Le(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Ke(t,Ue,n)}function Be(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Ue(t){return t!=t}function qe(t,e){var n=null==t?0:t.length;return n?We(t,e)/n:h}function He(t){return function(e){return null==e?o:e[t]}}function Ve(t){return function(e){return null==t?o:t[e]}}function Ye(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function We(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function $e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ge(t){return t?t.slice(0,hn(t)+1).replace(rt,""):t}function ze(t){return function(e){return t(e)}}function Qe(t,e){return Ie(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function Je(t,e){for(var n=-1,r=t.length;++n<r&&Le(e,t[n],0)>-1;);return n}function Ze(t,e){for(var n=t.length;n--&&Le(e,t[n],0)>-1;);return n}var tn=Ve({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),en=Ve({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+se[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function an(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,i[o++]=n)}return i}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return rn(t)?function(t){for(var e=Jt.lastIndex=0;Jt.test(t);)++e;return e}(t):ke(t)}function fn(t){return rn(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function hn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var dn=Ve({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var n,r=(e=null==e?fe:pn.defaults(fe.Object(),e,pn.pick(fe,ne))).Array,ot=e.Date,Et=e.Error,bt=e.Function,Ct=e.Math,St=e.Object,wt=e.RegExp,At=e.String,Ot=e.TypeError,Mt=r.prototype,Rt=bt.prototype,Pt=St.prototype,It=e["__core-js_shared__"],Ft=Rt.toString,Nt=Pt.hasOwnProperty,xt=0,jt=(n=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",kt=Pt.toString,Dt=Ft.call(St),Kt=fe._,Lt=wt("^"+Ft.call(Nt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=pe?e.Buffer:o,Ut=e.Symbol,qt=e.Uint8Array,Ht=Bt?Bt.allocUnsafe:o,Vt=sn(St.getPrototypeOf,St),Yt=St.create,Wt=Pt.propertyIsEnumerable,$t=Mt.splice,Gt=Ut?Ut.isConcatSpreadable:o,zt=Ut?Ut.iterator:o,Jt=Ut?Ut.toStringTag:o,te=function(){try{var t=ci(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,ce=ot&&ot.now!==fe.Date.now&&ot.now,le=e.setTimeout!==fe.setTimeout&&e.setTimeout,he=Ct.ceil,de=Ct.floor,me=St.getOwnPropertySymbols,ve=Bt?Bt.isBuffer:o,ke=e.isFinite,Ve=Mt.join,mn=sn(St.keys,St),vn=Ct.max,_n=Ct.min,Tn=ot.now,yn=e.parseInt,gn=Ct.random,En=Mt.reverse,bn=ci(e,"DataView"),Cn=ci(e,"Map"),Sn=ci(e,"Promise"),wn=ci(e,"Set"),An=ci(e,"WeakMap"),On=ci(St,"create"),Mn=An&&new An,Rn={},Pn=Di(bn),In=Di(Cn),Fn=Di(Sn),Nn=Di(wn),xn=Di(An),jn=Ut?Ut.prototype:o,kn=jn?jn.valueOf:o,Dn=jn?jn.toString:o;function Kn(t){if(ta(t)&&!Hs(t)&&!(t instanceof qn)){if(t instanceof Un)return t;if(Nt.call(t,"__wrapped__"))return Ki(t)}return new Un(t)}var Ln=function(){function t(){}return function(e){if(!Zs(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Bn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function $n(t){var e=this.__data__=new Vn(t);this.size=e.size}function Gn(t,e){var n=Hs(t),r=!n&&qs(t),o=!n&&!r&&$s(t),i=!n&&!r&&!o&&ua(t),s=n||r||o||i,a=s?$e(t.length,At):[],u=a.length;for(var c in t)!e&&!Nt.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vi(c,u))||a.push(c);return a}function zn(t){var e=t.length;return e?t[Yr(0,e-1)]:o}function Qn(t,e){return Fi(Oo(t),ir(e,0,t.length))}function Xn(t){return Fi(Oo(t))}function Jn(t,e,n){(n!==o&&!Ls(t[e],n)||n===o&&!(e in t))&&rr(t,e,n)}function Zn(t,e,n){var r=t[e];Nt.call(t,e)&&Ls(r,n)&&(n!==o||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Ls(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function nr(t,e){return t&&Mo(e,Pa(e),t)}function rr(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,i=e.length,s=r(i),a=null==t;++n<i;)s[n]=a?o:wa(t,e[n]);return s}function ir(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function sr(t,e,n,r,i,s){var a,u=1&e,c=2&e,l=4&e;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!Zs(t))return t;var f=Hs(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Oo(t,a)}else{var h=hi(t),d=h==g||h==E;if($s(t))return Eo(t,u);if(h==S||h==m||d&&!i){if(a=c||d?{}:pi(t),!u)return c?function(t,e){return Mo(t,fi(t),e)}(t,function(t,e){return t&&Mo(e,Ia(e),t)}(a,t)):function(t,e){return Mo(t,li(t),e)}(t,nr(a,t))}else{if(!ie[h])return i?t:{};a=function(t,e,n){var r,o=t.constructor;switch(e){case I:return bo(t);case _:case T:return new o(+t);case F:return function(t,e){var n=e?bo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case x:case j:case k:case D:case K:case L:case B:case U:return Co(t,n);case b:return new o;case C:case M:return new o(t);case A:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new o;case R:return r=t,kn?St(kn.call(r)):{}}}(t,h,u)}}s||(s=new $n);var p=s.get(t);if(p)return p;s.set(t,a),ia(t)?t.forEach((function(r){a.add(sr(r,e,n,r,t,s))})):ea(t)&&t.forEach((function(r,o){a.set(o,sr(r,e,n,o,t,s))}));var v=f?o:(l?c?ni:ei:c?Ia:Pa)(t);return we(v||t,(function(r,o){v&&(r=t[o=r]),Zn(a,o,sr(r,e,n,o,t,s))})),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=St(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new Ot(i);return Mi((function(){t.apply(o,n)}),e)}function cr(t,e,n,r){var o=-1,i=Re,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=Ie(e,ze(n))),r?(i=Pe,s=!1):e.length>=200&&(i=Xe,s=!1,e=new Wn(e));t:for(;++o<a;){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else i(e,f,r)||u.push(l)}return u}Kn.templateSettings={escape:z,evaluate:Q,interpolate:X,variable:"",imports:{_:Kn}},Kn.prototype=Bn.prototype,Kn.prototype.constructor=Kn,Un.prototype=Ln(Bn.prototype),Un.prototype.constructor=Un,qn.prototype=Ln(Bn.prototype),qn.prototype.constructor=qn,Hn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Hn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===s?o:n}return Nt.call(e,t)?e[t]:o},Hn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==o:Nt.call(e,t)},Hn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===o?s:e,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():$t.call(e,n,1),--this.size,0))},Vn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?o:e[n][1]},Vn.prototype.has=function(t){return tr(this.__data__,t)>-1},Vn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Cn||Vn),string:new Hn}},Yn.prototype.delete=function(t){var e=ai(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return ai(this,t).get(t)},Yn.prototype.has=function(t){return ai(this,t).has(t)},Yn.prototype.set=function(t,e){var n=ai(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(t){return this.__data__.set(t,s),this},Wn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new Vn,this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Cn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(t,e),this.size=n.size,this};var lr=Io(Tr),fr=Io(yr,!0);function hr(t,e){var n=!0;return lr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function dr(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(u===o?a==a&&!aa(a):n(a,u)))var u=a,c=s}return c}function pr(t,e){var n=[];return lr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function mr(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=mi),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?mr(a,e-1,n,r,o):Fe(o,a):r||(o[o.length]=a)}return o}var vr=Fo(),_r=Fo(!0);function Tr(t,e){return t&&vr(t,e,Pa)}function yr(t,e){return t&&_r(t,e,Pa)}function gr(t,e){return Me(e,(function(e){return Qs(t[e])}))}function Er(t,e){for(var n=0,r=(e=_o(e,t)).length;null!=t&&n<r;)t=t[ki(e[n++])];return n&&n==r?t:o}function br(t,e,n){var r=e(t);return Hs(t)?r:Fe(r,n(t))}function Cr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Jt&&Jt in St(t)?function(t){var e=Nt.call(t,Jt),n=t[Jt];try{t[Jt]=o;var r=!0}catch(t){}var i=kt.call(t);return r&&(e?t[Jt]=n:delete t[Jt]),i}(t):function(t){return kt.call(t)}(t)}function Sr(t,e){return t>e}function wr(t,e){return null!=t&&Nt.call(t,e)}function Ar(t,e){return null!=t&&e in St(t)}function Or(t,e,n){for(var i=n?Pe:Re,s=t[0].length,a=t.length,u=a,c=r(a),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Ie(h,ze(e))),l=_n(h.length,l),c[u]=!n&&(e||s>=120&&h.length>=120)?new Wn(u&&h):o}h=t[0];var d=-1,p=c[0];t:for(;++d<s&&f.length<l;){var m=h[d],v=e?e(m):m;if(m=n||0!==m?m:0,!(p?Xe(p,v):i(f,v,n))){for(u=a;--u;){var _=c[u];if(!(_?Xe(_,v):i(t[u],v,n)))continue t}p&&p.push(v),f.push(m)}}return f}function Mr(t,e,n){var r=null==(t=wi(t,e=_o(e,t)))?t:t[ki(zi(e))];return null==r?o:Ce(r,t,n)}function Rr(t){return ta(t)&&Cr(t)==m}function Pr(t,e,n,r,i){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,r,i,s){var a=Hs(t),u=Hs(e),c=a?v:hi(t),l=u?v:hi(e),f=(c=c==m?S:c)==S,h=(l=l==m?S:l)==S,d=c==l;if(d&&$s(t)){if(!$s(e))return!1;a=!0,f=!1}if(d&&!f)return s||(s=new $n),a||ua(t)?Zo(t,e,n,r,i,s):function(t,e,n,r,o,i,s){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!i(new qt(t),new qt(e)));case _:case T:case C:return Ls(+t,+e);case y:return t.name==e.name&&t.message==e.message;case A:case M:return t==e+"";case b:var a=on;case O:var u=1&r;if(a||(a=un),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=Zo(a(t),a(e),r,o,i,s);return s.delete(t),l;case R:if(kn)return kn.call(t)==kn.call(e)}return!1}(t,e,c,n,r,i,s);if(!(1&n)){var p=f&&Nt.call(t,"__wrapped__"),g=h&&Nt.call(e,"__wrapped__");if(p||g){var E=p?t.value():t,w=g?e.value():e;return s||(s=new $n),i(E,w,n,r,s)}}return!!d&&(s||(s=new $n),function(t,e,n,r,i,s){var a=1&n,u=ei(t),c=u.length;if(c!=ei(e).length&&!a)return!1;for(var l=c;l--;){var f=u[l];if(!(a?f in e:Nt.call(e,f)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var m=a;++l<c;){var v=t[f=u[l]],_=e[f];if(r)var T=a?r(_,v,f,e,t,s):r(v,_,f,t,e,s);if(!(T===o?v===_||i(v,_,n,r,s):T)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var y=t.constructor,g=e.constructor;y==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,r,i,s))}(t,e,n,r,Pr,i))}function Ir(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=St(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var c=(u=n[i])[0],l=t[c],f=u[1];if(a&&u[2]){if(l===o&&!(c in t))return!1}else{var h=new $n;if(r)var d=r(l,f,c,t,e,h);if(!(d===o?Pr(f,l,3,r,h):d))return!1}}return!0}function Fr(t){return!(!Zs(t)||(e=t,jt&&jt in e))&&(Qs(t)?Lt:mt).test(Di(t));var e}function Nr(t){return"function"==typeof t?t:null==t?nu:"object"==typeof t?Hs(t)?Kr(t[0],t[1]):Dr(t):fu(t)}function xr(t){if(!Ei(t))return mn(t);var e=[];for(var n in St(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t,e){return t<e}function kr(t,e){var n=-1,o=Ys(t)?r(t.length):[];return lr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Dr(t){var e=ui(t);return 1==e.length&&e[0][2]?Ci(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Kr(t,e){return Ti(t)&&bi(e)?Ci(ki(t),e):function(n){var r=wa(n,t);return r===o&&r===e?Aa(n,t):Pr(e,r,3)}}function Lr(t,e,n,r,i){t!==e&&vr(e,(function(s,a){if(i||(i=new $n),Zs(s))!function(t,e,n,r,i,s,a){var u=Ai(t,n),c=Ai(e,n),l=a.get(c);if(l)Jn(t,n,l);else{var f=s?s(u,c,n+"",t,e,a):o,h=f===o;if(h){var d=Hs(c),p=!d&&$s(c),m=!d&&!p&&ua(c);f=c,d||p||m?Hs(u)?f=u:Ws(u)?f=Oo(u):p?(h=!1,f=Eo(c,!0)):m?(h=!1,f=Co(c,!0)):f=[]:ra(c)||qs(c)?(f=u,qs(u)?f=va(u):Zs(u)&&!Qs(u)||(f=pi(c))):h=!1}h&&(a.set(c,f),i(f,c,r,s,a),a.delete(c)),Jn(t,n,f)}}(t,e,a,n,Lr,r,i);else{var u=r?r(Ai(t,a),s,a+"",t,e,i):o;u===o&&(u=s),Jn(t,a,u)}}),Ia)}function Br(t,e){var n=t.length;if(n)return vi(e+=e<0?n:0,n)?t[e]:o}function Ur(t,e,n){e=e.length?Ie(e,(function(t){return Hs(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[nu];var r=-1;e=Ie(e,ze(si()));var o=kr(t,(function(t,n,o){var i=Ie(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t){var e=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,s=o.length,a=n.length;++r<s;){var u=So(o[r],i[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));e--;)t[e]=t[e].value;return t}(o)}function qr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=Er(t,s);n(a,s)&&Qr(i,_o(s,t),a)}return i}function Hr(t,e,n,r){var o=r?Be:Le,i=-1,s=e.length,a=t;for(t===e&&(e=Oo(e)),n&&(a=Ie(t,ze(n)));++i<s;)for(var u=0,c=e[i],l=n?n(c):c;(u=o(a,l,u,r))>-1;)a!==t&&$t.call(a,u,1),$t.call(t,u,1);return t}function Vr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;vi(o)?$t.call(t,o,1):uo(t,o)}}return t}function Yr(t,e){return t+de(gn()*(e-t+1))}function Wr(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function $r(t,e){return Ri(Si(t,e,nu),t+"")}function Gr(t){return zn(La(t))}function zr(t,e){var n=La(t);return Fi(n,ir(e,0,n.length))}function Qr(t,e,n,r){if(!Zs(t))return t;for(var i=-1,s=(e=_o(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var c=ki(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=Zs(f)?f:vi(e[i+1])?[]:{})}Zn(u,c,l),u=u[c]}return t}var Xr=Mn?function(t,e){return Mn.set(t,e),t}:nu,Jr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Za(e),writable:!0})}:nu;function Zr(t){return Fi(La(t))}function to(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=r(i);++o<i;)s[o]=t[o+e];return s}function eo(t,e){var n;return lr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function no(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=t[i];null!==s&&!aa(s)&&(n?s<=e:s<e)?r=i+1:o=i}return o}return ro(t,e,nu,n)}function ro(t,e,n,r){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,c=aa(e),l=e===o;i<s;){var f=de((i+s)/2),h=n(t[f]),d=h!==o,p=null===h,m=h==h,v=aa(h);if(a)var _=r||m;else _=l?m&&(r||d):u?m&&d&&(r||!p):c?m&&d&&!p&&(r||!v):!p&&!v&&(r?h<=e:h<e);_?i=f+1:s=f}return _n(s,4294967294)}function oo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ls(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function io(t){return"number"==typeof t?t:aa(t)?h:+t}function so(t){if("string"==typeof t)return t;if(Hs(t))return Ie(t,so)+"";if(aa(t))return Dn?Dn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ao(t,e,n){var r=-1,o=Re,i=t.length,s=!0,a=[],u=a;if(n)s=!1,o=Pe;else if(i>=200){var c=e?null:$o(t);if(c)return un(c);s=!1,o=Xe,u=new Wn}else u=e?[]:a;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),a.push(l)}else o(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function uo(t,e){return null==(t=wi(t,e=_o(e,t)))||delete t[ki(zi(e))]}function co(t,e,n,r){return Qr(t,e,n(Er(t,e)),r)}function lo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?to(t,r?0:i,r?i+1:o):to(t,r?i+1:0,r?o:i)}function fo(t,e){var n=t;return n instanceof qn&&(n=n.value()),Ne(e,(function(t,e){return e.func.apply(e.thisArg,Fe([t],e.args))}),n)}function ho(t,e,n){var o=t.length;if(o<2)return o?ao(t[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=t[i],u=-1;++u<o;)u!=i&&(s[i]=cr(s[i]||a,t[u],e,n));return ao(mr(s,1),e,n)}function po(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var u=r<s?e[r]:o;n(a,t[r],u)}return a}function mo(t){return Ws(t)?t:[]}function vo(t){return"function"==typeof t?t:nu}function _o(t,e){return Hs(t)?t:Ti(t,e)?[t]:ji(_a(t))}var To=$r;function yo(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:to(t,e,n)}var go=se||function(t){return fe.clearTimeout(t)};function Eo(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function bo(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Co(t,e){var n=e?bo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function So(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,s=aa(t),a=e!==o,u=null===e,c=e==e,l=aa(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!l&&t<e||l&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!c)return-1}return 0}function wo(t,e,n,o){for(var i=-1,s=t.length,a=n.length,u=-1,c=e.length,l=vn(s-a,0),f=r(c+l),h=!o;++u<c;)f[u]=e[u];for(;++i<a;)(h||i<s)&&(f[n[i]]=t[i]);for(;l--;)f[u++]=t[i++];return f}function Ao(t,e,n,o){for(var i=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,f=vn(s-u,0),h=r(f+l),d=!o;++i<f;)h[i]=t[i];for(var p=i;++c<l;)h[p+c]=e[c];for(;++a<u;)(d||i<s)&&(h[p+n[a]]=t[i++]);return h}function Oo(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Mo(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),i?rr(n,u,c):Zn(n,u,c)}return n}function Ro(t,e){return function(n,r){var o=Hs(n)?Se:er,i=e?e():{};return o(n,t,si(r,2),i)}}function Po(t){return $r((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&_i(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=St(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e}))}function Io(t,e){return function(n,r){if(null==n)return n;if(!Ys(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=St(n);(e?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Fo(t){return function(e,n,r){for(var o=-1,i=St(e),s=r(e),a=s.length;a--;){var u=s[t?a:++o];if(!1===n(i[u],u,i))break}return e}}function No(t){return function(e){var n=rn(e=_a(e))?fn(e):o,r=n?n[0]:e.charAt(0),i=n?yo(n,1).join(""):e.slice(1);return r[t]()+i}}function xo(t){return function(e){return Ne(Qa(qa(e).replace(Qt,"")),t,"")}}function jo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ln(t.prototype),r=t.apply(n,e);return Zs(r)?r:n}}function ko(t){return function(e,n,r){var i=St(e);if(!Ys(e)){var s=si(n,3);e=Pa(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function Do(t){return ti((function(e){var n=e.length,r=n,s=Un.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Ot(i);if(s&&!u&&"wrapper"==oi(a))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var c=oi(a=e[r]),l="wrapper"==c?ri(a):o;u=l&&yi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[oi(l[0])].apply(u,l[3]):1==a.length&&yi(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Hs(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Ko(t,e,n,i,s,a,u,l,f,h){var d=e&c,p=1&e,m=2&e,v=24&e,_=512&e,T=m?o:jo(t);return function c(){for(var y=arguments.length,g=r(y),E=y;E--;)g[E]=arguments[E];if(v)var b=ii(c),C=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(g,b);if(i&&(g=wo(g,i,s,v)),a&&(g=Ao(g,a,u,v)),y-=C,v&&y<h){var S=an(g,b);return Yo(t,e,Ko,c.placeholder,n,g,S,l,f,h-y)}var w=p?n:this,A=m?w[t]:t;return y=g.length,l?g=function(t,e){for(var n=t.length,r=_n(e.length,n),i=Oo(t);r--;){var s=e[r];t[r]=vi(s,n)?i[s]:o}return t}(g,l):_&&y>1&&g.reverse(),d&&f<y&&(g.length=f),this&&this!==fe&&this instanceof c&&(A=T||jo(A)),A.apply(w,g)}}function Lo(t,e){return function(n,r){return function(t,e,n,r){return Tr(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function Bo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=so(n),r=so(r)):(n=io(n),r=io(r)),i=t(n,r)}return i}}function Uo(t){return ti((function(e){return e=Ie(e,ze(si())),$r((function(n){var r=this;return t(e,(function(t){return Ce(t,r,n)}))}))}))}function qo(t,e){var n=(e=e===o?" ":so(e)).length;if(n<2)return n?Wr(e,t):e;var r=Wr(e,he(t/ln(e)));return rn(e)?yo(fn(r),0,t).join(""):r.slice(0,t)}function Ho(t){return function(e,n,i){return i&&"number"!=typeof i&&_i(e,n,i)&&(n=i=o),e=ha(e),n===o?(n=e,e=0):n=ha(n),function(t,e,n,o){for(var i=-1,s=vn(he((e-t)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=t,t+=n;return a}(e,n,i=i===o?e<n?1:-1:ha(i),t)}}function Vo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Yo(t,e,n,r,i,s,a,c,l,f){var h=8&e;e|=h?u:64,4&(e&=~(h?64:u))||(e&=-4);var d=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,c,l,f],p=n.apply(o,d);return yi(t)&&Oi(p,d),p.placeholder=r,Pi(p,t,e)}function Wo(t){var e=Ct[t];return function(t,n){if(t=ma(t),(n=null==n?0:_n(da(n),292))&&ke(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $o=wn&&1/un(new wn([,-0]))[1]==l?function(t){return new wn(t)}:au;function Go(t){return function(e){var n=hi(e);return n==b?on(e):n==O?cn(e):function(t,e){return Ie(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function zo(t,e,n,s,l,f,h,d){var p=2&e;if(!p&&"function"!=typeof t)throw new Ot(i);var m=s?s.length:0;if(m||(e&=-97,s=l=o),h=h===o?h:vn(da(h),0),d=d===o?d:da(d),m-=l?l.length:0,64&e){var v=s,_=l;s=l=o}var T=p?o:ri(t),y=[t,e,n,s,l,v,_,f,h,d];if(T&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,s=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!s)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?wo(l,u,e[4]):u,t[4]=l?an(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ao(l,u,e[6]):u,t[6]=l?an(t[5],a):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(y,T),t=y[0],e=y[1],n=y[2],s=y[3],l=y[4],!(d=y[9]=y[9]===o?p?0:t.length:vn(y[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=jo(t);return function s(){for(var a=arguments.length,u=r(a),c=a,l=ii(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:an(u,l);return(a-=f.length)<n?Yo(t,e,Ko,s.placeholder,o,u,f,o,o,n-a):Ce(this&&this!==fe&&this instanceof s?i:t,this,u)}}(t,e,d):e!=u&&33!=e||l.length?Ko.apply(o,y):function(t,e,n,o){var i=1&e,s=jo(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=o.length,f=r(l+u),h=this&&this!==fe&&this instanceof e?s:t;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++a];return Ce(h,i?n:this,f)}}(t,e,n,s);else var g=function(t,e,n){var r=1&e,o=jo(t);return function e(){return(this&&this!==fe&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Pi((T?Xr:Oi)(g,y),t,e)}function Qo(t,e,n,r){return t===o||Ls(t,Pt[n])&&!Nt.call(r,n)?e:t}function Xo(t,e,n,r,i,s){return Zs(t)&&Zs(e)&&(s.set(e,t),Lr(t,e,o,Xo,s),s.delete(e)),t}function Jo(t){return ra(t)?o:t}function Zo(t,e,n,r,i,s){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),f=s.get(e);if(l&&f)return l==e&&f==t;var h=-1,d=!0,p=2&n?new Wn:o;for(s.set(t,e),s.set(e,t);++h<u;){var m=t[h],v=e[h];if(r)var _=a?r(v,m,h,e,t,s):r(m,v,h,t,e,s);if(_!==o){if(_)continue;d=!1;break}if(p){if(!je(e,(function(t,e){if(!Xe(p,e)&&(m===t||i(m,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(m!==v&&!i(m,v,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function ti(t){return Ri(Si(t,o,Vi),t+"")}function ei(t){return br(t,Pa,li)}function ni(t){return br(t,Ia,fi)}var ri=Mn?function(t){return Mn.get(t)}:au;function oi(t){for(var e=t.name+"",n=Rn[e],r=Nt.call(Rn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ii(t){return(Nt.call(Kn,"placeholder")?Kn:t).placeholder}function si(){var t=Kn.iteratee||ru;return t=t===ru?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function ai(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ui(t){for(var e=Pa(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,bi(o)]}return e}function ci(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Fr(n)?n:o}var li=me?function(t){return null==t?[]:(t=St(t),Me(me(t),(function(e){return Wt.call(t,e)})))}:pu,fi=me?function(t){for(var e=[];t;)Fe(e,li(t)),t=Vt(t);return e}:pu,hi=Cr;function di(t,e,n){for(var r=-1,o=(e=_o(e,t)).length,i=!1;++r<o;){var s=ki(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Js(o)&&vi(s,o)&&(Hs(t)||qs(t))}function pi(t){return"function"!=typeof t.constructor||Ei(t)?{}:Ln(Vt(t))}function mi(t){return Hs(t)||qs(t)||!!(Gt&&t&&t[Gt])}function vi(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!Zs(n))return!1;var r=typeof e;return!!("number"==r?Ys(n)&&vi(e,n.length):"string"==r&&e in n)&&Ls(n[e],t)}function Ti(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!aa(t))||Z.test(t)||!J.test(t)||null!=e&&t in St(e)}function yi(t){var e=oi(t),n=Kn[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var r=ri(n);return!!r&&t===r[0]}(bn&&hi(new bn(new ArrayBuffer(1)))!=F||Cn&&hi(new Cn)!=b||Sn&&hi(Sn.resolve())!=w||wn&&hi(new wn)!=O||An&&hi(new An)!=P)&&(hi=function(t){var e=Cr(t),n=e==S?t.constructor:o,r=n?Di(n):"";if(r)switch(r){case Pn:return F;case In:return b;case Fn:return w;case Nn:return O;case xn:return P}return e});var gi=It?Qs:mu;function Ei(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function bi(t){return t==t&&!Zs(t)}function Ci(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in St(n))}}function Si(t,e,n){return e=vn(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,s=vn(o.length-e,0),a=r(s);++i<s;)a[i]=o[e+i];i=-1;for(var u=r(e+1);++i<e;)u[i]=o[i];return u[e]=n(a),Ce(t,this,u)}}function wi(t,e){return e.length<2?t:Er(t,to(e,0,-1))}function Ai(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oi=Ii(Xr),Mi=le||function(t,e){return fe.setTimeout(t,e)},Ri=Ii(Jr);function Pi(t,e,n){var r=e+"";return Ri(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(it,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return we(p,(function(n){var r="_."+n[0];e&n[1]&&!Re(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function Ii(t){var e=0,n=0;return function(){var r=Tn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Fi(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var s=Yr(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Ni,xi,ji=(Ni=Ns((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,o){e.push(r?o.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===xi.size&&xi.clear(),t})),xi=Ni.cache,Ni);function ki(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Di(t){if(null!=t){try{return Ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ki(t){if(t instanceof qn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Oo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Li=$r((function(t,e){return Ws(t)?cr(t,mr(e,1,Ws,!0)):[]})),Bi=$r((function(t,e){var n=zi(e);return Ws(n)&&(n=o),Ws(t)?cr(t,mr(e,1,Ws,!0),si(n,2)):[]})),Ui=$r((function(t,e){var n=zi(e);return Ws(n)&&(n=o),Ws(t)?cr(t,mr(e,1,Ws,!0),o,n):[]}));function qi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:da(n);return o<0&&(o=vn(r+o,0)),Ke(t,si(e,3),o)}function Hi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=da(n),i=n<0?vn(r+i,0):_n(i,r-1)),Ke(t,si(e,3),i,!0)}function Vi(t){return null!=t&&t.length?mr(t,1):[]}function Yi(t){return t&&t.length?t[0]:o}var Wi=$r((function(t){var e=Ie(t,mo);return e.length&&e[0]===t[0]?Or(e):[]})),$i=$r((function(t){var e=zi(t),n=Ie(t,mo);return e===zi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Or(n,si(e,2)):[]})),Gi=$r((function(t){var e=zi(t),n=Ie(t,mo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Or(n,o,e):[]}));function zi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Qi=$r(Xi);function Xi(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var Ji=ti((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Vr(t,Ie(e,(function(t){return vi(t,n)?+t:t})).sort(So)),r}));function Zi(t){return null==t?t:En.call(t)}var ts=$r((function(t){return ao(mr(t,1,Ws,!0))})),es=$r((function(t){var e=zi(t);return Ws(e)&&(e=o),ao(mr(t,1,Ws,!0),si(e,2))})),ns=$r((function(t){var e=zi(t);return e="function"==typeof e?e:o,ao(mr(t,1,Ws,!0),o,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(Ws(t))return e=vn(t.length,e),!0})),$e(e,(function(e){return Ie(t,He(e))}))}function os(t,e){if(!t||!t.length)return[];var n=rs(t);return null==e?n:Ie(n,(function(t){return Ce(e,o,t)}))}var is=$r((function(t,e){return Ws(t)?cr(t,e):[]})),ss=$r((function(t){return ho(Me(t,Ws))})),as=$r((function(t){var e=zi(t);return Ws(e)&&(e=o),ho(Me(t,Ws),si(e,2))})),us=$r((function(t){var e=zi(t);return e="function"==typeof e?e:o,ho(Me(t,Ws),o,e)})),cs=$r(rs),ls=$r((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,os(t,n)}));function fs(t){var e=Kn(t);return e.__chain__=!0,e}function hs(t,e){return e(t)}var ds=ti((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof qn&&vi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:hs,args:[i],thisArg:o}),new Un(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)})),ps=Ro((function(t,e,n){Nt.call(t,n)?++t[n]:rr(t,n,1)})),ms=ko(qi),vs=ko(Hi);function _s(t,e){return(Hs(t)?we:lr)(t,si(e,3))}function Ts(t,e){return(Hs(t)?Ae:fr)(t,si(e,3))}var ys=Ro((function(t,e,n){Nt.call(t,n)?t[n].push(e):rr(t,n,[e])})),gs=$r((function(t,e,n){var o=-1,i="function"==typeof e,s=Ys(t)?r(t.length):[];return lr(t,(function(t){s[++o]=i?Ce(e,t,n):Mr(t,e,n)})),s})),Es=Ro((function(t,e,n){rr(t,n,e)}));function bs(t,e){return(Hs(t)?Ie:kr)(t,si(e,3))}var Cs=Ro((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ss=$r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Ur(t,mr(e,1),[])})),ws=ce||function(){return fe.Date.now()};function As(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,zo(t,c,o,o,o,o,e)}function Os(t,e){var n;if("function"!=typeof e)throw new Ot(i);return t=da(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ms=$r((function(t,e,n){var r=1;if(n.length){var o=an(n,ii(Ms));r|=u}return zo(t,r,e,n,o)})),Rs=$r((function(t,e,n){var r=3;if(n.length){var o=an(n,ii(Rs));r|=u}return zo(e,r,t,n,o)}));function Ps(t,e,n){var r,s,a,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new Ot(i);function m(e){var n=r,i=s;return r=s=o,f=e,u=t.apply(i,n)}function v(t){var n=t-l;return l===o||n>=e||n<0||d&&t-f>=a}function _(){var t=ws();if(v(t))return T(t);c=Mi(_,function(t){var n=e-(t-l);return d?_n(n,a-(t-f)):n}(t))}function T(t){return c=o,p&&r?m(t):(r=s=o,u)}function y(){var t=ws(),n=v(t);if(r=arguments,s=this,l=t,n){if(c===o)return function(t){return f=t,c=Mi(_,e),h?m(t):u}(l);if(d)return go(c),c=Mi(_,e),m(l)}return c===o&&(c=Mi(_,e)),u}return e=ma(e)||0,Zs(n)&&(h=!!n.leading,a=(d="maxWait"in n)?vn(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){c!==o&&go(c),f=0,r=l=s=c=o},y.flush=function(){return c===o?u:T(ws())},y}var Is=$r((function(t,e){return ur(t,1,e)})),Fs=$r((function(t,e,n){return ur(t,ma(e)||0,n)}));function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ns.Cache||Yn),n}function xs(t){if("function"!=typeof t)throw new Ot(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ns.Cache=Yn;var js=To((function(t,e){var n=(e=1==e.length&&Hs(e[0])?Ie(e[0],ze(si())):Ie(mr(e,1),ze(si()))).length;return $r((function(r){for(var o=-1,i=_n(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Ce(t,this,r)}))})),ks=$r((function(t,e){var n=an(e,ii(ks));return zo(t,u,o,e,n)})),Ds=$r((function(t,e){var n=an(e,ii(Ds));return zo(t,64,o,e,n)})),Ks=ti((function(t,e){return zo(t,256,o,o,o,e)}));function Ls(t,e){return t===e||t!=t&&e!=e}var Bs=Vo(Sr),Us=Vo((function(t,e){return t>=e})),qs=Rr(function(){return arguments}())?Rr:function(t){return ta(t)&&Nt.call(t,"callee")&&!Wt.call(t,"callee")},Hs=r.isArray,Vs=_e?ze(_e):function(t){return ta(t)&&Cr(t)==I};function Ys(t){return null!=t&&Js(t.length)&&!Qs(t)}function Ws(t){return ta(t)&&Ys(t)}var $s=ve||mu,Gs=Te?ze(Te):function(t){return ta(t)&&Cr(t)==T};function zs(t){if(!ta(t))return!1;var e=Cr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Qs(t){if(!Zs(t))return!1;var e=Cr(t);return e==g||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==da(t)}function Js(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function Zs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=ye?ze(ye):function(t){return ta(t)&&hi(t)==b};function na(t){return"number"==typeof t||ta(t)&&Cr(t)==C}function ra(t){if(!ta(t)||Cr(t)!=S)return!1;var e=Vt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ft.call(n)==Dt}var oa=ge?ze(ge):function(t){return ta(t)&&Cr(t)==A},ia=Ee?ze(Ee):function(t){return ta(t)&&hi(t)==O};function sa(t){return"string"==typeof t||!Hs(t)&&ta(t)&&Cr(t)==M}function aa(t){return"symbol"==typeof t||ta(t)&&Cr(t)==R}var ua=be?ze(be):function(t){return ta(t)&&Js(t.length)&&!!oe[Cr(t)]},ca=Vo(jr),la=Vo((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(Ys(t))return sa(t)?fn(t):Oo(t);if(zt&&t[zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[zt]());var e=hi(t);return(e==b?on:e==O?un:La)(t)}function ha(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=ha(t),n=e%1;return e==e?n?e-n:e:0}function pa(t){return t?ir(da(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(aa(t))return h;if(Zs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Zs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ge(t);var n=pt.test(t);return n||vt.test(t)?ue(t.slice(2),n?2:8):dt.test(t)?h:+t}function va(t){return Mo(t,Ia(t))}function _a(t){return null==t?"":so(t)}var Ta=Po((function(t,e){if(Ei(e)||Ys(e))Mo(e,Pa(e),t);else for(var n in e)Nt.call(e,n)&&Zn(t,n,e[n])})),ya=Po((function(t,e){Mo(e,Ia(e),t)})),ga=Po((function(t,e,n,r){Mo(e,Ia(e),t,r)})),Ea=Po((function(t,e,n,r){Mo(e,Pa(e),t,r)})),ba=ti(or),Ca=$r((function(t,e){t=St(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_i(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=Ia(s),u=-1,c=a.length;++u<c;){var l=a[u],f=t[l];(f===o||Ls(f,Pt[l])&&!Nt.call(t,l))&&(t[l]=s[l])}return t})),Sa=$r((function(t){return t.push(o,Xo),Ce(Na,o,t)}));function wa(t,e,n){var r=null==t?o:Er(t,e);return r===o?n:r}function Aa(t,e){return null!=t&&di(t,e,Ar)}var Oa=Lo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=n}),Za(nu)),Ma=Lo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),si),Ra=$r(Mr);function Pa(t){return Ys(t)?Gn(t):xr(t)}function Ia(t){return Ys(t)?Gn(t,!0):function(t){if(!Zs(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=Ei(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}(t)}var Fa=Po((function(t,e,n){Lr(t,e,n)})),Na=Po((function(t,e,n,r){Lr(t,e,n,r)})),xa=ti((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ie(e,(function(e){return e=_o(e,t),r||(r=e.length>1),e})),Mo(t,ni(t),n),r&&(n=sr(n,7,Jo));for(var o=e.length;o--;)uo(n,e[o]);return n})),ja=ti((function(t,e){return null==t?{}:function(t,e){return qr(t,e,(function(e,n){return Aa(t,n)}))}(t,e)}));function ka(t,e){if(null==t)return{};var n=Ie(ni(t),(function(t){return[t]}));return e=si(e),qr(t,n,(function(t,n){return e(t,n[0])}))}var Da=Go(Pa),Ka=Go(Ia);function La(t){return null==t?[]:Qe(t,Pa(t))}var Ba=xo((function(t,e,n){return e=e.toLowerCase(),t+(n?Ua(e):e)}));function Ua(t){return za(_a(t).toLowerCase())}function qa(t){return(t=_a(t))&&t.replace(Tt,tn).replace(Xt,"")}var Ha=xo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Va=xo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ya=No("toLowerCase"),Wa=xo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),$a=xo((function(t,e,n){return t+(n?" ":"")+za(e)})),Ga=xo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),za=No("toUpperCase");function Qa(t,e,n){return t=_a(t),(e=n?o:e)===o?function(t){return ee.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Xa=$r((function(t,e){try{return Ce(t,o,e)}catch(t){return zs(t)?t:new Et(t)}})),Ja=ti((function(t,e){return we(e,(function(e){e=ki(e),rr(t,e,Ms(t[e],t))})),t}));function Za(t){return function(){return t}}var tu=Do(),eu=Do(!0);function nu(t){return t}function ru(t){return Nr("function"==typeof t?t:sr(t,1))}var ou=$r((function(t,e){return function(n){return Mr(n,t,e)}})),iu=$r((function(t,e){return function(n){return Mr(t,n,e)}}));function su(t,e,n){var r=Pa(e),o=gr(e,r);null!=n||Zs(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=gr(e,Pa(e)));var i=!(Zs(n)&&"chain"in n&&!n.chain),s=Qs(t);return we(o,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Oo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Fe([this.value()],arguments))})})),t}function au(){}var uu=Uo(Ie),cu=Uo(Oe),lu=Uo(je);function fu(t){return Ti(t)?He(ki(t)):function(t){return function(e){return Er(e,t)}}(t)}var hu=Ho(),du=Ho(!0);function pu(){return[]}function mu(){return!1}var vu,_u=Bo((function(t,e){return t+e}),0),Tu=Wo("ceil"),yu=Bo((function(t,e){return t/e}),1),gu=Wo("floor"),Eu=Bo((function(t,e){return t*e}),1),bu=Wo("round"),Cu=Bo((function(t,e){return t-e}),0);return Kn.after=function(t,e){if("function"!=typeof e)throw new Ot(i);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Kn.ary=As,Kn.assign=Ta,Kn.assignIn=ya,Kn.assignInWith=ga,Kn.assignWith=Ea,Kn.at=ba,Kn.before=Os,Kn.bind=Ms,Kn.bindAll=Ja,Kn.bindKey=Rs,Kn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Kn.chain=fs,Kn.chunk=function(t,e,n){e=(n?_i(t,e,n):e===o)?1:vn(da(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=r(he(i/e));s<i;)u[a++]=to(t,s,s+=e);return u},Kn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Kn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Fe(Hs(n)?Oo(n):[n],mr(e,1))},Kn.cond=function(t){var e=null==t?0:t.length,n=si();return t=e?Ie(t,(function(t){if("function"!=typeof t[1])throw new Ot(i);return[n(t[0]),t[1]]})):[],$r((function(n){for(var r=-1;++r<e;){var o=t[r];if(Ce(o[0],this,n))return Ce(o[1],this,n)}}))},Kn.conforms=function(t){return function(t){var e=Pa(t);return function(n){return ar(n,t,e)}}(sr(t,1))},Kn.constant=Za,Kn.countBy=ps,Kn.create=function(t,e){var n=Ln(t);return null==e?n:nr(n,e)},Kn.curry=function t(e,n,r){var i=zo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Kn.curryRight=function t(e,n,r){var i=zo(e,16,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Kn.debounce=Ps,Kn.defaults=Ca,Kn.defaultsDeep=Sa,Kn.defer=Is,Kn.delay=Fs,Kn.difference=Li,Kn.differenceBy=Bi,Kn.differenceWith=Ui,Kn.drop=function(t,e,n){var r=null==t?0:t.length;return r?to(t,(e=n||e===o?1:da(e))<0?0:e,r):[]},Kn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?to(t,0,(e=r-(e=n||e===o?1:da(e)))<0?0:e):[]},Kn.dropRightWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!0,!0):[]},Kn.dropWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!0):[]},Kn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=da(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:da(r))<0&&(r+=i),r=n>r?0:pa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Kn.filter=function(t,e){return(Hs(t)?Me:pr)(t,si(e,3))},Kn.flatMap=function(t,e){return mr(bs(t,e),1)},Kn.flatMapDeep=function(t,e){return mr(bs(t,e),l)},Kn.flatMapDepth=function(t,e,n){return n=n===o?1:da(n),mr(bs(t,e),n)},Kn.flatten=Vi,Kn.flattenDeep=function(t){return null!=t&&t.length?mr(t,l):[]},Kn.flattenDepth=function(t,e){return null!=t&&t.length?mr(t,e=e===o?1:da(e)):[]},Kn.flip=function(t){return zo(t,512)},Kn.flow=tu,Kn.flowRight=eu,Kn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Kn.functions=function(t){return null==t?[]:gr(t,Pa(t))},Kn.functionsIn=function(t){return null==t?[]:gr(t,Ia(t))},Kn.groupBy=ys,Kn.initial=function(t){return null!=t&&t.length?to(t,0,-1):[]},Kn.intersection=Wi,Kn.intersectionBy=$i,Kn.intersectionWith=Gi,Kn.invert=Oa,Kn.invertBy=Ma,Kn.invokeMap=gs,Kn.iteratee=ru,Kn.keyBy=Es,Kn.keys=Pa,Kn.keysIn=Ia,Kn.map=bs,Kn.mapKeys=function(t,e){var n={};return e=si(e,3),Tr(t,(function(t,r,o){rr(n,e(t,r,o),t)})),n},Kn.mapValues=function(t,e){var n={};return e=si(e,3),Tr(t,(function(t,r,o){rr(n,r,e(t,r,o))})),n},Kn.matches=function(t){return Dr(sr(t,1))},Kn.matchesProperty=function(t,e){return Kr(t,sr(e,1))},Kn.memoize=Ns,Kn.merge=Fa,Kn.mergeWith=Na,Kn.method=ou,Kn.methodOf=iu,Kn.mixin=su,Kn.negate=xs,Kn.nthArg=function(t){return t=da(t),$r((function(e){return Br(e,t)}))},Kn.omit=xa,Kn.omitBy=function(t,e){return ka(t,xs(si(e)))},Kn.once=function(t){return Os(2,t)},Kn.orderBy=function(t,e,n,r){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=r?o:n)||(n=null==n?[]:[n]),Ur(t,e,n))},Kn.over=uu,Kn.overArgs=js,Kn.overEvery=cu,Kn.overSome=lu,Kn.partial=ks,Kn.partialRight=Ds,Kn.partition=Cs,Kn.pick=ja,Kn.pickBy=ka,Kn.property=fu,Kn.propertyOf=function(t){return function(e){return null==t?o:Er(t,e)}},Kn.pull=Qi,Kn.pullAll=Xi,Kn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,si(n,2)):t},Kn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,o,n):t},Kn.pullAt=Ji,Kn.range=hu,Kn.rangeRight=du,Kn.rearg=Ks,Kn.reject=function(t,e){return(Hs(t)?Me:pr)(t,xs(si(e,3)))},Kn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=si(e,3);++r<i;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return Vr(t,o),n},Kn.rest=function(t,e){if("function"!=typeof t)throw new Ot(i);return $r(t,e=e===o?e:da(e))},Kn.reverse=Zi,Kn.sampleSize=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:da(e),(Hs(t)?Qn:zr)(t,e)},Kn.set=function(t,e,n){return null==t?t:Qr(t,e,n)},Kn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Qr(t,e,n,r)},Kn.shuffle=function(t){return(Hs(t)?Xn:Zr)(t)},Kn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:da(e),n=n===o?r:da(n)),to(t,e,n)):[]},Kn.sortBy=Ss,Kn.sortedUniq=function(t){return t&&t.length?oo(t):[]},Kn.sortedUniqBy=function(t,e){return t&&t.length?oo(t,si(e,2)):[]},Kn.split=function(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=o),(n=n===o?d:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=so(e))&&rn(t)?yo(fn(t),0,n):t.split(e,n):[]},Kn.spread=function(t,e){if("function"!=typeof t)throw new Ot(i);return e=null==e?0:vn(da(e),0),$r((function(n){var r=n[e],o=yo(n,0,e);return r&&Fe(o,r),Ce(t,this,o)}))},Kn.tail=function(t){var e=null==t?0:t.length;return e?to(t,1,e):[]},Kn.take=function(t,e,n){return t&&t.length?to(t,0,(e=n||e===o?1:da(e))<0?0:e):[]},Kn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?to(t,(e=r-(e=n||e===o?1:da(e)))<0?0:e,r):[]},Kn.takeRightWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!1,!0):[]},Kn.takeWhile=function(t,e){return t&&t.length?lo(t,si(e,3)):[]},Kn.tap=function(t,e){return e(t),t},Kn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Ot(i);return Zs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ps(t,e,{leading:r,maxWait:e,trailing:o})},Kn.thru=hs,Kn.toArray=fa,Kn.toPairs=Da,Kn.toPairsIn=Ka,Kn.toPath=function(t){return Hs(t)?Ie(t,ki):aa(t)?[t]:Oo(ji(_a(t)))},Kn.toPlainObject=va,Kn.transform=function(t,e,n){var r=Hs(t),o=r||$s(t)||ua(t);if(e=si(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:Zs(t)&&Qs(i)?Ln(Vt(t)):{}}return(o?we:Tr)(t,(function(t,r,o){return e(n,t,r,o)})),n},Kn.unary=function(t){return As(t,1)},Kn.union=ts,Kn.unionBy=es,Kn.unionWith=ns,Kn.uniq=function(t){return t&&t.length?ao(t):[]},Kn.uniqBy=function(t,e){return t&&t.length?ao(t,si(e,2)):[]},Kn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?ao(t,o,e):[]},Kn.unset=function(t,e){return null==t||uo(t,e)},Kn.unzip=rs,Kn.unzipWith=os,Kn.update=function(t,e,n){return null==t?t:co(t,e,vo(n))},Kn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:co(t,e,vo(n),r)},Kn.values=La,Kn.valuesIn=function(t){return null==t?[]:Qe(t,Ia(t))},Kn.without=is,Kn.words=Qa,Kn.wrap=function(t,e){return ks(vo(e),t)},Kn.xor=ss,Kn.xorBy=as,Kn.xorWith=us,Kn.zip=cs,Kn.zipObject=function(t,e){return po(t||[],e||[],Zn)},Kn.zipObjectDeep=function(t,e){return po(t||[],e||[],Qr)},Kn.zipWith=ls,Kn.entries=Da,Kn.entriesIn=Ka,Kn.extend=ya,Kn.extendWith=ga,su(Kn,Kn),Kn.add=_u,Kn.attempt=Xa,Kn.camelCase=Ba,Kn.capitalize=Ua,Kn.ceil=Tu,Kn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ma(n))==n?n:0),e!==o&&(e=(e=ma(e))==e?e:0),ir(ma(t),e,n)},Kn.clone=function(t){return sr(t,4)},Kn.cloneDeep=function(t){return sr(t,5)},Kn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:o)},Kn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:o)},Kn.conformsTo=function(t,e){return null==e||ar(t,e,Pa(e))},Kn.deburr=qa,Kn.defaultTo=function(t,e){return null==t||t!=t?e:t},Kn.divide=yu,Kn.endsWith=function(t,e,n){t=_a(t),e=so(e);var r=t.length,i=n=n===o?r:ir(da(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Kn.eq=Ls,Kn.escape=function(t){return(t=_a(t))&&G.test(t)?t.replace(W,en):t},Kn.escapeRegExp=function(t){return(t=_a(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Kn.every=function(t,e,n){var r=Hs(t)?Oe:hr;return n&&_i(t,e,n)&&(e=o),r(t,si(e,3))},Kn.find=ms,Kn.findIndex=qi,Kn.findKey=function(t,e){return De(t,si(e,3),Tr)},Kn.findLast=vs,Kn.findLastIndex=Hi,Kn.findLastKey=function(t,e){return De(t,si(e,3),yr)},Kn.floor=gu,Kn.forEach=_s,Kn.forEachRight=Ts,Kn.forIn=function(t,e){return null==t?t:vr(t,si(e,3),Ia)},Kn.forInRight=function(t,e){return null==t?t:_r(t,si(e,3),Ia)},Kn.forOwn=function(t,e){return t&&Tr(t,si(e,3))},Kn.forOwnRight=function(t,e){return t&&yr(t,si(e,3))},Kn.get=wa,Kn.gt=Bs,Kn.gte=Us,Kn.has=function(t,e){return null!=t&&di(t,e,wr)},Kn.hasIn=Aa,Kn.head=Yi,Kn.identity=nu,Kn.includes=function(t,e,n,r){t=Ys(t)?t:La(t),n=n&&!r?da(n):0;var o=t.length;return n<0&&(n=vn(o+n,0)),sa(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Le(t,e,n)>-1},Kn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:da(n);return o<0&&(o=vn(r+o,0)),Le(t,e,o)},Kn.inRange=function(t,e,n){return e=ha(e),n===o?(n=e,e=0):n=ha(n),function(t,e,n){return t>=_n(e,n)&&t<vn(e,n)}(t=ma(t),e,n)},Kn.invoke=Ra,Kn.isArguments=qs,Kn.isArray=Hs,Kn.isArrayBuffer=Vs,Kn.isArrayLike=Ys,Kn.isArrayLikeObject=Ws,Kn.isBoolean=function(t){return!0===t||!1===t||ta(t)&&Cr(t)==_},Kn.isBuffer=$s,Kn.isDate=Gs,Kn.isElement=function(t){return ta(t)&&1===t.nodeType&&!ra(t)},Kn.isEmpty=function(t){if(null==t)return!0;if(Ys(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||$s(t)||ua(t)||qs(t)))return!t.length;var e=hi(t);if(e==b||e==O)return!t.size;if(Ei(t))return!xr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Kn.isEqual=function(t,e){return Pr(t,e)},Kn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Pr(t,e,o,n):!!r},Kn.isError=zs,Kn.isFinite=function(t){return"number"==typeof t&&ke(t)},Kn.isFunction=Qs,Kn.isInteger=Xs,Kn.isLength=Js,Kn.isMap=ea,Kn.isMatch=function(t,e){return t===e||Ir(t,e,ui(e))},Kn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Ir(t,e,ui(e),n)},Kn.isNaN=function(t){return na(t)&&t!=+t},Kn.isNative=function(t){if(gi(t))throw new Et("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(t)},Kn.isNil=function(t){return null==t},Kn.isNull=function(t){return null===t},Kn.isNumber=na,Kn.isObject=Zs,Kn.isObjectLike=ta,Kn.isPlainObject=ra,Kn.isRegExp=oa,Kn.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=f},Kn.isSet=ia,Kn.isString=sa,Kn.isSymbol=aa,Kn.isTypedArray=ua,Kn.isUndefined=function(t){return t===o},Kn.isWeakMap=function(t){return ta(t)&&hi(t)==P},Kn.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==Cr(t)},Kn.join=function(t,e){return null==t?"":Ve.call(t,e)},Kn.kebabCase=Ha,Kn.last=zi,Kn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=da(n))<0?vn(r+i,0):_n(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ke(t,Ue,i,!0)},Kn.lowerCase=Va,Kn.lowerFirst=Ya,Kn.lt=ca,Kn.lte=la,Kn.max=function(t){return t&&t.length?dr(t,nu,Sr):o},Kn.maxBy=function(t,e){return t&&t.length?dr(t,si(e,2),Sr):o},Kn.mean=function(t){return qe(t,nu)},Kn.meanBy=function(t,e){return qe(t,si(e,2))},Kn.min=function(t){return t&&t.length?dr(t,nu,jr):o},Kn.minBy=function(t,e){return t&&t.length?dr(t,si(e,2),jr):o},Kn.stubArray=pu,Kn.stubFalse=mu,Kn.stubObject=function(){return{}},Kn.stubString=function(){return""},Kn.stubTrue=function(){return!0},Kn.multiply=Eu,Kn.nth=function(t,e){return t&&t.length?Br(t,da(e)):o},Kn.noConflict=function(){return fe._===this&&(fe._=Kt),this},Kn.noop=au,Kn.now=ws,Kn.pad=function(t,e,n){t=_a(t);var r=(e=da(e))?ln(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return qo(de(o),n)+t+qo(he(o),n)},Kn.padEnd=function(t,e,n){t=_a(t);var r=(e=da(e))?ln(t):0;return e&&r<e?t+qo(e-r,n):t},Kn.padStart=function(t,e,n){t=_a(t);var r=(e=da(e))?ln(t):0;return e&&r<e?qo(e-r,n)+t:t},Kn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),yn(_a(t).replace(rt,""),e||0)},Kn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ha(t),e===o?(e=t,t=0):e=ha(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=gn();return _n(t+i*(e-t+ae("1e-"+((i+"").length-1))),e)}return Yr(t,e)},Kn.reduce=function(t,e,n){var r=Hs(t)?Ne:Ye,o=arguments.length<3;return r(t,si(e,4),n,o,lr)},Kn.reduceRight=function(t,e,n){var r=Hs(t)?xe:Ye,o=arguments.length<3;return r(t,si(e,4),n,o,fr)},Kn.repeat=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:da(e),Wr(_a(t),e)},Kn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Kn.result=function(t,e,n){var r=-1,i=(e=_o(e,t)).length;for(i||(i=1,t=o);++r<i;){var s=null==t?o:t[ki(e[r])];s===o&&(r=i,s=n),t=Qs(s)?s.call(t):s}return t},Kn.round=bu,Kn.runInContext=t,Kn.sample=function(t){return(Hs(t)?zn:Gr)(t)},Kn.size=function(t){if(null==t)return 0;if(Ys(t))return sa(t)?ln(t):t.length;var e=hi(t);return e==b||e==O?t.size:xr(t).length},Kn.snakeCase=Wa,Kn.some=function(t,e,n){var r=Hs(t)?je:eo;return n&&_i(t,e,n)&&(e=o),r(t,si(e,3))},Kn.sortedIndex=function(t,e){return no(t,e)},Kn.sortedIndexBy=function(t,e,n){return ro(t,e,si(n,2))},Kn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=no(t,e);if(r<n&&Ls(t[r],e))return r}return-1},Kn.sortedLastIndex=function(t,e){return no(t,e,!0)},Kn.sortedLastIndexBy=function(t,e,n){return ro(t,e,si(n,2),!0)},Kn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=no(t,e,!0)-1;if(Ls(t[n],e))return n}return-1},Kn.startCase=$a,Kn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:ir(da(n),0,t.length),e=so(e),t.slice(n,n+e.length)==e},Kn.subtract=Cu,Kn.sum=function(t){return t&&t.length?We(t,nu):0},Kn.sumBy=function(t,e){return t&&t.length?We(t,si(e,2)):0},Kn.template=function(t,e,n){var r=Kn.templateSettings;n&&_i(t,e,n)&&(e=o),t=_a(t),e=ga({},e,r,Qo);var i,s,a=ga({},e.imports,r.imports,Qo),u=Pa(a),c=Qe(a,u),l=0,f=e.interpolate||yt,h="__p += '",d=wt((e.escape||yt).source+"|"+f.source+"|"+(f===X?ft:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,o,a,u){return r||(r=o),h+=t.slice(l,u).replace(gt,nn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var m=Nt.call(e,"variable")&&e.variable;if(m){if(ct.test(m))throw new Et("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(q,""):h).replace(H,"$1").replace(V,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Xa((function(){return bt(u,p+"return "+h).apply(o,c)}));if(v.source=h,zs(v))throw v;return v},Kn.times=function(t,e){if((t=da(t))<1||t>f)return[];var n=d,r=_n(t,d);e=si(e),t-=d;for(var o=$e(r,e);++n<t;)e(n);return o},Kn.toFinite=ha,Kn.toInteger=da,Kn.toLength=pa,Kn.toLower=function(t){return _a(t).toLowerCase()},Kn.toNumber=ma,Kn.toSafeInteger=function(t){return t?ir(da(t),-9007199254740991,f):0===t?t:0},Kn.toString=_a,Kn.toUpper=function(t){return _a(t).toUpperCase()},Kn.trim=function(t,e,n){if((t=_a(t))&&(n||e===o))return Ge(t);if(!t||!(e=so(e)))return t;var r=fn(t),i=fn(e);return yo(r,Je(r,i),Ze(r,i)+1).join("")},Kn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===o))return t.slice(0,hn(t)+1);if(!t||!(e=so(e)))return t;var r=fn(t);return yo(r,0,Ze(r,fn(e))+1).join("")},Kn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===o))return t.replace(rt,"");if(!t||!(e=so(e)))return t;var r=fn(t);return yo(r,Je(r,fn(e))).join("")},Kn.truncate=function(t,e){var n=30,r="...";if(Zs(e)){var i="separator"in e?e.separator:i;n="length"in e?da(e.length):n,r="omission"in e?so(e.omission):r}var s=(t=_a(t)).length;if(rn(t)){var a=fn(t);s=a.length}if(n>=s)return t;var u=n-ln(r);if(u<1)return r;var c=a?yo(a,0,u).join(""):t.slice(0,u);if(i===o)return c+r;if(a&&(u+=c.length-u),oa(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=wt(i.source,_a(ht.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(so(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Kn.unescape=function(t){return(t=_a(t))&&$.test(t)?t.replace(Y,dn):t},Kn.uniqueId=function(t){var e=++xt;return _a(t)+e},Kn.upperCase=Ga,Kn.upperFirst=za,Kn.each=_s,Kn.eachRight=Ts,Kn.first=Yi,su(Kn,(vu={},Tr(Kn,(function(t,e){Nt.call(Kn.prototype,e)||(vu[e]=t)})),vu),{chain:!1}),Kn.VERSION="4.17.21",we(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Kn[t].placeholder=Kn})),we(["drop","take"],(function(t,e){qn.prototype[t]=function(n){n=n===o?1:vn(da(n),0);var r=this.__filtered__&&!e?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,d),type:t+(r.__dir__<0?"Right":"")}),r},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),we(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:si(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),we(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),we(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(nu)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=$r((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Mr(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(xs(si(t)))},qn.prototype.slice=function(t,e){t=da(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=da(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(d)},Tr(qn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Kn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(Kn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof qn,c=a[0],l=u||Hs(e),f=function(t){var e=i.apply(Kn,Fe([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,m=u&&!d;if(!s&&l){e=m?e:new qn(this);var v=t.apply(e,a);return v.__actions__.push({func:hs,args:[f],thisArg:o}),new Un(v,h)}return p&&m?t.apply(this,a):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),we(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Kn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Hs(o)?o:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),Tr(qn.prototype,(function(t,e){var n=Kn[e];if(n){var r=n.name+"";Nt.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}})),Rn[Ko(o,2).name]=[{name:"wrapper",func:o}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Oo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oo(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=_n(e,t+s);break;case"takeRight":t=vn(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,d=_n(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return fo(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var m=-1,v=t[c+=e];++m<f;){var _=l[m],T=_.iteratee,y=_.type,g=T(v);if(2==y)v=g;else if(!g){if(1==y)continue t;break t}}p[h++]=v}return p},Kn.prototype.at=ds,Kn.prototype.chain=function(){return fs(this)},Kn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Kn.prototype.next=function(){this.__values__===o&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Kn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Ki(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Kn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:hs,args:[Zi],thisArg:o}),new Un(e,this.__chain__)}return this.thru(Zi)},Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Kn.prototype.first=Kn.prototype.head,zt&&(Kn.prototype[zt]=function(){return this}),Kn}();fe._=pn,(r=function(){return pn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},24356:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultipartBody=void 0;class n{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}e.MultipartBody=n},78978:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(70331),e)},12212:function(t,e,n){const r=n(83085),o=n(78978);r.kind||r.setShims(o.getRuntime(),{auto:!0});for(const t of Object.keys(r))Object.defineProperty(e,t,{get(){return r[t]}})},83085:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setShims=e.isFsReadStream=e.fileFromPath=e.getDefaultAgent=e.getMultipartRequestOptions=e.ReadableStream=e.File=e.Blob=e.FormData=e.Headers=e.Response=e.Request=e.fetch=e.kind=e.auto=void 0,e.auto=!1,e.kind=void 0,e.fetch=void 0,e.Request=void 0,e.Response=void 0,e.Headers=void 0,e.FormData=void 0,e.Blob=void 0,e.File=void 0,e.ReadableStream=void 0,e.getMultipartRequestOptions=void 0,e.getDefaultAgent=void 0,e.fileFromPath=void 0,e.isFsReadStream=void 0,e.setShims=function(t,n={auto:!1}){if(e.auto)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(e.kind)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${e.kind}'\``);e.auto=n.auto,e.kind=t.kind,e.fetch=t.fetch,e.Request=t.Request,e.Response=t.Response,e.Headers=t.Headers,e.FormData=t.FormData,e.Blob=t.Blob,e.File=t.File,e.ReadableStream=t.ReadableStream,e.getMultipartRequestOptions=t.getMultipartRequestOptions,e.getDefaultAgent=t.getDefaultAgent,e.fileFromPath=t.fileFromPath,e.isFsReadStream=t.isFsReadStream}},70331:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRuntime=void 0;const r=n(24356);e.getRuntime=function({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,o,i,s;try{n=fetch,o=Request,i=Response,s=Headers}catch(t){throw new Error(`this environment is missing the following Web Fetch API type: ${t.message}. ${e}`)}return{kind:"web",fetch:n,Request:o,Response:i,Headers:s,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(t,e)=>({...e,body:new r.MultipartBody(t)}),getDefaultAgent:t=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:t=>!1}}},43690:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MalformedJSON=e.PartialJSON=e.partialParse=void 0;class n extends Error{}e.PartialJSON=n;class r extends Error{}e.MalformedJSON=r;e.partialParse=t=>function(t,e=511){if("string"!=typeof t)throw new TypeError("expecting str, got "+typeof t);if(!t.trim())throw new Error(`${t} is empty`);return((t,e)=>{const o=t.length;let i=0;const s=t=>{throw new n(`${t} at position ${i}`)},a=t=>{throw new r(`${t} at position ${i}`)},u=()=>(d(),i>=o&&s("Unexpected end of input"),'"'===t[i]?c():"{"===t[i]?l():"["===t[i]?f():"null"===t.substring(i,i+4)||16&e&&o-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):"true"===t.substring(i,i+4)||32&e&&o-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):"false"===t.substring(i,i+5)||32&e&&o-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):"Infinity"===t.substring(i,i+8)||128&e&&o-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):"-Infinity"===t.substring(i,i+9)||256&e&&1<o-i&&o-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):"NaN"===t.substring(i,i+3)||64&e&&o-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):h()),c=()=>{const n=i;let r=!1;for(i++;i<o&&('"'!==t[i]||r&&"\\"===t[i-1]);)r="\\"===t[i]&&!r,i++;if('"'==t.charAt(i))try{return JSON.parse(t.substring(n,++i-Number(r)))}catch(t){a(String(t))}else if(1&e)try{return JSON.parse(t.substring(n,i-Number(r))+'"')}catch(e){return JSON.parse(t.substring(n,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{i++,d();const n={};try{for(;"}"!==t[i];){if(d(),i>=o&&8&e)return n;const r=c();d(),i++;try{const t=u();Object.defineProperty(n,r,{value:t,writable:!0,enumerable:!0,configurable:!0})}catch(t){if(8&e)return n;throw t}d(),","===t[i]&&i++}}catch(t){if(8&e)return n;s("Expected '}' at end of object")}return i++,n},f=()=>{i++;const n=[];try{for(;"]"!==t[i];)n.push(u()),d(),","===t[i]&&i++}catch(t){if(4&e)return n;s("Expected ']' at end of array")}return i++,n},h=()=>{if(0===i){"-"===t&&2&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(n){if(2&e)try{return"."===t[t.length-1]?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch(t){}a(String(n))}}const n=i;for("-"===t[i]&&i++;t[i]&&!",]}".includes(t[i]);)i++;i!=o||2&e||s("Unterminated number literal");try{return JSON.parse(t.substring(n,i))}catch(r){"-"===t.substring(n,i)&&2&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(n,t.lastIndexOf("e")))}catch(t){a(String(t))}}},d=()=>{for(;i<o&&" \n\r\t".includes(t[i]);)i++};return u()})(t.trim(),e)}(t,509)},88757:function(t,e,n){"use strict";var r,o=n(64583).Promise,i=this&&this.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},s=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.isObj=e.toBase64=e.getHeader=e.getRequiredHeader=e.isHeadersProtocol=e.isRunningInBrowser=e.debug=e.hasOwn=e.isEmptyObj=e.maybeCoerceBoolean=e.maybeCoerceFloat=e.maybeCoerceInteger=e.coerceBoolean=e.coerceFloat=e.coerceInteger=e.readEnv=e.ensurePresent=e.castToError=e.sleep=e.safeJSON=e.isRequestOptions=e.createResponseHeaders=e.PagePromise=e.AbstractPage=e.APIClient=e.APIPromise=e.createForm=e.multipartFormRequestOptions=e.maybeMultipartFormRequestOptions=void 0;const a=n(35392),u=n(6716),c=n(89526),l=n(12212),f=n(64042);var h=n(64042);async function d(t){const{response:e}=t;if(t.options.stream)return R("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):u.Stream.fromSSEResponse(e,t.controller);if(204===e.status)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const t=await e.json();return R("response",e.status,e.url,e.headers,t),p(t,e)}const r=await e.text();return R("response",e.status,e.url,e.headers,r),r}function p(t,e){return!t||"object"!=typeof t||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}Object.defineProperty(e,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return h.maybeMultipartFormRequestOptions}}),Object.defineProperty(e,"multipartFormRequestOptions",{enumerable:!0,get:function(){return h.multipartFormRequestOptions}}),Object.defineProperty(e,"createForm",{enumerable:!0,get:function(){return h.createForm}});class m extends o{constructor(t,e=d){super((t=>{t(null)})),this.responsePromise=t,this.parseResponse=e}_thenUnwrap(t){return new m(this.responsePromise,(async e=>p(t(await this.parseResponse(e),e),e.response)))}asResponse(){return this.responsePromise.then((t=>t.response))}async withResponse(){const[t,e]=await o.all([this.parse(),this.asResponse()]);return{data:t,response:e,request_id:e.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,e){return this.parse().then(t,e)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}e.APIPromise=m,e.APIClient=class{constructor({baseURL:t,maxRetries:e=2,timeout:n=6e5,httpAgent:r,fetch:o}){this.baseURL=t,this.maxRetries=w("maxRetries",e),this.timeout=w("timeout",n),this.httpAgent=r,this.fetch=o??l.fetch}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...b(),...this.authHeaders(t)}}validateHeaders(t,e){}defaultIdempotencyKey(){return`stainless-node-retry-${P()}`}get(t,e){return this.methodRequest("get",t,e)}post(t,e){return this.methodRequest("post",t,e)}patch(t,e){return this.methodRequest("patch",t,e)}put(t,e){return this.methodRequest("put",t,e)}delete(t,e){return this.methodRequest("delete",t,e)}methodRequest(t,e,n){return this.request(o.resolve(n).then((async n=>{const r=n&&(0,f.isBlobLike)(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:t,path:e,...n,body:r}})))}getAPIList(t,e,n){return this.requestAPIList(e,{method:"get",path:t,...n})}calculateContentLength(t){if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.byteLength(t,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:e=0}={}){const{method:n,path:r,query:o,headers:i={}}=t,s=ArrayBuffer.isView(t.body)||t.__binaryRequest&&"string"==typeof t.body?t.body:(0,f.isMultipartBody)(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(s),u=this.buildURL(r,o);"timeout"in t&&w("timeout",t.timeout);const c=t.timeout??this.timeout,h=t.httpAgent??this.httpAgent??(0,l.getDefaultAgent)(u),d=c+1e3;return"number"==typeof h?.options?.timeout&&d>(h.options.timeout??0)&&(h.options.timeout=d),this.idempotencyHeader&&"get"!==n&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey),{req:{method:n,...s&&{body:s},headers:this.buildHeaders({options:t,headers:i,contentLength:a,retryCount:e}),...h&&{agent:h},signal:t.signal??null},url:u,timeout:c}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:o}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(t);return M(i,s),M(i,n),(0,f.isMultipartBody)(t.body)&&"node"!==l.kind&&delete i["content-type"],void 0===(0,e.getHeader)(s,"x-stainless-retry-count")&&void 0===(0,e.getHeader)(n,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:e,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map((t=>[...t]))):{...t}:{}}makeStatusError(t,e,n,r){return c.APIError.generate(t,e,n,r)}request(t,e=null){return new m(this.makeRequest(t,e))}async makeRequest(t,n){const r=await t,o=r.maxRetries??this.maxRetries;null==n&&(n=o),await this.prepareOptions(r);const{req:i,url:s,timeout:a}=this.buildRequest(r,{retryCount:o-n});if(await this.prepareRequest(i,{url:s,options:r}),R("request",s,r,i.headers),r.signal?.aborted)throw new c.APIUserAbortError;const u=new AbortController,l=await this.fetchWithTimeout(s,i,a,u).catch(e.castToError);if(l instanceof Error){if(r.signal?.aborted)throw new c.APIUserAbortError;if(n)return this.retryRequest(r,n);if("AbortError"===l.name)throw new c.APIConnectionTimeoutError;throw new c.APIConnectionError({cause:l})}const f=(0,e.createResponseHeaders)(l.headers);if(!l.ok){if(n&&this.shouldRetry(l))return R(`response (error; retrying, ${n} attempts remaining)`,l.status,s,f),this.retryRequest(r,n,f);const t=await l.text().catch((t=>(0,e.castToError)(t).message)),o=(0,e.safeJSON)(t),i=o?void 0:t;throw R(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,f,i),this.makeStatusError(l.status,o,i,f)}return{response:l,options:r,controller:u}}requestAPIList(t,e){const n=this.makeRequest(e,null);return new _(this,n,t)}buildURL(t,e){const n=S(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),r=this.defaultQuery();return A(r)||(e={...r,...e}),"object"==typeof e&&e&&!Array.isArray(e)&&(n.search=this.stringifyQuery(e)),n.toString()}stringifyQuery(t){return Object.entries(t).filter((([t,e])=>void 0!==e)).map((([t,e])=>{if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return`${encodeURIComponent(t)}=${encodeURIComponent(e)}`;if(null===e)return`${encodeURIComponent(t)}=`;throw new c.OpenAIError(`Cannot stringify type ${typeof e}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(t,e,n,r){const{signal:o,...i}=e||{};o&&o.addEventListener("abort",(()=>r.abort()));const s=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,t,{signal:r.signal,...i}).finally((()=>{clearTimeout(s)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const e=t.headers.get("x-should-retry");return"true"===e||"false"!==e&&(408===t.status||409===t.status||429===t.status||t.status>=500)}async retryRequest(t,n,r){let o;const i=r?.["retry-after-ms"];if(i){const t=parseFloat(i);Number.isNaN(t)||(o=t)}const s=r?.["retry-after"];if(s&&!o){const t=parseFloat(s);o=Number.isNaN(t)?Date.parse(s)-Date.now():1e3*t}if(!(o&&0<=o&&o<6e4)){const e=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,e)}return await(0,e.sleep)(o),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,e){const n=e-t;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${a.VERSION}`}};class v{constructor(t,e,n,o){r.set(this,void 0),i(this,r,t,"f"),this.options=o,this.response=e,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new c.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const e={...this.options};if("params"in t&&"object"==typeof e.query)e.query={...e.query,...t.params};else if("url"in t){const n=[...Object.entries(e.query||{}),...t.url.searchParams.entries()];for(const[e,r]of n)t.url.searchParams.set(e,r);e.query=void 0,e.path=t.url.toString()}return await s(this,r,"f").requestAPIList(this.constructor,e)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const e of t.getPaginatedItems())yield e}}e.AbstractPage=v;class _ extends m{constructor(t,e,n){super(e,(async e=>new n(t,e.response,await d(e),e.options)))}async*[Symbol.asyncIterator](){const t=await(this);for await(const e of t)yield e}}e.PagePromise=_,e.createResponseHeaders=t=>new Proxy(Object.fromEntries(t.entries()),{get(t,e){const n=e.toString();return t[n.toLowerCase()]||t[n]}});const T={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0};e.isRequestOptions=t=>"object"==typeof t&&null!==t&&!A(t)&&Object.keys(t).every((t=>O(T,t)));const y=t=>"x32"===t?"x32":"x86_64"===t||"x64"===t?"x64":"arm"===t?"arm":"aarch64"===t||"arm64"===t?"arm64":t?`other:${t}`:"unknown",g=t=>(t=t.toLowerCase()).includes("ios")?"iOS":"android"===t?"Android":"darwin"===t?"MacOS":"win32"===t?"Windows":"freebsd"===t?"FreeBSD":"openbsd"===t?"OpenBSD":"linux"===t?"Linux":t?`Other:${t}`:"Unknown";let E;const b=()=>E??(E=(()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":a.VERSION,"X-Stainless-OS":g(Deno.build.os),"X-Stainless-Arch":y(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":a.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":a.VERSION,"X-Stainless-OS":g(process.platform),"X-Stainless-Arch":y(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const t=n.exec(navigator.userAgent);if(t)return{browser:e,version:`${t[1]||0}.${t[2]||0}.${t[3]||0}`}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":a.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":a.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());e.safeJSON=t=>{try{return JSON.parse(t)}catch(t){return}};const C=new RegExp("^(?:[a-z]+:)?//","i"),S=t=>C.test(t);e.sleep=t=>new o((e=>setTimeout(e,t)));const w=(t,e)=>{if("number"!=typeof e||!Number.isInteger(e))throw new c.OpenAIError(`${t} must be an integer`);if(e<0)throw new c.OpenAIError(`${t} must be a positive integer`);return e};function A(t){if(!t)return!0;for(const e in t)return!1;return!0}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){for(const n in e){if(!O(e,n))continue;const r=n.toLowerCase();if(!r)continue;const o=e[n];null===o?delete t[r]:void 0!==o&&(t[r]=o)}}function R(t,...e){"undefined"!=typeof process&&"true"===process?.env?.DEBUG&&console.log(`OpenAI:DEBUG:${t}`,...e)}e.castToError=t=>{if(t instanceof Error)return t;if("object"==typeof t&&null!==t)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},e.ensurePresent=t=>{if(null==t)throw new c.OpenAIError(`Expected a value to be given but received ${t} instead.`);return t},e.readEnv=t=>"undefined"!=typeof process?process.env?.[t]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(t)?.trim():void 0,e.coerceInteger=t=>{if("number"==typeof t)return Math.round(t);if("string"==typeof t)return parseInt(t,10);throw new c.OpenAIError(`Could not coerce ${t} (type: ${typeof t}) into a number`)},e.coerceFloat=t=>{if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);throw new c.OpenAIError(`Could not coerce ${t} (type: ${typeof t}) into a number`)},e.coerceBoolean=t=>"boolean"==typeof t?t:"string"==typeof t?"true"===t:Boolean(t),e.maybeCoerceInteger=t=>{if(void 0!==t)return(0,e.coerceInteger)(t)},e.maybeCoerceFloat=t=>{if(void 0!==t)return(0,e.coerceFloat)(t)},e.maybeCoerceBoolean=t=>{if(void 0!==t)return(0,e.coerceBoolean)(t)},e.isEmptyObj=A,e.hasOwn=O,e.debug=R;const P=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}));e.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator,e.isHeadersProtocol=t=>"function"==typeof t?.get,e.getRequiredHeader=(t,n)=>{const r=(0,e.getHeader)(t,n);if(void 0===r)throw new Error(`Could not find ${n} header`);return r},e.getHeader=(t,n)=>{const r=n.toLowerCase();if((0,e.isHeadersProtocol)(t)){const e=n[0]?.toUpperCase()+n.substring(1).replace(/([^\w])(\w)/g,((t,e,n)=>e+n.toUpperCase()));for(const o of[n,r,n.toUpperCase(),e]){const e=t.get(o);if(e)return e}}for(const[e,o]of Object.entries(t))if(e.toLowerCase()===r)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${n} header, using the first entry.`),o[0]):o},e.toBase64=t=>{if(!t)return"";if("undefined"!=typeof Buffer)return Buffer.from(t).toString("base64");if("undefined"!=typeof btoa)return btoa(t);throw new c.OpenAIError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")},e.isObj=function(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}},89526:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentFilterFinishReasonError=e.LengthFinishReasonError=e.InternalServerError=e.RateLimitError=e.UnprocessableEntityError=e.ConflictError=e.NotFoundError=e.PermissionDeniedError=e.AuthenticationError=e.BadRequestError=e.APIConnectionTimeoutError=e.APIConnectionError=e.APIUserAbortError=e.APIError=e.OpenAIError=void 0;const r=n(88757);class o extends Error{}e.OpenAIError=o;class i extends o{constructor(t,e,n,r){super(`${i.makeMessage(t,e,n)}`),this.status=t,this.headers=r,this.request_id=r?.["x-request-id"];const o=e;this.error=o,this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(t,e,n){const r=e?.message?"string"==typeof e.message?e.message:JSON.stringify(e.message):e?JSON.stringify(e):n;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,e,n,o){if(!t)return new s({message:n,cause:(0,r.castToError)(e)});const m=e?.error;return 400===t?new a(t,m,n,o):401===t?new u(t,m,n,o):403===t?new c(t,m,n,o):404===t?new l(t,m,n,o):409===t?new f(t,m,n,o):422===t?new h(t,m,n,o):429===t?new d(t,m,n,o):t>=500?new p(t,m,n,o):new i(t,m,n,o)}}e.APIError=i,e.APIUserAbortError=class extends i{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}};class s extends i{constructor({message:t,cause:e}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,e&&(this.cause=e)}}e.APIConnectionError=s,e.APIConnectionTimeoutError=class extends s{constructor({message:t}={}){super({message:t??"Request timed out."})}};class a extends i{constructor(){super(...arguments),this.status=400}}e.BadRequestError=a;class u extends i{constructor(){super(...arguments),this.status=401}}e.AuthenticationError=u;class c extends i{constructor(){super(...arguments),this.status=403}}e.PermissionDeniedError=c;class l extends i{constructor(){super(...arguments),this.status=404}}e.NotFoundError=l;class f extends i{constructor(){super(...arguments),this.status=409}}e.ConflictError=f;class h extends i{constructor(){super(...arguments),this.status=422}}e.UnprocessableEntityError=h;class d extends i{constructor(){super(...arguments),this.status=429}}e.RateLimitError=d;class p extends i{}e.InternalServerError=p,e.LengthFinishReasonError=class extends o{constructor(){super("Could not parse response content as the length limit was reached")}},e.ContentFilterFinishReasonError=class extends o{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}},32012:function(t,e,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.AzureOpenAI=e.fileFromPath=e.toFile=e.UnprocessableEntityError=e.PermissionDeniedError=e.InternalServerError=e.AuthenticationError=e.BadRequestError=e.RateLimitError=e.ConflictError=e.NotFoundError=e.APIUserAbortError=e.APIConnectionTimeoutError=e.APIConnectionError=e.APIError=e.OpenAIError=e.OpenAI=void 0;const a=s(n(89526)),u=s(n(64042)),c=s(n(41441)),l=s(n(88757)),f=s(n(2510)),h=s(n(33946));class d extends l.APIClient{constructor({baseURL:t=l.readEnv("OPENAI_BASE_URL"),apiKey:e=l.readEnv("OPENAI_API_KEY"),organization:n=l.readEnv("OPENAI_ORG_ID")??null,project:r=l.readEnv("OPENAI_PROJECT_ID")??null,...o}={}){if(void 0===e)throw new a.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:e,organization:n,project:r,...o,baseURL:t||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&l.isRunningInBrowser())throw new a.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new h.Completions(this),this.chat=new h.Chat(this),this.embeddings=new h.Embeddings(this),this.files=new h.Files(this),this.images=new h.Images(this),this.audio=new h.Audio(this),this.moderations=new h.Moderations(this),this.models=new h.Models(this),this.fineTuning=new h.FineTuning(this),this.beta=new h.Beta(this),this.batches=new h.Batches(this),this.uploads=new h.Uploads(this),this._options=i,this.apiKey=e,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return c.stringify(t,{arrayFormat:"brackets"})}}e.OpenAI=d,r=d,d.OpenAI=r,d.DEFAULT_TIMEOUT=6e5,d.OpenAIError=a.OpenAIError,d.APIError=a.APIError,d.APIConnectionError=a.APIConnectionError,d.APIConnectionTimeoutError=a.APIConnectionTimeoutError,d.APIUserAbortError=a.APIUserAbortError,d.NotFoundError=a.NotFoundError,d.ConflictError=a.ConflictError,d.RateLimitError=a.RateLimitError,d.BadRequestError=a.BadRequestError,d.AuthenticationError=a.AuthenticationError,d.InternalServerError=a.InternalServerError,d.PermissionDeniedError=a.PermissionDeniedError,d.UnprocessableEntityError=a.UnprocessableEntityError,d.toFile=u.toFile,d.fileFromPath=u.fileFromPath,e.OpenAIError=a.OpenAIError,e.APIError=a.APIError,e.APIConnectionError=a.APIConnectionError,e.APIConnectionTimeoutError=a.APIConnectionTimeoutError,e.APIUserAbortError=a.APIUserAbortError,e.NotFoundError=a.NotFoundError,e.ConflictError=a.ConflictError,e.RateLimitError=a.RateLimitError,e.BadRequestError=a.BadRequestError,e.AuthenticationError=a.AuthenticationError,e.InternalServerError=a.InternalServerError,e.PermissionDeniedError=a.PermissionDeniedError,e.UnprocessableEntityError=a.UnprocessableEntityError,e.toFile=u.toFile,e.fileFromPath=u.fileFromPath,function(t){t.Page=f.Page,t.CursorPage=f.CursorPage,t.Completions=h.Completions,t.Chat=h.Chat,t.Embeddings=h.Embeddings,t.Files=h.Files,t.FileObjectsPage=h.FileObjectsPage,t.Images=h.Images,t.Audio=h.Audio,t.Moderations=h.Moderations,t.Models=h.Models,t.ModelsPage=h.ModelsPage,t.FineTuning=h.FineTuning,t.Beta=h.Beta,t.Batches=h.Batches,t.BatchesPage=h.BatchesPage,t.Uploads=h.Uploads}(d=e.OpenAI||(e.OpenAI={}));class p extends d{constructor({baseURL:t=l.readEnv("OPENAI_BASE_URL"),apiKey:e=l.readEnv("AZURE_OPENAI_API_KEY"),apiVersion:n=l.readEnv("OPENAI_API_VERSION"),endpoint:r,deployment:o,azureADTokenProvider:i,dangerouslyAllowBrowser:s,...u}={}){if(!n)throw new a.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof i&&(s=!0),!i&&!e)throw new a.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(i&&e)throw new a.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(e??(e=v),u.defaultQuery={...u.defaultQuery,"api-version":n},t){if(r)throw new a.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(r||(r=process.env.AZURE_OPENAI_ENDPOINT),!r)throw new a.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");t=`${r}/openai`}super({apiKey:e,baseURL:t,...u,...void 0!==s?{dangerouslyAllowBrowser:s}:{}}),this.apiVersion="",this._azureADTokenProvider=i,this.apiVersion=n,this._deployment=o}buildRequest(t){if(m.has(t.path)&&"post"===t.method&&void 0!==t.body){if(!l.isObj(t.body))throw new Error("Expected request body to be an object");const e=this._deployment||t.body.model;void 0===e||this.baseURL.includes("/deployments")||(t.path=`/deployments/${e}${t.path}`)}return super.buildRequest(t)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){const t=await this._azureADTokenProvider();if(!t||"string"!=typeof t)throw new a.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${t}`);return t}}authHeaders(t){return{}}async prepareOptions(t){if(t.headers?.["api-key"])return super.prepareOptions(t);const e=await this._getAzureADToken();if(t.headers??(t.headers={}),e)t.headers.Authorization=`Bearer ${e}`;else{if(this.apiKey===v)throw new a.OpenAIError("Unable to handle auth");t.headers["api-key"]=this.apiKey}return super.prepareOptions(t)}}e.AzureOpenAI=p;const m=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),v="<Missing Key>";e=t.exports=d,t.exports.AzureOpenAI=p,e.default=d},59724:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;const r=n(89526);class o{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let e=this.decodeText(t);if(this.trailingCR&&(e="\r"+e,this.trailingCR=!1),e.endsWith("\r")&&(this.trailingCR=!0,e=e.slice(0,-1)),!e)return[];const n=o.NEWLINE_CHARS.has(e[e.length-1]||"");let r=e.split(o.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(t){if(null==t)return"";if("string"==typeof t)return t;if("undefined"!=typeof Buffer){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new r.OpenAIError(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new r.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new r.OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}e.LineDecoder=o,o.NEWLINE_CHARS=new Set(["\n","\r"]),o.NEWLINE_REGEXP=/\r\n|[\n\r]/g},95257:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RFC3986=e.RFC1738=e.formatters=e.default_format=void 0,e.default_format="RFC3986",e.formatters={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},e.RFC1738="RFC1738",e.RFC3986="RFC3986"},41441:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.stringify=void 0;const r=n(95257),o={formatters:r.formatters,RFC1738:r.RFC1738,RFC3986:r.RFC3986,default:r.default_format};e.formats=o;var i=n(50168);Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}})},50168:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;const r=n(78348),o=n(95257),i=Object.prototype.hasOwnProperty,s={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},a=Array.isArray,u=Array.prototype.push,c=function(t,e){u.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:o.default_format,formatter:o.formatters[o.default_format],indices:!1,serializeDate(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},h={};function d(t,e,n,o,i,s,u,l,p,m,v,_,T,y,g,E,b,C){let S=t,w=C,A=0,O=!1;for(;void 0!==(w=w.get(h))&&!O;){const e=w.get(t);if(A+=1,void 0!==e){if(e===A)throw new RangeError("Cyclic object value");O=!0}void 0===w.get(h)&&(A=0)}if("function"==typeof m?S=m(e,S):S instanceof Date?S=T?.(S):"comma"===n&&a(S)&&(S=(0,r.maybe_map)(S,(function(t){return t instanceof Date?T?.(t):t}))),null===S){if(s)return p&&!E?p(e,f.encoder,b,"key",y):e;S=""}if("string"==typeof(M=S)||"number"==typeof M||"boolean"==typeof M||"symbol"==typeof M||"bigint"==typeof M||(0,r.is_buffer)(S)){if(p){const t=E?e:p(e,f.encoder,b,"key",y);return[g?.(t)+"="+g?.(p(S,f.encoder,b,"value",y))]}return[g?.(e)+"="+g?.(String(S))]}var M;const R=[];if(void 0===S)return R;let P;if("comma"===n&&a(S))E&&p&&(S=(0,r.maybe_map)(S,p)),P=[{value:S.length>0?S.join(",")||null:void 0}];else if(a(m))P=m;else{const t=Object.keys(S);P=v?t.sort(v):t}const I=l?String(e).replace(/\./g,"%2E"):String(e),F=o&&a(S)&&1===S.length?I+"[]":I;if(i&&a(S)&&0===S.length)return F+"[]";for(let e=0;e<P.length;++e){const r=P[e],f="object"==typeof r&&void 0!==r.value?r.value:S[r];if(u&&null===f)continue;const w=_&&l?r.replace(/\./g,"%2E"):r,O=a(S)?"function"==typeof n?n(F,w):F:F+(_?"."+w:"["+w+"]");C.set(t,A);const M=new WeakMap;M.set(h,C),c(R,d(f,O,n,o,i,s,u,l,"comma"===n&&E&&a(S)?null:p,m,v,_,T,y,g,E,b,M))}return R}e.stringify=function(t,e={}){let n=t;const r=function(t=f){if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");const e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=o.default_format;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=o.formatters[n];let u,c=f.filter;if(("function"==typeof t.filter||a(t.filter))&&(c=t.filter),u=t.arrayFormat&&t.arrayFormat in s?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=void 0===t.allowDots?1==!!t.encodeDotInKeys||f.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);let u,l;"function"==typeof r.filter?(l=r.filter,n=l("",n)):a(r.filter)&&(l=r.filter,u=l);const h=[];if("object"!=typeof n||null===n)return"";const p=s[r.arrayFormat],m="comma"===p&&r.commaRoundTrip;u||(u=Object.keys(n)),r.sort&&u.sort(r.sort);const v=new WeakMap;for(let t=0;t<u.length;++t){const e=u[t];r.skipNulls&&null===n[e]||c(h,d(n[e],e,p,m,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,v))}const _=h.join(r.delimiter);let T=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),_.length>0?T+_:""}},78348:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maybe_map=e.combine=e.is_buffer=e.is_regexp=e.compact=e.encode=e.decode=e.assign_single_source=e.merge=void 0;const r=n(95257),o=Object.prototype.hasOwnProperty,i=Array.isArray,s=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();e.merge=function t(e,n,r={}){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);let s=e;return i(e)&&!i(n)&&(s=function(t,e){const n=e&&e.plainObjects?Object.create(null):{};for(let e=0;e<t.length;++e)void 0!==t[e]&&(n[e]=t[e]);return n}(e,r)),i(e)&&i(n)?(n.forEach((function(n,i){if(o.call(e,i)){const o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){const s=n[i];return o.call(e,i)?e[i]=t(e[i],s,r):e[i]=s,e}),s)},e.assign_single_source=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},e.decode=function(t,e,n){const r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}};const a=1024;e.encode=(t,e,n,o,i)=>{if(0===t.length)return t;let u=t;if("symbol"==typeof t?u=Symbol.prototype.toString.call(t):"string"!=typeof t&&(u=String(t)),"iso-8859-1"===n)return escape(u).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));let c="";for(let t=0;t<u.length;t+=a){const e=u.length>=a?u.slice(t,t+a):u,n=[];for(let t=0;t<e.length;++t){let o=e.charCodeAt(t);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||i===r.RFC1738&&(40===o||41===o)?n[n.length]=e.charAt(t):o<128?n[n.length]=s[o]:o<2048?n[n.length]=s[192|o>>6]+s[128|63&o]:o<55296||o>=57344?n[n.length]=s[224|o>>12]+s[128|o>>6&63]+s[128|63&o]:(t+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(t)),n[n.length]=s[240|o>>18]+s[128|o>>12&63]+s[128|o>>6&63]+s[128|63&o])}c+=n.join("")}return c},e.compact=function(t){const e=[{obj:{o:t},prop:"o"}],n=[];for(let t=0;t<e.length;++t){const r=e[t],o=r.obj[r.prop],i=Object.keys(o);for(let t=0;t<i.length;++t){const r=i[t],s=o[r];"object"==typeof s&&null!==s&&-1===n.indexOf(s)&&(e.push({obj:o,prop:r}),n.push(s))}}return function(t){for(;t.length>1;){const e=t.pop();if(!e)continue;const n=e.obj[e.prop];if(i(n)){const t=[];for(let e=0;e<n.length;++e)void 0!==n[e]&&t.push(n[e]);e.obj[e.prop]=t}}}(e),t},e.is_regexp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.is_buffer=function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},e.combine=function(t,e){return[].concat(t,e)},e.maybe_map=function(t,e){if(i(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}},71118:function(t,e,n){"use strict";var r,o,i,s,a,u,c,l,f=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractChatCompletionRunner=void 0;const h=n(89526),d=n(64691),p=n(46289),m=n(50460),v=n(63357),_=10;class T extends m.EventStream{constructor(){super(...arguments),r.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const e=t.choices[0]?.message;return e&&this._addMessage(e),t}_addMessage(t,e=!0){if("content"in t||(t.content=null),this.messages.push(t),e)if(this._emit("message",t),((0,p.isFunctionMessage)(t)||(0,p.isToolMessage)(t))&&t.content)this._emit("functionCallResult",t.content);else if((0,p.isAssistantMessage)(t)&&t.function_call)this._emit("functionCall",t.function_call);else if((0,p.isAssistantMessage)(t)&&t.tool_calls)for(const e of t.tool_calls)"function"===e.type&&this._emit("functionCall",e.function)}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new h.OpenAIError("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),f(this,r,"m",o).call(this)}async finalMessage(){return await this.done(),f(this,r,"m",i).call(this)}async finalFunctionCall(){return await this.done(),f(this,r,"m",s).call(this)}async finalFunctionCallResult(){return await this.done(),f(this,r,"m",a).call(this)}async totalUsage(){return await this.done(),f(this,r,"m",u).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const e=f(this,r,"m",i).call(this);e&&this._emit("finalMessage",e);const n=f(this,r,"m",o).call(this);n&&this._emit("finalContent",n);const c=f(this,r,"m",s).call(this);c&&this._emit("finalFunctionCall",c);const l=f(this,r,"m",a).call(this);null!=l&&this._emit("finalFunctionCallResult",l),this._chatCompletions.some((t=>t.usage))&&this._emit("totalUsage",f(this,r,"m",u).call(this))}async _createChatCompletion(t,e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort()))),f(this,r,"m",c).call(this,e);const i=await t.chat.completions.create({...e,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,v.parseChatCompletion)(i,e))}async _runChatCompletion(t,e,n){for(const t of e.messages)this._addMessage(t,!1);return await this._createChatCompletion(t,e,n)}async _runFunctions(t,e,n){const o="function",{function_call:i="auto",stream:s,...a}=e,u="string"!=typeof i&&i?.name,{maxChatCompletions:c=_}=n||{},p={};for(const t of e.functions)p[t.name||t.function.name]=t;const m=e.functions.map((t=>({name:t.name||t.function.name,parameters:t.parameters,description:t.description})));for(const t of e.messages)this._addMessage(t,!1);for(let e=0;e<c;++e){const e=await this._createChatCompletion(t,{...a,function_call:i,functions:m,messages:[...this.messages]},n),s=e.choices[0]?.message;if(!s)throw new h.OpenAIError("missing message in ChatCompletion response");if(!s.function_call)return;const{name:c,arguments:v}=s.function_call,_=p[c];if(!_){const t=`Invalid function_call: ${JSON.stringify(c)}. Available options are: ${m.map((t=>JSON.stringify(t.name))).join(", ")}. Please try again`;this._addMessage({role:o,name:c,content:t});continue}if(u&&u!==c){const t=`Invalid function_call: ${JSON.stringify(c)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,name:c,content:t});continue}let T;try{T=(0,d.isRunnableFunctionWithParse)(_)?await _.parse(v):v}catch(t){this._addMessage({role:o,name:c,content:t instanceof Error?t.message:String(t)});continue}const y=await _.function(T,this),g=f(this,r,"m",l).call(this,y);if(this._addMessage({role:o,name:c,content:g}),u)return}}async _runTools(t,e,n){const o="tool",{tool_choice:i="auto",stream:s,...a}=e,u="string"!=typeof i&&i?.function?.name,{maxChatCompletions:c=_}=n||{},p=e.tools.map((t=>{if((0,v.isAutoParsableTool)(t)){if(!t.$callback)throw new h.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:t.$callback,name:t.function.name,description:t.function.description||"",parameters:t.function.parameters,parse:t.$parseRaw,strict:!0}}}return t})),m={};for(const t of p)"function"===t.type&&(m[t.function.name||t.function.function.name]=t.function);const T="tools"in e?p.map((t=>"function"===t.type?{type:"function",function:{name:t.function.name||t.function.function.name,parameters:t.function.parameters,description:t.function.description,strict:t.function.strict}}:t)):void 0;for(const t of e.messages)this._addMessage(t,!1);for(let e=0;e<c;++e){const e=await this._createChatCompletion(t,{...a,tool_choice:i,tools:T,messages:[...this.messages]},n),s=e.choices[0]?.message;if(!s)throw new h.OpenAIError("missing message in ChatCompletion response");if(!s.tool_calls?.length)return;for(const t of s.tool_calls){if("function"!==t.type)continue;const e=t.id,{name:n,arguments:i}=t.function,s=m[n];if(!s){const t=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(m).map((t=>JSON.stringify(t))).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:e,content:t});continue}if(u&&u!==n){const t=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,tool_call_id:e,content:t});continue}let a;try{a=(0,d.isRunnableFunctionWithParse)(s)?await s.parse(i):i}catch(t){const n=t instanceof Error?t.message:String(t);this._addMessage({role:o,tool_call_id:e,content:n});continue}const c=await s.function(a,this),h=f(this,r,"m",l).call(this,c);if(this._addMessage({role:o,tool_call_id:e,content:h}),u)return}}}}e.AbstractChatCompletionRunner=T,r=new WeakSet,o=function(){return f(this,r,"m",i).call(this).content??null},i=function(){let t=this.messages.length;for(;t-- >0;){const e=this.messages[t];if((0,p.isAssistantMessage)(e)){const{function_call:t,...n}=e,r={...n,content:e.content??null,refusal:e.refusal??null};return t&&(r.function_call=t),r}}throw new h.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},s=function(){for(let t=this.messages.length-1;t>=0;t--){const e=this.messages[t];if((0,p.isAssistantMessage)(e)&&e?.function_call)return e.function_call;if((0,p.isAssistantMessage)(e)&&e?.tool_calls?.length)return e.tool_calls.at(-1)?.function}},a=function(){for(let t=this.messages.length-1;t>=0;t--){const e=this.messages[t];if((0,p.isFunctionMessage)(e)&&null!=e.content)return e.content;if((0,p.isToolMessage)(e)&&null!=e.content&&"string"==typeof e.content&&this.messages.some((t=>"assistant"===t.role&&t.tool_calls?.some((t=>"function"===t.type&&t.id===e.tool_call_id)))))return e.content}},u=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:e}of this._chatCompletions)e&&(t.completion_tokens+=e.completion_tokens,t.prompt_tokens+=e.prompt_tokens,t.total_tokens+=e.total_tokens);return t},c=function(t){if(null!=t.n&&t.n>1)throw new h.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},l=function(t){return"string"==typeof t?t:void 0===t?"undefined":JSON.stringify(t)}},18868:function(t,e,n){"use strict";var r,o,i,s,a,u,c,l,f,h,d,p,m,v,_,T,y,g,E,b,C,S,w=n(64583).Promise,A=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),O=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&A(e,t,n);return O(e,t),e},R=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},P=this&&this.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n};Object.defineProperty(e,"__esModule",{value:!0}),e.AssistantStream=void 0;const I=M(n(88757)),F=n(6716),N=n(89526),x=n(50460);class j extends x.EventStream{constructor(){super(...arguments),r.add(this),o.set(this,[]),i.set(this,{}),s.set(this,{}),a.set(this,void 0),u.set(this,void 0),c.set(this,void 0),l.set(this,void 0),f.set(this,void 0),h.set(this,void 0),d.set(this,void 0),p.set(this,void 0),m.set(this,void 0)}[(o=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const t=[],e=[];let n=!1;return this.on("event",(n=>{const r=e.shift();r?r.resolve(n):t.push(n)})),this.on("end",(()=>{n=!0;for(const t of e)t.resolve(void 0);e.length=0})),this.on("abort",(t=>{n=!0;for(const n of e)n.reject(t);e.length=0})),this.on("error",(t=>{n=!0;for(const n of e)n.reject(t);e.length=0})),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new w(((t,n)=>e.push({resolve:t,reject:n}))).then((t=>t?{value:t,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const e=new j;return e._run((()=>e._fromReadableStream(t))),e}async _fromReadableStream(t,e){const n=e?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const o=F.Stream.fromReadableStream(t,this.controller);for await(const t of o)R(this,r,"m",v).call(this,t);if(o.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(R(this,r,"m",_).call(this))}toReadableStream(){return new F.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,e,n,r,o){const i=new j;return i._run((()=>i._runToolAssistantStream(t,e,n,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createToolAssistantStream(t,e,n,o,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const a={...o,stream:!0},u=await t.submitToolOutputs(e,n,a,{...i,signal:this.controller.signal});this._connected();for await(const t of u)R(this,r,"m",v).call(this,t);if(u.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(R(this,r,"m",_).call(this))}static createThreadAssistantStream(t,e,n){const r=new j;return r._run((()=>r._threadAssistantStream(t,e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(t,e,n,r){const o=new j;return o._run((()=>o._runAssistantStream(t,e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}currentEvent(){return R(this,d,"f")}currentRun(){return R(this,p,"f")}currentMessageSnapshot(){return R(this,a,"f")}currentRunStepSnapshot(){return R(this,m,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,s,"f"))}async finalRun(){if(await this.done(),!R(this,u,"f"))throw Error("Final run was not received.");return R(this,u,"f")}async _createThreadAssistantStream(t,e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...e,stream:!0},s=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const t of s)R(this,r,"m",v).call(this,t);if(s.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(R(this,r,"m",_).call(this))}async _createAssistantStream(t,e,n,o){const i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const s={...n,stream:!0},a=await t.create(e,s,{...o,signal:this.controller.signal});this._connected();for await(const t of a)R(this,r,"m",v).call(this,t);if(a.controller.signal?.aborted)throw new N.APIUserAbortError;return this._addRun(R(this,r,"m",_).call(this))}static accumulateDelta(t,e){for(const[n,r]of Object.entries(e)){if(!t.hasOwnProperty(n)){t[n]=r;continue}let e=t[n];if(null!=e)if("index"!==n&&"type"!==n){if("string"==typeof e&&"string"==typeof r)e+=r;else if("number"==typeof e&&"number"==typeof r)e+=r;else{if(!I.isObj(e)||!I.isObj(r)){if(Array.isArray(e)&&Array.isArray(r)){if(e.every((t=>"string"==typeof t||"number"==typeof t))){e.push(...r);continue}for(const t of r){if(!I.isObj(t))throw new Error(`Expected array delta entry to be an object but got: ${t}`);const n=t.index;if(null==n)throw console.error(t),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=e[n];null==r?e.push(t):e[n]=this.accumulateDelta(r,t)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${e}`)}e=this.accumulateDelta(e,r)}t[n]=e}else t[n]=r;else t[n]=r}return t}_addRun(t){return t}async _threadAssistantStream(t,e,n){return await this._createThreadAssistantStream(e,t,n)}async _runAssistantStream(t,e,n,r){return await this._createAssistantStream(e,t,n,r)}async _runToolAssistantStream(t,e,n,r,o){return await this._createToolAssistantStream(n,t,e,r,o)}}e.AssistantStream=j,v=function(t){if(!this.ended)switch(P(this,d,t,"f"),R(this,r,"m",g).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,r,"m",S).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,r,"m",y).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,r,"m",T).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_=function(){if(this.ended)throw new N.OpenAIError("stream has ended, this shouldn't happen");if(!R(this,u,"f"))throw Error("Final run has not been received");return R(this,u,"f")},T=function(t){const[e,n]=R(this,r,"m",b).call(this,t,R(this,a,"f"));P(this,a,e,"f"),R(this,s,"f")[e.id]=e;for(const t of n){const n=e.content[t.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,e),t.data.delta.content)for(const n of t.data.delta.content){if("text"==n.type&&n.text){let t=n.text,r=e.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",t,r.text)}if(n.index!=R(this,c,"f")){if(R(this,l,"f"))switch(R(this,l,"f").type){case"text":this._emit("textDone",R(this,l,"f").text,R(this,a,"f"));break;case"image_file":this._emit("imageFileDone",R(this,l,"f").image_file,R(this,a,"f"))}P(this,c,n.index,"f")}P(this,l,e.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==R(this,c,"f")){const e=t.data.content[R(this,c,"f")];if(e)switch(e.type){case"image_file":this._emit("imageFileDone",e.image_file,R(this,a,"f"));break;case"text":this._emit("textDone",e.text,R(this,a,"f"))}}R(this,a,"f")&&this._emit("messageDone",t.data),P(this,a,void 0,"f")}},y=function(t){const e=R(this,r,"m",E).call(this,t);switch(P(this,m,e,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==e.step_details.type)for(const t of n.step_details.tool_calls)t.index==R(this,f,"f")?this._emit("toolCallDelta",t,e.step_details.tool_calls[t.index]):(R(this,h,"f")&&this._emit("toolCallDone",R(this,h,"f")),P(this,f,t.index,"f"),P(this,h,e.step_details.tool_calls[t.index],"f"),R(this,h,"f")&&this._emit("toolCallCreated",R(this,h,"f")));this._emit("runStepDelta",t.data.delta,e);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":P(this,m,void 0,"f"),"tool_calls"==t.data.step_details.type&&R(this,h,"f")&&(this._emit("toolCallDone",R(this,h,"f")),P(this,h,void 0,"f")),this._emit("runStepDone",t.data,e)}},g=function(t){R(this,o,"f").push(t),this._emit("event",t)},E=function(t){switch(t.event){case"thread.run.step.created":return R(this,i,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let e=R(this,i,"f")[t.data.id];if(!e)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const r=j.accumulateDelta(e,n.delta);R(this,i,"f")[t.data.id]=r}return R(this,i,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,i,"f")[t.data.id]=t.data}if(R(this,i,"f")[t.data.id])return R(this,i,"f")[t.data.id];throw new Error("No snapshot available")},b=function(t,e){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!e)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const t of o.delta.content)if(t.index in e.content){let n=e.content[t.index];e.content[t.index]=R(this,r,"m",C).call(this,t,n)}else e.content[t.index]=t,n.push(t);return[e,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(e)return[e,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},C=function(t,e){return j.accumulateDelta(e,t)},S=function(t){switch(P(this,p,t.data,"f"),t.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":P(this,u,t.data,"f"),R(this,h,"f")&&(this._emit("toolCallDone",R(this,h,"f")),P(this,h,void 0,"f"))}}},44648:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChatCompletionRunner=void 0;const r=n(71118),o=n(46289);class i extends r.AbstractChatCompletionRunner{static runFunctions(t,e,n){const r=new i,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(t,e,o))),r}static runTools(t,e,n){const r=new i,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(t,e,o))),r}_addMessage(t,e=!0){super._addMessage(t,e),(0,o.isAssistantMessage)(t)&&t.content&&this._emit("content",t.content)}}e.ChatCompletionRunner=i},95126:function(t,e,n){"use strict";var r,o,i,s,a,u,c,l,f,h,d,p,m=n(64583).Promise,v=this&&this.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},_=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.ChatCompletionStream=void 0;const T=n(89526),y=n(71118),g=n(6716),E=n(63357),b=n(43690);class C extends y.AbstractChatCompletionRunner{constructor(t){super(),r.add(this),o.set(this,void 0),i.set(this,void 0),s.set(this,void 0),v(this,o,t,"f"),v(this,i,[],"f")}get currentChatCompletionSnapshot(){return _(this,s,"f")}static fromReadableStream(t){const e=new C(null);return e._run((()=>e._fromReadableStream(t))),e}static createChatCompletion(t,e,n){const r=new C(e);return r._run((()=>r._runChatCompletion(t,{...e,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(t,e,n){super._createChatCompletion;const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort()))),_(this,r,"m",a).call(this);const i=await t.chat.completions.create({...e,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const t of i)_(this,r,"m",c).call(this,t);if(i.controller.signal?.aborted)throw new T.APIUserAbortError;return this._addChatCompletion(_(this,r,"m",h).call(this))}async _fromReadableStream(t,e){const n=e?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),_(this,r,"m",a).call(this),this._connected();const o=g.Stream.fromReadableStream(t,this.controller);let i;for await(const t of o)i&&i!==t.id&&this._addChatCompletion(_(this,r,"m",h).call(this)),_(this,r,"m",c).call(this,t),i=t.id;if(o.controller.signal?.aborted)throw new T.APIUserAbortError;return this._addChatCompletion(_(this,r,"m",h).call(this))}[(o=new WeakMap,i=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(){this.ended||v(this,s,void 0,"f")},u=function(t){let e=_(this,i,"f")[t.index];return e||(e={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},_(this,i,"f")[t.index]=e,e)},c=function(t){if(this.ended)return;const e=_(this,r,"m",p).call(this,t);this._emit("chunk",t,e);for(const n of t.choices){const t=e.choices[n.index];null!=n.delta.content&&"assistant"===t.message?.role&&t.message?.content&&(this._emit("content",n.delta.content,t.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:t.message.content,parsed:t.message.parsed})),null!=n.delta.refusal&&"assistant"===t.message?.role&&t.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:t.message.refusal}),null!=n.logprobs?.content&&"assistant"===t.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:t.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===t.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:t.logprobs?.refusal??[]});const o=_(this,r,"m",u).call(this,t);t.finish_reason&&(_(this,r,"m",f).call(this,t),null!=o.current_tool_call_index&&_(this,r,"m",l).call(this,t,o.current_tool_call_index));for(const e of n.delta.tool_calls??[])o.current_tool_call_index!==e.index&&(_(this,r,"m",f).call(this,t),null!=o.current_tool_call_index&&_(this,r,"m",l).call(this,t,o.current_tool_call_index)),o.current_tool_call_index=e.index;for(const e of n.delta.tool_calls??[]){const n=t.message.tool_calls?.[e.index];n?.type&&"function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:e.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:e.function?.arguments??""})}}},l=function(t,e){if(_(this,r,"m",u).call(this,t).done_tool_calls.has(e))return;const n=t.message.tool_calls?.[e];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const t=_(this,o,"f")?.tools?.find((t=>"function"===t.type&&t.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:e,arguments:n.function.arguments,parsed_arguments:(0,E.isAutoParsableTool)(t)?t.$parseRaw(n.function.arguments):t?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},f=function(t){const e=_(this,r,"m",u).call(this,t);if(t.message.content&&!e.content_done){e.content_done=!0;const n=_(this,r,"m",d).call(this);this._emit("content.done",{content:t.message.content,parsed:n?n.$parseRaw(t.message.content):null})}t.message.refusal&&!e.refusal_done&&(e.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),t.logprobs?.content&&!e.logprobs_content_done&&(e.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),t.logprobs?.refusal&&!e.logprobs_refusal_done&&(e.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},h=function(){if(this.ended)throw new T.OpenAIError("stream has ended, this shouldn't happen");const t=_(this,s,"f");if(!t)throw new T.OpenAIError("request ended without sending any chunks");return v(this,s,void 0,"f"),v(this,i,[],"f"),function(t,e){const{id:n,choices:r,created:o,model:i,system_fingerprint:s,...a}=t,u={...a,id:n,choices:r.map((({message:e,finish_reason:n,index:r,logprobs:o,...i})=>{if(!n)throw new T.OpenAIError(`missing finish_reason for choice ${r}`);const{content:s=null,function_call:a,tool_calls:u,...c}=e,l=e.role;if(!l)throw new T.OpenAIError(`missing role for choice ${r}`);if(a){const{arguments:t,name:u}=a;if(null==t)throw new T.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!u)throw new T.OpenAIError(`missing function_call.name for choice ${r}`);return{...i,message:{content:s,function_call:{arguments:t,name:u},role:l,refusal:e.refusal??null},finish_reason:n,index:r,logprobs:o}}return u?{...i,index:r,finish_reason:n,logprobs:o,message:{...c,role:l,content:s,refusal:e.refusal??null,tool_calls:u.map(((e,n)=>{const{function:o,type:i,id:s,...a}=e,{arguments:u,name:c,...l}=o||{};if(null==s)throw new T.OpenAIError(`missing choices[${r}].tool_calls[${n}].id\n${S(t)}`);if(null==i)throw new T.OpenAIError(`missing choices[${r}].tool_calls[${n}].type\n${S(t)}`);if(null==c)throw new T.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.name\n${S(t)}`);if(null==u)throw new T.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.arguments\n${S(t)}`);return{...a,id:s,type:i,function:{...l,name:c,arguments:u}}}))}}:{...i,message:{...c,content:s,role:l,refusal:e.refusal??null},finish_reason:n,index:r,logprobs:o}})),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return(0,E.maybeParseChatCompletion)(u,e)}(t,_(this,o,"f"))},d=function(){const t=_(this,o,"f")?.response_format;return(0,E.isAutoParsableResponseFormat)(t)?t:null},p=function(t){var e,n,i,a;let u=_(this,s,"f");const{choices:c,...l}=t;u?Object.assign(u,l):u=v(this,s,{...l,choices:[]},"f");for(const{delta:s,finish_reason:c,index:l,logprobs:f=null,...h}of t.choices){let t=u.choices[l];if(t||(t=u.choices[l]={finish_reason:c,index:l,message:{},logprobs:f,...h}),f)if(t.logprobs){const{content:r,refusal:o,...i}=f;Object.assign(t.logprobs,i),r&&((e=t.logprobs).content??(e.content=[]),t.logprobs.content.push(...r)),o&&((n=t.logprobs).refusal??(n.refusal=[]),t.logprobs.refusal.push(...o))}else t.logprobs=Object.assign({},f);if(c&&(t.finish_reason=c,_(this,o,"f")&&(0,E.hasAutoParseableInput)(_(this,o,"f")))){if("length"===c)throw new T.LengthFinishReasonError;if("content_filter"===c)throw new T.ContentFilterFinishReasonError}if(Object.assign(t,h),!s)continue;const{content:p,refusal:m,function_call:v,role:y,tool_calls:g,...C}=s;if(Object.assign(t.message,C),m&&(t.message.refusal=(t.message.refusal||"")+m),y&&(t.message.role=y),v&&(t.message.function_call?(v.name&&(t.message.function_call.name=v.name),v.arguments&&((i=t.message.function_call).arguments??(i.arguments=""),t.message.function_call.arguments+=v.arguments)):t.message.function_call=v),p&&(t.message.content=(t.message.content||"")+p,!t.message.refusal&&_(this,r,"m",d).call(this)&&(t.message.parsed=(0,b.partialParse)(t.message.content))),g){t.message.tool_calls||(t.message.tool_calls=[]);for(const{index:e,id:n,type:r,function:i,...s}of g){const u=(a=t.message.tool_calls)[e]??(a[e]={});Object.assign(u,s),n&&(u.id=n),r&&(u.type=r),i&&(u.function??(u.function={name:i.name??"",arguments:""})),i?.name&&(u.function.name=i.name),i?.arguments&&(u.function.arguments+=i.arguments,(0,E.shouldParseToolCall)(_(this,o,"f"),u)&&(u.function.parsed_arguments=(0,b.partialParse)(u.function.arguments)))}}}return u},Symbol.asyncIterator)](){const t=[],e=[];let n=!1;return this.on("chunk",(n=>{const r=e.shift();r?r.resolve(n):t.push(n)})),this.on("end",(()=>{n=!0;for(const t of e)t.resolve(void 0);e.length=0})),this.on("abort",(t=>{n=!0;for(const n of e)n.reject(t);e.length=0})),this.on("error",(t=>{n=!0;for(const n of e)n.reject(t);e.length=0})),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new m(((t,n)=>e.push({resolve:t,reject:n}))).then((t=>t?{value:t,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new g.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function S(t){return JSON.stringify(t)}e.ChatCompletionStream=C},67730:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChatCompletionStreamingRunner=void 0;const r=n(95126);class o extends r.ChatCompletionStream{static fromReadableStream(t){const e=new o(null);return e._run((()=>e._fromReadableStream(t))),e}static runFunctions(t,e,n){const r=new o(null),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(t,e,i))),r}static runTools(t,e,n){const r=new o(e),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(t,e,i))),r}}e.ChatCompletionStreamingRunner=o},50460:function(t,e,n){"use strict";var r,o,i,s,a,u,c,l,f,h,d,p,m,v=n(64583).Promise,_=this&&this.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},T=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.EventStream=void 0;const y=n(89526);e.EventStream=class{constructor(){r.add(this),this.controller=new AbortController,o.set(this,void 0),i.set(this,(()=>{})),s.set(this,(()=>{})),a.set(this,void 0),u.set(this,(()=>{})),c.set(this,(()=>{})),l.set(this,{}),f.set(this,!1),h.set(this,!1),d.set(this,!1),p.set(this,!1),_(this,o,new v(((t,e)=>{_(this,i,t,"f"),_(this,s,e,"f")})),"f"),_(this,a,new v(((t,e)=>{_(this,u,t,"f"),_(this,c,e,"f")})),"f"),T(this,o,"f").catch((()=>{})),T(this,a,"f").catch((()=>{}))}_run(t){setTimeout((()=>{t().then((()=>{this._emitFinal(),this._emit("end")}),T(this,r,"m",m).bind(this))}),0)}_connected(){this.ended||(T(this,i,"f").call(this),this._emit("connect"))}get ended(){return T(this,f,"f")}get errored(){return T(this,h,"f")}get aborted(){return T(this,d,"f")}abort(){this.controller.abort()}on(t,e){return(T(this,l,"f")[t]||(T(this,l,"f")[t]=[])).push({listener:e}),this}off(t,e){const n=T(this,l,"f")[t];if(!n)return this;const r=n.findIndex((t=>t.listener===e));return r>=0&&n.splice(r,1),this}once(t,e){return(T(this,l,"f")[t]||(T(this,l,"f")[t]=[])).push({listener:e,once:!0}),this}emitted(t){return new v(((e,n)=>{_(this,p,!0,"f"),"error"!==t&&this.once("error",n),this.once(t,e)}))}async done(){_(this,p,!0,"f"),await T(this,a,"f")}_emit(t,...e){if(T(this,f,"f"))return;"end"===t&&(_(this,f,!0,"f"),T(this,u,"f").call(this));const n=T(this,l,"f")[t];if(n&&(T(this,l,"f")[t]=n.filter((t=>!t.once)),n.forEach((({listener:t})=>t(...e)))),"abort"===t){const t=e[0];return T(this,p,"f")||n?.length||v.reject(t),T(this,s,"f").call(this,t),T(this,c,"f").call(this,t),void this._emit("end")}if("error"===t){const t=e[0];T(this,p,"f")||n?.length||v.reject(t),T(this,s,"f").call(this,t),T(this,c,"f").call(this,t),this._emit("end")}}_emitFinal(){}},o=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,r=new WeakSet,m=function(t){if(_(this,h,!0,"f"),t instanceof Error&&"AbortError"===t.name&&(t=new y.APIUserAbortError),t instanceof y.APIUserAbortError)return _(this,d,!0,"f"),this._emit("abort",t);if(t instanceof y.OpenAIError)return this._emit("error",t);if(t instanceof Error){const e=new y.OpenAIError(t.message);return e.cause=t,this._emit("error",e)}return this._emit("error",new y.OpenAIError(String(t)))}},64691:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingToolFunction=e.ParsingFunction=e.isRunnableFunctionWithParse=void 0,e.isRunnableFunctionWithParse=function(t){return"function"==typeof t.parse},e.ParsingFunction=class{constructor(t){this.function=t.function,this.parse=t.parse,this.parameters=t.parameters,this.description=t.description,this.name=t.name}},e.ParsingToolFunction=class{constructor(t){this.type="function",this.function=t}}},73346:function(t,e,n){"use strict";var r=n(64583).Promise;Object.defineProperty(e,"__esModule",{value:!0}),e.allSettledWithThrow=void 0,e.allSettledWithThrow=async t=>{const e=await r.allSettled(t),n=e.filter((t=>"rejected"===t.status));if(n.length){for(const t of n)console.error(t.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const t of e)"fulfilled"===t.status&&o.push(t.value);return o}},46289:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPresent=e.isToolMessage=e.isFunctionMessage=e.isAssistantMessage=void 0,e.isAssistantMessage=t=>"assistant"===t?.role,e.isFunctionMessage=t=>"function"===t?.role,e.isToolMessage=t=>"tool"===t?.role,e.isPresent=function(t){return null!=t}},63357:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateInputTools=e.hasAutoParseableInput=e.shouldParseToolCall=e.parseChatCompletion=e.maybeParseChatCompletion=e.isAutoParsableTool=e.makeParseableTool=e.isAutoParsableResponseFormat=e.makeParseableResponseFormat=void 0;const r=n(89526);function o(t){return"auto-parseable-response-format"===t?.$brand}function i(t){return"auto-parseable-tool"===t?.$brand}function s(t,e){const n=t.choices.map((t=>{if("length"===t.finish_reason)throw new r.LengthFinishReasonError;if("content_filter"===t.finish_reason)throw new r.ContentFilterFinishReasonError;return{...t,message:{...t.message,tool_calls:t.message.tool_calls?.map((t=>function(t,e){const n=t.tools?.find((t=>t.function?.name===e.function.name));return{...e,function:{...e.function,parsed_arguments:i(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}(e,t)))??[],parsed:t.message.content&&!t.message.refusal?a(e,t.message.content):null}}}));return{...t,choices:n}}function a(t,e){return"json_schema"!==t.response_format?.type?null:"json_schema"===t.response_format?.type?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function u(t){return!!o(t.response_format)||(t.tools?.some((t=>i(t)||"function"===t.type&&!0===t.function.strict))??!1)}e.makeParseableResponseFormat=function(t,e){const n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),n},e.isAutoParsableResponseFormat=o,e.makeParseableTool=function(t,{parser:e,callback:n}){const r={...t};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:e,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},e.isAutoParsableTool=i,e.maybeParseChatCompletion=function(t,e){return e&&u(e)?s(t,e):{...t,choices:t.choices.map((t=>({...t,message:{...t.message,parsed:null,tool_calls:t.message.tool_calls??[]}})))}},e.parseChatCompletion=s,e.shouldParseToolCall=function(t,e){if(!t)return!1;const n=t.tools?.find((t=>t.function?.name===e.function.name));return i(n)||n?.function.strict||!1},e.hasAutoParseableInput=u,e.validateInputTools=function(t){for(const e of t??[]){if("function"!==e.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(!0!==e.function.strict)throw new r.OpenAIError(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}},2510:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorPage=e.Page=void 0;const r=n(88757);class o extends r.AbstractPage{constructor(t,e,n,r){super(t,e,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}e.Page=o;class i extends r.AbstractPage{constructor(t,e,n,r){super(t,e,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const e=Object.fromEntries(t.url.searchParams);return Object.keys(e).length?e:null}nextPageInfo(){const t=this.getPaginatedItems();if(!t.length)return null;const e=t[t.length-1]?.id;return e?{params:{after:e}}:null}}e.CursorPage=i},32802:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APIResource=void 0,e.APIResource=class{constructor(t){this._client=t}}},1253:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Audio=void 0;const s=n(32802),a=i(n(27494)),u=i(n(33694)),c=i(n(17655));class l extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new u.Transcriptions(this._client),this.translations=new c.Translations(this._client),this.speech=new a.Speech(this._client)}}e.Audio=l,function(t){t.Transcriptions=u.Transcriptions,t.Translations=c.Translations,t.Speech=a.Speech}(l=e.Audio||(e.Audio={}))},27494:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Speech=void 0;const r=n(32802);class o extends r.APIResource{create(t,e){return this._client.post("/audio/speech",{body:t,...e,__binaryResponse:!0})}}e.Speech=o,o=e.Speech||(e.Speech={})},33694:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Transcriptions=void 0;const s=n(32802),a=i(n(88757));class u extends s.APIResource{create(t,e){return this._client.post("/audio/transcriptions",a.multipartFormRequestOptions({body:t,...e}))}}e.Transcriptions=u,u=e.Transcriptions||(e.Transcriptions={})},17655:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Translations=void 0;const s=n(32802),a=i(n(88757));class u extends s.APIResource{create(t,e){return this._client.post("/audio/translations",a.multipartFormRequestOptions({body:t,...e}))}}e.Translations=u,u=e.Translations||(e.Translations={})},32530:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BatchesPage=e.Batches=void 0;const s=n(32802),a=n(88757),u=i(n(32530)),c=n(2510);class l extends s.APIResource{create(t,e){return this._client.post("/batches",{body:t,...e})}retrieve(t,e){return this._client.get(`/batches/${t}`,e)}list(t={},e){return(0,a.isRequestOptions)(t)?this.list({},t):this._client.getAPIList("/batches",f,{query:t,...e})}cancel(t,e){return this._client.post(`/batches/${t}/cancel`,e)}}e.Batches=l;class f extends c.CursorPage{}e.BatchesPage=f,function(t){t.BatchesPage=u.BatchesPage}(l=e.Batches||(e.Batches={}))},92964:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.AssistantsPage=e.Assistants=void 0;const s=n(32802),a=n(88757),u=i(n(92964)),c=n(2510);class l extends s.APIResource{create(t,e){return this._client.post("/assistants",{body:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}retrieve(t,e){return this._client.get(`/assistants/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}update(t,e,n){return this._client.post(`/assistants/${t}`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t={},e){return(0,a.isRequestOptions)(t)?this.list({},t):this._client.getAPIList("/assistants",f,{query:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}del(t,e){return this._client.delete(`/assistants/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}}e.Assistants=l;class f extends c.CursorPage{}e.AssistantsPage=f,function(t){t.AssistantsPage=u.AssistantsPage}(l=e.Assistants||(e.Assistants={}))},6183:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Beta=void 0;const s=n(32802),a=i(n(92964)),u=i(n(41356)),c=i(n(2682)),l=i(n(97734));class f extends s.APIResource{constructor(){super(...arguments),this.vectorStores=new l.VectorStores(this._client),this.chat=new u.Chat(this._client),this.assistants=new a.Assistants(this._client),this.threads=new c.Threads(this._client)}}e.Beta=f,function(t){t.VectorStores=l.VectorStores,t.VectorStoresPage=l.VectorStoresPage,t.Chat=u.Chat,t.Assistants=a.Assistants,t.AssistantsPage=a.AssistantsPage,t.Threads=c.Threads}(f=e.Beta||(e.Beta={}))},41356:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Chat=void 0;const s=n(32802),a=i(n(68111));class u extends s.APIResource{constructor(){super(...arguments),this.completions=new a.Completions(this._client)}}e.Chat=u,function(t){t.Completions=a.Completions}(u=e.Chat||(e.Chat={}))},68111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Completions=e.ChatCompletionStream=e.ParsingToolFunction=e.ParsingFunction=e.ChatCompletionStreamingRunner=e.ChatCompletionRunner=void 0;const r=n(32802),o=n(44648);var i=n(44648);Object.defineProperty(e,"ChatCompletionRunner",{enumerable:!0,get:function(){return i.ChatCompletionRunner}});const s=n(67730);var a=n(67730);Object.defineProperty(e,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return a.ChatCompletionStreamingRunner}});var u=n(64691);Object.defineProperty(e,"ParsingFunction",{enumerable:!0,get:function(){return u.ParsingFunction}}),Object.defineProperty(e,"ParsingToolFunction",{enumerable:!0,get:function(){return u.ParsingToolFunction}});const c=n(95126),l=n(63357);var f=n(95126);Object.defineProperty(e,"ChatCompletionStream",{enumerable:!0,get:function(){return f.ChatCompletionStream}});class h extends r.APIResource{parse(t,e){return(0,l.validateInputTools)(t.tools),this._client.chat.completions.create(t,{...e,headers:{...e?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((e=>(0,l.parseChatCompletion)(e,t)))}runFunctions(t,e){return t.stream?s.ChatCompletionStreamingRunner.runFunctions(this._client,t,e):o.ChatCompletionRunner.runFunctions(this._client,t,e)}runTools(t,e){return t.stream?s.ChatCompletionStreamingRunner.runTools(this._client,t,e):o.ChatCompletionRunner.runTools(this._client,t,e)}stream(t,e){return c.ChatCompletionStream.createChatCompletion(this._client,t,e)}}e.Completions=h},96059:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MessagesPage=e.Messages=void 0;const s=n(32802),a=n(88757),u=i(n(96059)),c=n(2510);class l extends s.APIResource{create(t,e,n){return this._client.post(`/threads/${t}/messages`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,e,n){return this._client.get(`/threads/${t}/messages/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,e,n,r){return this._client.post(`/threads/${t}/messages/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(t,e={},n){return(0,a.isRequestOptions)(e)?this.list(t,{},e):this._client.getAPIList(`/threads/${t}/messages`,f,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,e,n){return this._client.delete(`/threads/${t}/messages/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}e.Messages=l;class f extends c.CursorPage{}e.MessagesPage=f,function(t){t.MessagesPage=u.MessagesPage}(l=e.Messages||(e.Messages={}))},41946:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.RunsPage=e.Runs=void 0;const s=n(32802),a=n(88757),u=n(18868),c=n(88757),l=i(n(41946)),f=i(n(57733)),h=n(2510);class d extends s.APIResource{constructor(){super(...arguments),this.steps=new f.Steps(this._client)}create(t,e,n){const{include:r,...o}=e;return this._client.post(`/threads/${t}/runs`,{query:{include:r},body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:e.stream??!1})}retrieve(t,e,n){return this._client.get(`/threads/${t}/runs/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,e,n,r){return this._client.post(`/threads/${t}/runs/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(t,e={},n){return(0,a.isRequestOptions)(e)?this.list(t,{},e):this._client.getAPIList(`/threads/${t}/runs`,p,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(t,e,n){return this._client.post(`/threads/${t}/runs/${e}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,e,n){const r=await this.create(t,e,n);return await this.poll(t,r.id,n)}createAndStream(t,e,n){return u.AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,e,n)}async poll(t,e,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(t,e,{...n,headers:{...n?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let t=5e3;if(n?.pollIntervalMs)t=n.pollIntervalMs;else{const e=i.headers.get("openai-poll-after-ms");if(e){const n=parseInt(e);isNaN(n)||(t=n)}}await(0,c.sleep)(t);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,e,n){return u.AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,e,n)}submitToolOutputs(t,e,n,r){return this._client.post(`/threads/${t}/runs/${e}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,e,n,r){const o=await this.submitToolOutputs(t,e,n,r);return await this.poll(t,o.id,r)}submitToolOutputsStream(t,e,n,r){return u.AssistantStream.createToolAssistantStream(t,e,this._client.beta.threads.runs,n,r)}}e.Runs=d;class p extends h.CursorPage{}e.RunsPage=p,function(t){t.RunsPage=l.RunsPage,t.Steps=f.Steps,t.RunStepsPage=f.RunStepsPage}(d=e.Runs||(e.Runs={}))},57733:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.RunStepsPage=e.Steps=void 0;const s=n(32802),a=n(88757),u=i(n(57733)),c=n(2510);class l extends s.APIResource{retrieve(t,e,n,r={},o){return(0,a.isRequestOptions)(r)?this.retrieve(t,e,n,{},r):this._client.get(`/threads/${t}/runs/${e}/steps/${n}`,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t,e,n={},r){return(0,a.isRequestOptions)(n)?this.list(t,e,{},n):this._client.getAPIList(`/threads/${t}/runs/${e}/steps`,f,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}e.Steps=l;class f extends c.CursorPage{}e.RunStepsPage=f,function(t){t.RunStepsPage=u.RunStepsPage}(l=e.Steps||(e.Steps={}))},2682:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Threads=void 0;const s=n(32802),a=n(88757),u=n(18868),c=i(n(96059)),l=i(n(41946));class f extends s.APIResource{constructor(){super(...arguments),this.runs=new l.Runs(this._client),this.messages=new c.Messages(this._client)}create(t={},e){return(0,a.isRequestOptions)(t)?this.create({},t):this._client.post("/threads",{body:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}retrieve(t,e){return this._client.get(`/threads/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}update(t,e,n){return this._client.post(`/threads/${t}`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,e){return this._client.delete(`/threads/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}createAndRun(t,e){return this._client.post("/threads/runs",{body:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers},stream:t.stream??!1})}async createAndRunPoll(t,e){const n=await this.createAndRun(t,e);return await this.runs.poll(n.thread_id,n.id,e)}createAndRunStream(t,e){return u.AssistantStream.createThreadAssistantStream(t,this._client.beta.threads,e)}}e.Threads=f,function(t){t.Runs=l.Runs,t.RunsPage=l.RunsPage,t.Messages=c.Messages,t.MessagesPage=c.MessagesPage}(f=e.Threads||(e.Threads={}))},33159:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorStoreFilesPage=e.FileBatches=void 0;const r=n(32802),o=n(88757),i=n(88757),s=n(73346),a=n(44113);Object.defineProperty(e,"VectorStoreFilesPage",{enumerable:!0,get:function(){return a.VectorStoreFilesPage}});class u extends r.APIResource{create(t,e,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,e,n){return this._client.get(`/vector_stores/${t}/file_batches/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(t,e,n){return this._client.post(`/vector_stores/${t}/file_batches/${e}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,e,n){const r=await this.create(t,e);return await this.poll(t,r.id,n)}listFiles(t,e,n={},r){return(0,o.isRequestOptions)(n)?this.listFiles(t,e,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${e}/files`,a.VectorStoreFilesPage,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(t,e,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:s}=await this.retrieve(t,e,{...n,headers:r}).withResponse();switch(o.status){case"in_progress":let t=5e3;if(n?.pollIntervalMs)t=n.pollIntervalMs;else{const e=s.headers.get("openai-poll-after-ms");if(e){const n=parseInt(e);isNaN(n)||(t=n)}}await(0,i.sleep)(t);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:e,fileIds:n=[]},r){if(null==e||0==e.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=r?.maxConcurrency??5,i=Math.min(o,e.length),a=this._client,u=e.values(),c=[...n],l=Array(i).fill(u).map((async function(t){for(let e of t){const t=await a.files.create({file:e,purpose:"assistants"},r);c.push(t.id)}}));return await(0,s.allSettledWithThrow)(l),await this.createAndPoll(t,{file_ids:c})}}e.FileBatches=u,u=e.FileBatches||(e.FileBatches={})},44113:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorStoreFilesPage=e.Files=void 0;const s=n(32802),a=n(88757),u=i(n(44113)),c=n(2510);class l extends s.APIResource{create(t,e,n){return this._client.post(`/vector_stores/${t}/files`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,e,n){return this._client.get(`/vector_stores/${t}/files/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t,e={},n){return(0,a.isRequestOptions)(e)?this.list(t,{},e):this._client.getAPIList(`/vector_stores/${t}/files`,f,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,e,n){return this._client.delete(`/vector_stores/${t}/files/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,e,n){const r=await this.create(t,e,n);return await this.poll(t,r.id,n)}async poll(t,e,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const o=await this.retrieve(t,e,{...n,headers:r}).withResponse(),i=o.data;switch(i.status){case"in_progress":let t=5e3;if(n?.pollIntervalMs)t=n.pollIntervalMs;else{const e=o.response.headers.get("openai-poll-after-ms");if(e){const n=parseInt(e);isNaN(n)||(t=n)}}await(0,a.sleep)(t);break;case"failed":case"completed":return i}}}async upload(t,e,n){const r=await this._client.files.create({file:e,purpose:"assistants"},n);return this.create(t,{file_id:r.id},n)}async uploadAndPoll(t,e,n){const r=await this.upload(t,e,n);return await this.poll(t,r.id,n)}}e.Files=l;class f extends c.CursorPage{}e.VectorStoreFilesPage=f,function(t){t.VectorStoreFilesPage=u.VectorStoreFilesPage}(l=e.Files||(e.Files={}))},97734:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorStoresPage=e.VectorStores=void 0;const s=n(32802),a=n(88757),u=i(n(97734)),c=i(n(33159)),l=i(n(44113)),f=n(2510);class h extends s.APIResource{constructor(){super(...arguments),this.files=new l.Files(this._client),this.fileBatches=new c.FileBatches(this._client)}create(t,e){return this._client.post("/vector_stores",{body:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}retrieve(t,e){return this._client.get(`/vector_stores/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}update(t,e,n){return this._client.post(`/vector_stores/${t}`,{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t={},e){return(0,a.isRequestOptions)(t)?this.list({},t):this._client.getAPIList("/vector_stores",d,{query:t,...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}del(t,e){return this._client.delete(`/vector_stores/${t}`,{...e,headers:{"OpenAI-Beta":"assistants=v2",...e?.headers}})}}e.VectorStores=h;class d extends f.CursorPage{}e.VectorStoresPage=d,function(t){t.VectorStoresPage=u.VectorStoresPage,t.Files=l.Files,t.VectorStoreFilesPage=l.VectorStoreFilesPage,t.FileBatches=c.FileBatches}(h=e.VectorStores||(e.VectorStores={}))},76111:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Chat=void 0;const s=n(32802),a=i(n(96374));class u extends s.APIResource{constructor(){super(...arguments),this.completions=new a.Completions(this._client)}}e.Chat=u,function(t){t.Completions=a.Completions}(u=e.Chat||(e.Chat={}))},96374:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Completions=void 0;const r=n(32802);class o extends r.APIResource{create(t,e){return this._client.post("/chat/completions",{body:t,...e,stream:t.stream??!1})}}e.Completions=o,o=e.Completions||(e.Completions={})},7949:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chat=e.Completions=void 0;var r=n(96374);Object.defineProperty(e,"Completions",{enumerable:!0,get:function(){return r.Completions}});var o=n(76111);Object.defineProperty(e,"Chat",{enumerable:!0,get:function(){return o.Chat}})},79045:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Completions=void 0;const r=n(32802);class o extends r.APIResource{create(t,e){return this._client.post("/completions",{body:t,...e,stream:t.stream??!1})}}e.Completions=o,o=e.Completions||(e.Completions={})},1242:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Embeddings=void 0;const r=n(32802);class o extends r.APIResource{create(t,e){return this._client.post("/embeddings",{body:t,...e})}}e.Embeddings=o,o=e.Embeddings||(e.Embeddings={})},61461:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.FileObjectsPage=e.Files=void 0;const s=n(32802),a=n(88757),u=n(88757),c=n(89526),l=i(n(88757)),f=i(n(61461)),h=n(2510);class d extends s.APIResource{create(t,e){return this._client.post("/files",l.multipartFormRequestOptions({body:t,...e}))}retrieve(t,e){return this._client.get(`/files/${t}`,e)}list(t={},e){return(0,a.isRequestOptions)(t)?this.list({},t):this._client.getAPIList("/files",p,{query:t,...e})}del(t,e){return this._client.delete(`/files/${t}`,e)}content(t,e){return this._client.get(`/files/${t}/content`,{...e,__binaryResponse:!0})}retrieveContent(t,e){return this._client.get(`/files/${t}/content`,{...e,headers:{Accept:"application/json",...e?.headers}})}async waitForProcessing(t,{pollInterval:e=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(t);for(;!i.status||!r.has(i.status);)if(await(0,u.sleep)(e),i=await this.retrieve(t),Date.now()-o>n)throw new c.APIConnectionTimeoutError({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return i}}e.Files=d;class p extends h.Page{}e.FileObjectsPage=p,function(t){t.FileObjectsPage=f.FileObjectsPage}(d=e.Files||(e.Files={}))},33453:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.FineTuning=void 0;const s=n(32802),a=i(n(71718));class u extends s.APIResource{constructor(){super(...arguments),this.jobs=new a.Jobs(this._client)}}e.FineTuning=u,function(t){t.Jobs=a.Jobs,t.FineTuningJobsPage=a.FineTuningJobsPage,t.FineTuningJobEventsPage=a.FineTuningJobEventsPage}(u=e.FineTuning||(e.FineTuning={}))},33955:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.FineTuningJobCheckpointsPage=e.Checkpoints=void 0;const s=n(32802),a=n(88757),u=i(n(33955)),c=n(2510);class l extends s.APIResource{list(t,e={},n){return(0,a.isRequestOptions)(e)?this.list(t,{},e):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,f,{query:e,...n})}}e.Checkpoints=l;class f extends c.CursorPage{}e.FineTuningJobCheckpointsPage=f,function(t){t.FineTuningJobCheckpointsPage=u.FineTuningJobCheckpointsPage}(l=e.Checkpoints||(e.Checkpoints={}))},71718:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.FineTuningJobEventsPage=e.FineTuningJobsPage=e.Jobs=void 0;const s=n(32802),a=n(88757),u=i(n(71718)),c=i(n(33955)),l=n(2510);class f extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new c.Checkpoints(this._client)}create(t,e){return this._client.post("/fine_tuning/jobs",{body:t,...e})}retrieve(t,e){return this._client.get(`/fine_tuning/jobs/${t}`,e)}list(t={},e){return(0,a.isRequestOptions)(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",h,{query:t,...e})}cancel(t,e){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,e)}listEvents(t,e={},n){return(0,a.isRequestOptions)(e)?this.listEvents(t,{},e):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,d,{query:e,...n})}}e.Jobs=f;class h extends l.CursorPage{}e.FineTuningJobsPage=h;class d extends l.CursorPage{}e.FineTuningJobEventsPage=d,function(t){t.FineTuningJobsPage=u.FineTuningJobsPage,t.FineTuningJobEventsPage=u.FineTuningJobEventsPage,t.Checkpoints=c.Checkpoints,t.FineTuningJobCheckpointsPage=c.FineTuningJobCheckpointsPage}(f=e.Jobs||(e.Jobs={}))},64989:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Images=void 0;const s=n(32802),a=i(n(88757));class u extends s.APIResource{createVariation(t,e){return this._client.post("/images/variations",a.multipartFormRequestOptions({body:t,...e}))}edit(t,e){return this._client.post("/images/edits",a.multipartFormRequestOptions({body:t,...e}))}generate(t,e){return this._client.post("/images/generations",{body:t,...e})}}e.Images=u,u=e.Images||(e.Images={})},33946:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.Uploads=e.Moderations=e.Models=e.ModelsPage=e.Images=e.FineTuning=e.Files=e.FileObjectsPage=e.Embeddings=e.Completions=e.Beta=e.Batches=e.BatchesPage=e.Audio=void 0,o(n(7949),e),o(n(55653),e);var i=n(1253);Object.defineProperty(e,"Audio",{enumerable:!0,get:function(){return i.Audio}});var s=n(32530);Object.defineProperty(e,"BatchesPage",{enumerable:!0,get:function(){return s.BatchesPage}}),Object.defineProperty(e,"Batches",{enumerable:!0,get:function(){return s.Batches}});var a=n(6183);Object.defineProperty(e,"Beta",{enumerable:!0,get:function(){return a.Beta}});var u=n(79045);Object.defineProperty(e,"Completions",{enumerable:!0,get:function(){return u.Completions}});var c=n(1242);Object.defineProperty(e,"Embeddings",{enumerable:!0,get:function(){return c.Embeddings}});var l=n(61461);Object.defineProperty(e,"FileObjectsPage",{enumerable:!0,get:function(){return l.FileObjectsPage}}),Object.defineProperty(e,"Files",{enumerable:!0,get:function(){return l.Files}});var f=n(33453);Object.defineProperty(e,"FineTuning",{enumerable:!0,get:function(){return f.FineTuning}});var h=n(64989);Object.defineProperty(e,"Images",{enumerable:!0,get:function(){return h.Images}});var d=n(93429);Object.defineProperty(e,"ModelsPage",{enumerable:!0,get:function(){return d.ModelsPage}}),Object.defineProperty(e,"Models",{enumerable:!0,get:function(){return d.Models}});var p=n(24975);Object.defineProperty(e,"Moderations",{enumerable:!0,get:function(){return p.Moderations}});var m=n(93017);Object.defineProperty(e,"Uploads",{enumerable:!0,get:function(){return m.Uploads}})},93429:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ModelsPage=e.Models=void 0;const s=n(32802),a=i(n(93429)),u=n(2510);class c extends s.APIResource{retrieve(t,e){return this._client.get(`/models/${t}`,e)}list(t){return this._client.getAPIList("/models",l,t)}del(t,e){return this._client.delete(`/models/${t}`,e)}}e.Models=c;class l extends u.Page{}e.ModelsPage=l,function(t){t.ModelsPage=a.ModelsPage}(c=e.Models||(e.Models={}))},24975:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Moderations=void 0;const r=n(32802);class o extends r.APIResource{create(t,e){return this._client.post("/moderations",{body:t,...e})}}e.Moderations=o,o=e.Moderations||(e.Moderations={})},55653:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3061:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Parts=void 0;const s=n(32802),a=i(n(88757));class u extends s.APIResource{create(t,e,n){return this._client.post(`/uploads/${t}/parts`,a.multipartFormRequestOptions({body:e,...n}))}}e.Parts=u,u=e.Parts||(e.Parts={})},93017:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Uploads=void 0;const s=n(32802),a=i(n(3061));class u extends s.APIResource{constructor(){super(...arguments),this.parts=new a.Parts(this._client)}create(t,e){return this._client.post("/uploads",{body:t,...e})}cancel(t,e){return this._client.post(`/uploads/${t}/cancel`,e)}complete(t,e,n){return this._client.post(`/uploads/${t}/complete`,{body:e,...n})}}e.Uploads=u,function(t){t.Parts=a.Parts}(u=e.Uploads||(e.Uploads={}))},6716:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readableStreamAsyncIterable=e._decodeChunks=e._iterSSEMessages=e.Stream=void 0;const r=n(12212),o=n(89526),i=n(59724),s=n(89526);class a{constructor(t,e){this.iterator=t,this.controller=e}static fromSSEResponse(t,e){let n=!1;return new a((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of u(t,e))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let t;try{t=JSON.parse(n.data)}catch(t){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),t}if(t&&t.error)throw new s.APIError(void 0,t.error,void 0,void 0);yield t}else{let t;try{t=JSON.parse(n.data)}catch(t){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),t}if("error"==n.event)throw new s.APIError(void 0,t.error,t.message,void 0);yield{event:n.event,data:t}}r=!0}catch(t){if(t instanceof Error&&"AbortError"===t.name)return;throw t}finally{r||e.abort()}}),e)}static fromReadableStream(t,e){let n=!1;return new a((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const e of async function*(){const e=new i.LineDecoder,n=f(t);for await(const t of n)for(const n of e.decode(t))yield n;for(const t of e.flush())yield t}())r||e&&(yield JSON.parse(e));r=!0}catch(t){if(t instanceof Error&&"AbortError"===t.name)return;throw t}finally{r||e.abort()}}),e)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],e=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();t.push(r),e.push(r)}return r.shift()}});return[new a((()=>r(t)),this.controller),new a((()=>r(e)),this.controller)]}toReadableStream(){const t=this;let e;const n=new TextEncoder;return new r.ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{const{value:r,done:o}=await e.next();if(o)return t.close();const i=n.encode(JSON.stringify(r)+"\n");t.enqueue(i)}catch(e){t.error(e)}},async cancel(){await(e.return?.())}})}}async function*u(t,e){if(!t.body)throw e.abort(),new o.OpenAIError("Attempted to iterate over a response with no body");const n=new l,r=new i.LineDecoder,s=f(t.body);for await(const t of async function*(t){let e=new Uint8Array;for await(const n of t){if(null==n)continue;const t=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(new TextEncoder).encode(n):n;let r,o=new Uint8Array(e.length+t.length);for(o.set(e),o.set(t,e.length),e=o;-1!==(r=c(e));)yield e.slice(0,r),e=e.slice(r)}e.length>0&&(yield e)}(s))for(const e of r.decode(t)){const t=n.decode(e);t&&(yield t)}for(const t of r.flush()){const e=n.decode(t);e&&(yield e)}}function c(t){for(let e=0;e<t.length-2;e++){if(10===t[e]&&10===t[e+1])return e+2;if(13===t[e]&&13===t[e+1])return e+2;if(13===t[e]&&10===t[e+1]&&e+3<t.length&&13===t[e+2]&&10===t[e+3])return e+4}return-1}e.Stream=a,e._iterSSEMessages=u;class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const t={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],t}if(this.chunks.push(t),t.startsWith(":"))return null;let[e,n,r]=function(t){const e=t.indexOf(":");return-1!==e?[t.substring(0,e),":",t.substring(e+1)]:[t,"",""]}(t);return r.startsWith(" ")&&(r=r.substring(1)),"event"===e?this.event=r:"data"===e&&this.data.push(r),null}}function f(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const t=await e.read();return t?.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}e._decodeChunks=function(t){const e=new i.LineDecoder,n=[];for(const r of t)n.push(...e.decode(r));return n},e.readableStreamAsyncIterable=f},64042:function(t,e,n){"use strict";var r=n(64583).Promise;Object.defineProperty(e,"__esModule",{value:!0}),e.createForm=e.multipartFormRequestOptions=e.maybeMultipartFormRequestOptions=e.isMultipartBody=e.toFile=e.isUploadable=e.isBlobLike=e.isFileLike=e.isResponseLike=e.fileFromPath=void 0;const o=n(12212);var i=n(12212);async function s(t,n,r){if(t=await t,(0,e.isFileLike)(t))return t;if((0,e.isResponseLike)(t)){const i=await t.blob();n||(n=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=(0,e.isBlobLike)(i)?[await i.arrayBuffer()]:[i];return new o.File(s,n,r)}const i=await async function(t){let n=[];if("string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)n.push(t);else if((0,e.isBlobLike)(t))n.push(await t.arrayBuffer());else{if(!u(t))throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${function(t){return`[${Object.getOwnPropertyNames(t).map((t=>`"${t}"`)).join(", ")}]`}(t)}`);for await(const e of t)n.push(e)}return n}(t);if(n||(n=function(t){return a(t.name)||a(t.filename)||a(t.path)?.split(/[\\/]/).pop()}(t)??"unknown_file"),!r?.type){const t=i[0]?.type;"string"==typeof t&&(r={...r,type:t})}return new o.File(i,n,r)}Object.defineProperty(e,"fileFromPath",{enumerable:!0,get:function(){return i.fileFromPath}}),e.isResponseLike=t=>null!=t&&"object"==typeof t&&"string"==typeof t.url&&"function"==typeof t.blob,e.isFileLike=t=>null!=t&&"object"==typeof t&&"string"==typeof t.name&&"number"==typeof t.lastModified&&(0,e.isBlobLike)(t),e.isBlobLike=t=>null!=t&&"object"==typeof t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.text&&"function"==typeof t.slice&&"function"==typeof t.arrayBuffer,e.isUploadable=t=>(0,e.isFileLike)(t)||(0,e.isResponseLike)(t)||(0,o.isFsReadStream)(t),e.toFile=s;const a=t=>"string"==typeof t?t:"undefined"!=typeof Buffer&&t instanceof Buffer?String(t):void 0,u=t=>null!=t&&"object"==typeof t&&"function"==typeof t[Symbol.asyncIterator];e.isMultipartBody=t=>t&&"object"==typeof t&&t.body&&"MultipartBody"===t[Symbol.toStringTag],e.maybeMultipartFormRequestOptions=async t=>{if(!c(t.body))return t;const n=await(0,e.createForm)(t.body);return(0,o.getMultipartRequestOptions)(n,t)},e.multipartFormRequestOptions=async t=>{const n=await(0,e.createForm)(t.body);return(0,o.getMultipartRequestOptions)(n,t)},e.createForm=async t=>{const e=new o.FormData;return await r.all(Object.entries(t||{}).map((([t,n])=>l(e,t,n)))),e};const c=t=>{if((0,e.isUploadable)(t))return!0;if(Array.isArray(t))return t.some(c);if(t&&"object"==typeof t)for(const e in t)if(c(t[e]))return!0;return!1},l=async(t,n,o)=>{if(void 0!==o){if(null==o)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)t.append(n,String(o));else if((0,e.isUploadable)(o)){const e=await s(o);t.append(n,e)}else if(Array.isArray(o))await r.all(o.map((e=>l(t,n+"[]",e))));else{if("object"!=typeof o)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`);await r.all(Object.entries(o).map((([e,r])=>l(t,`${n}[${e}]`,r))))}}}},35392:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="4.68.4"},97506:function(t,e,n){"use strict";n.r(e)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n(13761),n(74090),n(21458),n(45152),n(42825),n(8376),n(84200),n(9546),n(95544)}();
//# sourceMappingURL=functions.js.map