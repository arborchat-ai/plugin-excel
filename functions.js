/*! For license information please see functions.js.LICENSE.txt */
!function(){var e={13368:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this;Object.defineProperty(t,"__esModule",{value:!0}),t.use=void 0;var c=a(n(72788)),u=function(e,t){var n=new c.default({requestsPerSecond:t.requestsPerSecond,promiseImplementation:t.promiseImplementation}),r=function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){return[2,e]}))}))};e.interceptors.request.use((function(e){return n.add(r.bind(s,e))}))};t.use=u,t.default={use:u}},52470:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(59302)),u=n(15797),l=n(84875);t.default=new c.default((function(e){return function(e){return i(this,void 0,void 0,(function(){var t,n,s,c=this;return a(this,(function(f){switch(f.label){case 0:return t=(0,u.getFromLocalStorage)("FmpApiKey"),n={},s={},e.forEach((function(e){n[e.symbol]||(n[e.symbol]={});var t=e.quarter?"quarter":"annual";n[e.symbol][t]||(n[e.symbol][t]=[]),n[e.symbol][t].push({year:e.year,quarter:e.quarter})})),[4,r.all(Object.keys(n).map((function(e){return i(c,void 0,void 0,(function(){var c=this;return a(this,(function(u){switch(u.label){case 0:return[4,r.all(Object.keys(n[e]).map((function(r){return i(c,void 0,void 0,(function(){var i,c,u;return a(this,(function(a){switch(a.label){case 0:return i="https://financialmodelingprep.com/api/v3/balance-sheet-statement/".concat(e,"?period=").concat(r,"&apikey=").concat(t),[4,l.fmpAxiosLimiter.get(i)];case 1:return 200!==(c=a.sent()).status?[2,null]:(u=c.data,n[e][r].forEach((function(t){var n=t.year,r=t.quarter,i=r?"Q".concat(r):"FY",a=u.find((function(e){return e.calendarYear===n.toString()&&e.period===i})),c="".concat(e,"_").concat(n,"_").concat(i);s[c]=o(o({},a),{otherTotalStockholdersEquity:a.othertotalStockholdersEquity})})),[2])}}))}))})))];case 1:return u.sent(),[2]}}))}))})))];case 1:return f.sent(),[2,e.map((function(e){var t=e.symbol,n=e.year,r=e.quarter,o=r?"Q".concat(r):"FY",i="".concat(t,"_").concat(n,"_").concat(o);return i?s[i]:null}))]}}))}))}(e)}))},35013:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(59302)),u=n(15797),l=n(84875);t.default=new c.default((function(e){return function(e){return i(this,void 0,void 0,(function(){var t,n,s,c=this;return a(this,(function(f){switch(f.label){case 0:return t=(0,u.getFromLocalStorage)("FmpApiKey"),n={},s={},e.forEach((function(e){n[e.symbol]||(n[e.symbol]={});var t=e.quarter?"quarter":"annual";n[e.symbol][t]||(n[e.symbol][t]=[]),n[e.symbol][t].push({year:e.year,quarter:e.quarter})})),[4,r.all(Object.keys(n).map((function(e){return i(c,void 0,void 0,(function(){var c=this;return a(this,(function(u){switch(u.label){case 0:return[4,r.all(Object.keys(n[e]).map((function(r){return i(c,void 0,void 0,(function(){var i,c,u;return a(this,(function(a){switch(a.label){case 0:return i="https://financialmodelingprep.com/api/v3/cash-flow-statement/".concat(e,"?period=").concat(r,"&apikey=").concat(t),[4,l.fmpAxiosLimiter.get(i)];case 1:return 200!==(c=a.sent()).status?[2,null]:(u=c.data,n[e][r].forEach((function(t){var n=t.year,r=t.quarter,i=r?"Q".concat(r):"FY",a=u.find((function(e){return e.calendarYear===n.toString()&&e.period===i})),c="".concat(e,"_").concat(n,"_").concat(i);s[c]=o(o({},a),{otherInvestingActivities:a.otherInvestingActivites,netCashUsedForInvestingActivities:a.netCashUsedForInvestingActivites,otherFinancingActivities:a.otherFinancingActivites})})),[2])}}))}))})))];case 1:return u.sent(),[2]}}))}))})))];case 1:return f.sent(),[2,e.map((function(e){var t=e.symbol,n=e.year,r=e.quarter,o=r?"Q".concat(r):"FY",i="".concat(t,"_").concat(n,"_").concat(o);return i?s[i]:null}))]}}))}))}(e)}))},93649:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(59302)),c=n(2543),u=n(15797),l=n(84875);t.default=new s.default((function(e){return function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,a,s,f;return i(this,(function(i){switch(i.label){case 0:t=(0,u.getFromLocalStorage)("FmpApiKey"),n=(0,c.uniq)(e).join(","),r="https://financialmodelingprep.com/api/v3/profile/".concat(n,"?apikey=").concat(t),o={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.fmpAxiosLimiter.get(r)];case 2:if(200!==(a=i.sent()).status)throw new Error("HTTP error! status: ".concat(a.status));return s=a.data,o=(0,c.keyBy)(s,"symbol"),[2,e.map((function(e){return o[e]}))];case 3:return f=i.sent(),console.error("Error fetching company profile data:",f),[3,4];case 4:return[2,e.map((function(e){return o[e]}))]}}))}))}(e)}))},14145:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(59302)),c=n(15797),u=n(84875);t.default=new s.default((function(e){return function(e){return o(this,void 0,void 0,(function(){var t,n,a,s=this;return i(this,(function(l){switch(l.label){case 0:return t=(0,c.getFromLocalStorage)("FmpApiKey"),n={},a={},e.forEach((function(e){n[e.symbol]||(n[e.symbol]={});var t=e.quarter?"quarter":"annual";n[e.symbol][t]||(n[e.symbol][t]=[]),n[e.symbol][t].push({year:e.year,quarter:e.quarter})})),[4,r.all(Object.keys(n).map((function(e){return o(s,void 0,void 0,(function(){var s=this;return i(this,(function(c){switch(c.label){case 0:return[4,r.all(Object.keys(n[e]).map((function(r){return o(s,void 0,void 0,(function(){var o,s,c;return i(this,(function(i){switch(i.label){case 0:return o="https://financialmodelingprep.com/api/v3/income-statement/".concat(e,"?period=").concat(r,"&apikey=").concat(t),[4,u.fmpAxiosLimiter.get(o)];case 1:return 200!==(s=i.sent()).status?[2,null]:(c=s.data,n[e][r].forEach((function(t){var n=t.year,r=t.quarter,o=r?"Q".concat(r):"FY",i=c.find((function(e){return e.calendarYear===n.toString()&&e.period===o})),s="".concat(e,"_").concat(n,"_").concat(o);a[s]=i})),[2])}}))}))})))];case 1:return c.sent(),[2]}}))}))})))];case 1:return l.sent(),[2,e.map((function(e){var t=e.symbol,n=e.year,r=e.quarter,o=r?"Q".concat(r):"FY",i="".concat(t,"_").concat(n,"_").concat(o);return i?a[i]:null}))]}}))}))}(e)}))},76037:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ratiosLoader=t.quoteLoader=t.priceTargetConsensusLoader=t.keyMetricsLoader=t.incomeStatementLoader=t.cashFlowStatementLoader=t.balanceSheetLoader=t.companyProfileLoader=void 0;var o=n(93649);Object.defineProperty(t,"companyProfileLoader",{enumerable:!0,get:function(){return r(o).default}});var i=n(52470);Object.defineProperty(t,"balanceSheetLoader",{enumerable:!0,get:function(){return r(i).default}});var a=n(35013);Object.defineProperty(t,"cashFlowStatementLoader",{enumerable:!0,get:function(){return r(a).default}});var s=n(14145);Object.defineProperty(t,"incomeStatementLoader",{enumerable:!0,get:function(){return r(s).default}});var c=n(27369);Object.defineProperty(t,"keyMetricsLoader",{enumerable:!0,get:function(){return r(c).default}});var u=n(62314);Object.defineProperty(t,"priceTargetConsensusLoader",{enumerable:!0,get:function(){return r(u).default}});var l=n(94285);Object.defineProperty(t,"quoteLoader",{enumerable:!0,get:function(){return r(l).default}});var f=n(53977);Object.defineProperty(t,"ratiosLoader",{enumerable:!0,get:function(){return r(f).default}})},27369:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(59302)),u=n(2543),l=n(15797),f=n(84875);t.default=new c.default((function(e){return function(e){return i(this,void 0,void 0,(function(){var t,n,s,c,h=this;return a(this,(function(p){switch(p.label){case 0:return t=(0,l.getFromLocalStorage)("FmpApiKey"),n=(0,u.uniq)(e),[4,r.all(n.map((function(e){return i(h,void 0,void 0,(function(){var n,r,i;return a(this,(function(a){switch(a.label){case 0:return n="https://financialmodelingprep.com/api/v3/key-metrics-ttm/".concat(e,"?apikey=").concat(t),[4,f.fmpAxiosLimiter.get(n)];case 1:return 200!==(r=a.sent()).status?[2,null]:[2,(i=r.data).length>0?o(o({symbol:e},i[0]),{researchAndDevelopmentToRevenueTTM:i[0].researchAndDevelopementToRevenueTTM}):null]}}))}))})))];case 1:return s=p.sent(),c=(0,u.keyBy)(s,"symbol"),[2,e.map((function(e){return c[e]}))]}}))}))}(e)}))},62314:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(59302)),c=n(2543),u=n(15797),l=n(84875);t.default=new s.default((function(e){return function(e){return o(this,void 0,void 0,(function(){var t,n,a,s,f=this;return i(this,(function(h){switch(h.label){case 0:return t=(0,u.getFromLocalStorage)("FmpApiKey"),n=(0,c.uniq)(e),[4,r.all(n.map((function(e){return o(f,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return n="https://financialmodelingprep.com/api/v4/price-target-consensus?symbol=".concat(e,"&apikey=").concat(t),[4,l.fmpAxiosLimiter.get(n)];case 1:return 200!==(r=i.sent()).status?[2,null]:[2,(o=r.data).length>0?o[0]:null]}}))}))})))];case 1:return a=h.sent(),s=(0,c.keyBy)(a,"symbol"),[2,e.map((function(e){return s[e]}))]}}))}))}(e)}))},94285:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(59302)),c=n(2543),u=n(15797),l=n(84875);t.default=new s.default((function(e){return function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,a,s,f;return i(this,(function(i){switch(i.label){case 0:t=(0,u.getFromLocalStorage)("FmpApiKey"),n=(0,c.uniq)(e).join(","),r="https://financialmodelingprep.com/api/v3/quote/".concat(n,"?apikey=").concat(t),o={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.fmpAxiosLimiter.get(r)];case 2:if(200!==(a=i.sent()).status)throw new Error("HTTP error! status: ".concat(a.status));return s=a.data,o=(0,c.keyBy)(s,"symbol"),[2,e.map((function(e){return o[e]}))];case 3:return f=i.sent(),console.error("Error fetching stock data:",f),[3,4];case 4:return[2,e.map((function(e){return o[e]}))]}}))}))}(e)}))},53977:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(59302)),u=n(2543),l=n(15797),f=n(84875);t.default=new c.default((function(e){return function(e){return i(this,void 0,void 0,(function(){var t,n,s,c,h=this;return a(this,(function(p){switch(p.label){case 0:return t=(0,l.getFromLocalStorage)("FmpApiKey"),n=(0,u.uniq)(e),[4,r.all(n.map((function(e){return i(h,void 0,void 0,(function(){var n,r,i;return a(this,(function(a){switch(a.label){case 0:n="https://financialmodelingprep.com/api/v3/ratios-ttm/".concat(e,"?apikey=").concat(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,f.fmpAxiosLimiter.get(n)];case 2:return[2,(r=a.sent()).data.length>0?o(o({symbol:e},r.data[0]),{dividendYielTTM:r.data[0].dividendYieldTTM,dividendYielPercentageTTM:r.data[0].dividendYieldPercentageTTM}):null];case 3:return i=a.sent(),console.error(i),[2,null];case 4:return[2]}}))}))})))];case 1:return s=p.sent(),c=(0,u.keyBy)(s,"symbol"),[2,e.map((function(e){return c[e]}))]}}))}))}(e)}))},93501:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.screen=p,t.answer=d,t.answerNumber=m,t.answerFactual=g,t.companyInfo=v,t.balanceSheet=b,t.cashFlowStatement=T,t.incomeStatement=_,t.keyMetrics=w,t.priceTargetConsensus=M,t.quote=E,t.ratios=O;var s=n(76037);n(97506);var c=n(32012),u=n(15797),l=n(17352),f=n(84875),h=n(6229);function p(e){return i(this,arguments,void 0,(function(e,t){var n,r,o,i,s,f,h,p;return void 0===t&&(t=0),a(this,(function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),!(n=(0,u.getFromLocalStorage)("GPTKey")))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API key not found in settings");return r=new c.AzureOpenAI({baseURL:"https://apoidea-chatgpt-api.openai.azure.com/openai/deployments/gpt4o-mini-deployment/",apiVersion:"2024-05-01-preview",apiKey:n,deployment:"gpt4o-mini-deployment",dangerouslyAllowBrowser:!0}),[4,(0,u.getFromWorkbookSettings)("ScreeningPrompt")];case 1:return o=a.sent(),[4,r.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:o||l.defaultScreeningPrompt},{role:"user",content:"query: ".concat(e)}]})];case 2:if(i=a.sent(),!(s=i.choices[0].message.content))throw new Error("No content in response");return f=JSON.parse(s),h=f.list||f[Object.keys(f)[0]],1===t?[2,[h]]:[2,h.map((function(e){return[e]}))];case 3:throw p=a.sent(),console.error("Error in SCREENING function:",p),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Error in SCREENING function");case 4:return[2]}}))}))}function d(e,t,n){return i(this,void 0,void 0,(function(){var r,o,i,c,h,p,d,y,m,g;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,s.companyProfileLoader.load(e)];case 1:if(!(r=a.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return o=(0,u.getFromLocalStorage)("ArborApiToken"),[4,(0,u.getFromWorkbookSettings)("arborModelProvider")];case 2:return i=a.sent(),c=(c=n?l.defaultLongAnswerPrompt:l.defaultShortAnswerPrompt).replace(/\{\{query\}\}/g,t),Object.keys(r).forEach((function(e){c=c.replace(new RegExp("\\{\\{".concat(e,"\\}\\}"),"g"),r[e])})),h=JSON.stringify({query:c,provider:i||"openai"}),p=(0,u.getFromLocalStorage)("ArborAnswerApi")||"https://stockchat-intelligence-service.arbor.news/api/v1/answer",[4,f.arborAxiosLimiter.post(p,h,{headers:{"Content-Type":"application/json","X-API-KEY":o,"X-API-TOKEN":o}}).catch((function(e){throw console.error("Error in ANSWER function:",e),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,e.message)}))];case 3:if((d=a.sent()).status>=400)throw new Error("HTTP error! status: ".concat(d.status));return(y=d.data).success&&(null===(g=y.result)||void 0===g?void 0:g.answer)?[2,{type:Excel.CellValueType.entity,text:y.result.answer,properties:{type:{type:Excel.CellValueType.string,basicValue:n?"long":"short"},success:{type:Excel.CellValueType.boolean,basicValue:!0},ticker:{type:Excel.CellValueType.string,basicValue:e},query:{type:Excel.CellValueType.string,basicValue:t||""},answer:{type:Excel.CellValueType.string,basicValue:y.result.answer||""},answerAt:{type:Excel.CellValueType.string,basicValue:new Date(y.result.answerAt).toISOString()||""},answerId:{type:Excel.CellValueType.string,basicValue:y.result.id||""},queryAt:{type:Excel.CellValueType.string,basicValue:new Date(y.result.queryAt).toISOString()||""},references:{type:Excel.CellValueType.string,basicValue:y.result.references.map((function(e){return e.url})).join("\n")}},basicType:Excel.RangeValueType.error,basicValue:"#VALUE!"}]:y.success?[2,{type:Excel.CellValueType.error,basicValue:"#Empty response"}]:[2,{type:Excel.CellValueType.error,basicValue:"#".concat(y.error)}];case 4:return m=a.sent(),console.error("Error in ANSWER function:",m),[2,{type:Excel.CellValueType.error,basicValue:"#".concat(m.message)}];case 5:return[2]}}))}))}function y(e,t,n){return i(this,void 0,void 0,(function(){var r,o,i;return a(this,(function(a){switch(a.label){case 0:if(!(r=(0,u.getFromLocalStorage)("GPTKey")))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API key not found in settings");return[4,new c.AzureOpenAI({baseURL:"https://apoidea-chatgpt-api.openai.azure.com/openai/deployments/gpt4o-mini-deployment/",apiVersion:"2024-05-01-preview",apiKey:r,deployment:"gpt4o-mini-deployment",dangerouslyAllowBrowser:!0}).chat.completions.create({model:"gpt4o-mini-deployment",messages:[{role:"system",content:'You are a helpful assistant providing factual information about companies. Output in JSON: {"answer": number, "reason": string}'},{role:"user",content:"Stock Code: ".concat(e,"\n Question:").concat(t," Answer: ").concat(n)}],max_tokens:50,temperature:.9})];case 1:return o=a.sent(),i=JSON.parse(o.choices[0].message.content.trim()),[2,Number(i.answer)]}}))}))}function m(e,t){return i(this,void 0,void 0,(function(){var n,r,o,i,c,l,h,p,d,m,g;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),[4,s.companyProfileLoader.load(e)];case 1:if(!(n=a.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return r=(0,u.getFromLocalStorage)("ArborApiToken"),[4,(0,u.getFromWorkbookSettings)("arborModelProvider")];case 2:return o=a.sent(),i="Stock Code: ".concat(e,"\nQuestion: ").concat(t,'\nAnswer the question concisely with an elliptical response (aka short answer) based on the given company and stock code. Output in JSON: {"answer": number, "reason": string}'),Object.keys(n).forEach((function(e){i=i.replace(new RegExp("\\{\\{".concat(e,"\\}\\}"),"g"),n[e])})),c=JSON.stringify({query:i,provider:o||"openai"}),l=(0,u.getFromLocalStorage)("ArborAnswerApi")||"https://stockchat-intelligence-service.arbor.news/api/v1/answer",[4,f.arborAxiosLimiter.post(l,c,{headers:{"Content-Type":"application/json","X-API-KEY":r,"X-API-TOKEN":r}}).catch((function(e){throw console.error("Error in ANSWER function:",e),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,e.message)}))];case 3:if((h=a.sent()).status>=400)throw new Error("HTTP error! status: ".concat(h.status));return(p=h.data).success&&(null===(g=p.result)||void 0===g?void 0:g.answer)?[4,y(e,t,p.result.answer)]:[3,5];case 4:if(!(d=a.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"N/A");return[2,{type:Excel.CellValueType.entity,text:"".concat(d||0),properties:{type:{type:Excel.CellValueType.string,basicValue:"number"},success:{type:Excel.CellValueType.boolean,basicValue:!0},ticker:{type:Excel.CellValueType.string,basicValue:e},query:{type:Excel.CellValueType.string,basicValue:t||""},answer:{type:Excel.CellValueType.double,basicValue:d||0},reason:{type:Excel.CellValueType.string,basicValue:p.result.answer||""},answerAt:{type:Excel.CellValueType.string,basicValue:new Date(p.result.answerAt).toISOString()||""},answerId:{type:Excel.CellValueType.string,basicValue:p.result.id||""},queryAt:{type:Excel.CellValueType.string,basicValue:new Date(p.result.queryAt).toISOString()||""},references:{type:Excel.CellValueType.string,basicValue:p.result.references.map((function(e){return e.url})).join("\n")}},basicType:Excel.RangeValueType.error,basicValue:"#VALUE!"}];case 5:return p.success?[2,{type:Excel.CellValueType.error,basicValue:"#Empty response"}]:[2,{type:Excel.CellValueType.error,basicValue:"#".concat(p.error)}];case 6:return[3,8];case 7:return m=a.sent(),console.error("Error in ANSWER function:",m),[2,{type:Excel.CellValueType.error,basicValue:"#".concat(m.message)}];case 8:return[2]}}))}))}function g(e,t){return i(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,s.companyProfileLoader.load(e)];case 1:if(!(n=i.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));if(!(r=(0,u.getFromLocalStorage)("GPTKey")))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API key not found in settings");return[4,new c.AzureOpenAI({baseURL:"https://apoidea-chatgpt-api.openai.azure.com/openai/deployments/gpt4o-mini-deployment/",apiVersion:"2024-05-01-preview",apiKey:r,deployment:"gpt4o-mini-deployment",dangerouslyAllowBrowser:!0}).chat.completions.create({model:"gpt4o-mini-deployment",messages:[{role:"system",content:'You are a helpful assistant providing factual information about companies. Answer the query concisely with an elliptical response (aka short answer) based on the given company and stock code. Output in JSON: {"answer": string}'},{role:"user",content:"Company: ".concat(n.companyName,"\nStock Code: ").concat(e,"\n Question:").concat(t)}],max_tokens:50,temperature:.9})];case 2:return o=i.sent(),[2,JSON.parse(o.choices[0].message.content.trim()).answer||""];case 3:if(401===i.sent().status)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"API Key not valid");throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Unknown error in ANSWER_FACTUAL function");case 4:return[2]}}))}))}function v(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.companyProfileLoader.load(e)];case 1:if(!(t=r.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Info"),properties:o({type:{type:Excel.CellValueType.string,basicValue:"info"},ticker:{type:Excel.CellValueType.string,basicValue:e}},Object.fromEntries(h.COMPANY_PROFILE_KEYS.map((function(e){return[e,{type:Excel.CellValueType.string,basicValue:t[e]||""}]})))),basicType:Excel.RangeValueType.error,basicValue:"#VALUE!"}];case 2:throw n=r.sent(),console.error("Error in ARBOR_DATA function:",n),new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Error in ARBOR_DATA function");case 3:return[2]}}))}))}function b(e,t){return i(this,arguments,void 0,(function(e,t,n){var r,i;return void 0===n&&(n=0),a(this,(function(a){switch(a.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!t)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Year is required");return[4,s.balanceSheetLoader.load({symbol:e,year:t,quarter:n})];case 1:if(!(r=a.sent()))throw i=n?"Q".concat(n):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(t," ").concat(i));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Balance Sheet ").concat(t," ").concat(n?"Q".concat(n):"Full Year"),properties:o(o({type:{type:Excel.CellValueType.string,basicValue:"balanceSheet"},ticker:{type:Excel.CellValueType.string,basicValue:r.symbol}},Object.fromEntries(h.STATEMENT_KEYS.map((function(e){return[e,{type:Excel.CellValueType.string,basicValue:r[e]||""}]})))),Object.fromEntries(h.BALANCE_SHEET_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:r[e]||0}]}))))}]}}))}))}function T(e,t){return i(this,arguments,void 0,(function(e,t,n){var r,i;return void 0===n&&(n=0),a(this,(function(a){switch(a.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(!t)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Year is required");return[4,s.cashFlowStatementLoader.load({symbol:e,year:t,quarter:n})];case 1:if(!(r=a.sent()))throw i=n?"Q".concat(n):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(t," ").concat(i));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Cash Flow ").concat(t," ").concat(n?"Q".concat(n):"Full Year"),properties:o(o({type:{type:Excel.CellValueType.string,basicValue:"cashFlow"},ticker:{type:Excel.CellValueType.string,basicValue:r.symbol}},Object.fromEntries(h.STATEMENT_KEYS.map((function(e){return[e,{type:Excel.CellValueType.string,basicValue:r[e]||""}]})))),Object.fromEntries(h.CASH_FLOW_STATEMENT_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:r[e]||0}]}))))}]}}))}))}function _(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return a(this,(function(a){switch(a.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");if(n&&(n<0||n>4))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Invalid quarter: ".concat(n));return[4,s.incomeStatementLoader.load({symbol:e,year:t,quarter:n})];case 1:if(!(r=a.sent()))throw i=n?"Q".concat(n):"Full Year",new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e," ").concat(t," ").concat(i));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Income Statement ").concat(t," ").concat(n?"Q".concat(n):"Full Year"),properties:o(o({type:{type:Excel.CellValueType.string,basicValue:"incomeStatement"},ticker:{type:Excel.CellValueType.string,basicValue:r.symbol}},Object.fromEntries(h.STATEMENT_KEYS.map((function(e){return[e,{type:Excel.CellValueType.string,basicValue:r[e]||""}]})))),Object.fromEntries(h.INCOME_STATEMENT_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:r[e]||0}]}))))}]}}))}))}function w(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");return[4,s.keyMetricsLoader.load(e)];case 1:if(!(t=n.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Key Metrics"),properties:o({type:{type:Excel.CellValueType.string,basicValue:"keyMetrics"},ticker:{type:Excel.CellValueType.string,basicValue:e}},Object.fromEntries(h.KEY_METRICS_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:t[e]||0}]}))))}]}}))}))}function M(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");return[4,s.priceTargetConsensusLoader.load(e)];case 1:if(!(t=n.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Price Target Consensus"),properties:o({type:{type:Excel.CellValueType.string,basicValue:"priceTargetConsensus"},ticker:{type:Excel.CellValueType.string,basicValue:e}},Object.fromEntries(h.PRICE_TARGET_CONSENSUS_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:t[e]||0}]}))))}]}}))}))}function E(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");return[4,s.quoteLoader.load(e)];case 1:if(!(t=n.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Quote"),properties:o({type:{type:Excel.CellValueType.string,basicValue:"quote"},ticker:{type:Excel.CellValueType.string,basicValue:e}},Object.fromEntries(h.QUOTE_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:t[e]||0}]}))))}]}}))}))}function O(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e)throw new CustomFunctions.Error(CustomFunctions.ErrorCode.invalidValue,"Stock symbol is required");return[4,s.ratiosLoader.load(e)];case 1:if(!(t=n.sent()))throw new CustomFunctions.Error(CustomFunctions.ErrorCode.notAvailable,"Record Not found: ".concat(e));return[2,{type:Excel.CellValueType.entity,text:"".concat(e," Ratios"),properties:o({type:{type:Excel.CellValueType.string,basicValue:"ratios"},ticker:{type:Excel.CellValueType.string,basicValue:e}},Object.fromEntries(h.RATIOS_KEYS.map((function(e){return[e,{type:Excel.CellValueType.double,basicValue:t[e]||0}]}))))}]}}))}))}CustomFunctions.associate("ARBOR_SCREEN",p),CustomFunctions.associate("ARBOR_CHAT",d),CustomFunctions.associate("ARBOR_NUMBER",m),CustomFunctions.associate("ARBOR_FACTUAL",g),CustomFunctions.associate("COMPANY_INFO",v),CustomFunctions.associate("BALANCE_SHEET",b),CustomFunctions.associate("CASH_FLOW",T),CustomFunctions.associate("INCOME",_),CustomFunctions.associate("KEY_METRICS",w),CustomFunctions.associate("PRICE_TARGET_CONSENSUS",M),CustomFunctions.associate("QUOTE",E),CustomFunctions.associate("RATIOS",O)},6229:function(e,t){"use strict";var n,r,o,i,a,s,c,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.COMPANY_PROFILE_KEYS=t.CompanyProfileKeyEnum=t.PRICE_TARGET_CONSENSUS_KEYS=t.PriceTargetConsensusKeyEnum=t.RATIOS_KEYS=t.RatiosKeyEnum=t.KEY_METRICS_KEYS=t.KeyMetricsKeyEnum=t.CASH_FLOW_STATEMENT_KEYS=t.CashFlowStatementKeyEnum=t.BALANCE_SHEET_KEYS=t.BalanceSheetKeyEnum=t.INCOME_STATEMENT_KEYS=t.IncomeStatementKeyEnum=t.QUOTE_KEYS=t.QuoteKeyEnum=t.STATEMENT_KEYS_LOWERCASE_MAP=t.STATEMENT_KEYS=t.StatementEnum=void 0,function(e){e.Date="date",e.Period="period",e.ReportedCurrency="reportedCurrency",e.Cik="cik",e.FillingDate="fillingDate",e.AcceptedDate="acceptedDate",e.CalendarYear="calendarYear",e.Link="link",e.FinalLink="finalLink"}(n||(t.StatementEnum=n={})),t.STATEMENT_KEYS=Object.values(n),t.STATEMENT_KEYS_LOWERCASE_MAP=new Map(t.STATEMENT_KEYS.map((function(e){return[e.toLowerCase(),e]}))),function(e){e.Price="price",e.ChangesPercentage="changesPercentage",e.Change="change",e.DayLow="dayLow",e.DayHigh="dayHigh",e.YearHigh="yearHigh",e.YearLow="yearLow",e.MarketCap="marketCap",e.PriceAvg50="priceAvg50",e.PriceAvg200="priceAvg200",e.Volume="volume",e.AvgVolume="avgVolume",e.Open="open",e.PreviousClose="previousClose",e.EPS="eps",e.PE="pe",e.SharesOutstanding="sharesOutstanding"}(r||(t.QuoteKeyEnum=r={})),t.QUOTE_KEYS=Object.values(r),function(e){e.Revenue="revenue",e.CostOfRevenue="costOfRevenue",e.GrossProfit="grossProfit",e.GrossProfitRatio="grossProfitRatio",e.ResearchAndDevelopmentExpenses="researchAndDevelopmentExpenses",e.SellingGeneralAndAdministrativeExpenses="sellingGeneralAndAdministrativeExpenses",e.OtherExpenses="otherExpenses",e.OperatingExpenses="operatingExpenses",e.CostAndExpenses="costAndExpenses",e.InterestIncome="interestIncome",e.InterestExpense="interestExpense",e.DepreciationAndAmortization="depreciationAndAmortization",e.EBITDA="ebitda",e.EBITDARatio="ebitdaratio",e.OperatingIncome="operatingIncome",e.OperatingIncomeRatio="operatingIncomeRatio",e.TotalOtherIncomeExpensesNet="totalOtherIncomeExpensesNet",e.IncomeBeforeTax="incomeBeforeTax",e.IncomeBeforeTaxRatio="incomeBeforeTaxRatio",e.IncomeTaxExpense="incomeTaxExpense",e.NetIncome="netIncome",e.NetIncomeRatio="netIncomeRatio",e.EPS="eps",e.Epsdiluted="epsdiluted",e.WeightedAverageShsOut="weightedAverageShsOut",e.WeightedAverageShsOutDil="weightedAverageShsOutDil"}(o||(t.IncomeStatementKeyEnum=o={})),t.INCOME_STATEMENT_KEYS=Object.values(o),function(e){e.CashAndCashEquivalents="cashAndCashEquivalents",e.ShortTermInvestments="shortTermInvestments",e.CashAndShortTermInvestments="cashAndShortTermInvestments",e.NetReceivables="netReceivables",e.Inventory="inventory",e.OtherCurrentAssets="otherCurrentAssets",e.TotalCurrentAssets="totalCurrentAssets",e.PropertyPlantEquipmentNet="propertyPlantEquipmentNet",e.Goodwill="goodwill",e.IntangibleAssets="intangibleAssets",e.LongTermInvestments="longTermInvestments",e.TaxAssets="taxAssets",e.OtherNonCurrentAssets="otherNonCurrentAssets",e.TotalNonCurrentAssets="totalNonCurrentAssets",e.OtherAssets="otherAssets",e.TotalAssets="totalAssets",e.AccountsPayable="accountsPayable",e.ShortTermDebt="shortTermDebt",e.TaxPayables="taxPayables",e.DeferredRevenue="deferredRevenue",e.OtherCurrentLiabilities="otherCurrentLiabilities",e.TotalCurrentLiabilities="totalCurrentLiabilities",e.LongTermDebt="longTermDebt",e.DeferredRevenueNonCurrent="deferredRevenueNonCurrent",e.DeferredTaxLiabilitiesNonCurrent="deferredTaxLiabilitiesNonCurrent",e.OtherNonCurrentLiabilities="otherNonCurrentLiabilities",e.TotalNonCurrentLiabilities="totalNonCurrentLiabilities",e.OtherLiabilities="otherLiabilities",e.TotalLiabilities="totalLiabilities",e.PreferredStock="preferredStock",e.CommonStock="commonStock",e.RetainedEarnings="retainedEarnings",e.AccumulatedOtherComprehensiveIncomeLoss="accumulatedOtherComprehensiveIncomeLoss",e.OtherTotalStockholdersEquity="otherTotalStockholdersEquity",e.TotalStockholdersEquity="totalStockholdersEquity",e.TotalEquity="totalEquity",e.TotalLiabilitiesAndStockholdersEquity="totalLiabilitiesAndStockholdersEquity",e.MinorityInterest="minorityInterest",e.TotalLiabilitiesAndTotalEquity="totalLiabilitiesAndTotalEquity",e.TotalInvestments="totalInvestments",e.TotalDebt="totalDebt",e.NetDebt="netDebt"}(i||(t.BalanceSheetKeyEnum=i={})),t.BALANCE_SHEET_KEYS=Object.values(i),function(e){e.NetIncome="netIncome",e.DepreciationAndAmortization="depreciationAndAmortization",e.DeferredIncomeTax="deferredIncomeTax",e.StockBasedCompensation="stockBasedCompensation",e.ChangeInWorkingCapital="changeInWorkingCapital",e.AccountsReceivables="accountsReceivables",e.Inventory="inventory",e.AccountsPayables="accountsPayables",e.OtherWorkingCapital="otherWorkingCapital",e.OtherNonCashItems="otherNonCashItems",e.NetCashProvidedByOperatingActivities="netCashProvidedByOperatingActivities",e.InvestmentsInPropertyPlantAndEquipment="investmentsInPropertyPlantAndEquipment",e.AcquisitionsNet="acquisitionsNet",e.PurchasesOfInvestments="purchasesOfInvestments",e.SalesMaturitiesOfInvestments="salesMaturitiesOfInvestments",e.OtherInvestingActivities="otherInvestingActivities",e.netCashUsedForInvestingActivities="netCashUsedForInvestingActivities",e.DebtRepayment="debtRepayment",e.CommonStockIssued="commonStockIssued",e.CommonStockRepurchased="commonStockRepurchased",e.DividendsPaid="dividendsPaid",e.otherFinancingActivities="otherFinancingActivities",e.NetCashUsedProvidedByFinancingActivities="netCashUsedProvidedByFinancingActivities",e.EffectOfForexChangesOnCash="effectOfForexChangesOnCash",e.NetChangeInCash="netChangeInCash",e.CashAtEndOfPeriod="cashAtEndOfPeriod",e.CashAtBeginningOfPeriod="cashAtBeginningOfPeriod",e.OperatingCashFlow="operatingCashFlow",e.CapitalExpenditure="capitalExpenditure",e.FreeCashFlow="freeCashFlow"}(a||(t.CashFlowStatementKeyEnum=a={})),t.CASH_FLOW_STATEMENT_KEYS=Object.values(a),function(e){e.RevenuePerShareTTM="revenuePerShareTTM",e.NetIncomePerShareTTM="netIncomePerShareTTM",e.OperatingCashFlowPerShareTTM="operatingCashFlowPerShareTTM",e.FreeCashFlowPerShareTTM="freeCashFlowPerShareTTM",e.CashPerShareTTM="cashPerShareTTM",e.BookValuePerShareTTM="bookValuePerShareTTM",e.TangibleBookValuePerShareTTM="tangibleBookValuePerShareTTM",e.ShareholdersEquityPerShareTTM="shareholdersEquityPerShareTTM",e.InterestDebtPerShareTTM="interestDebtPerShareTTM",e.MarketCapTTM="marketCapTTM",e.EnterpriseValueTTM="enterpriseValueTTM",e.PeRatioTTM="peRatioTTM",e.PriceToSalesRatioTTM="priceToSalesRatioTTM",e.PocfratioTTM="pocfratioTTM",e.PfcfRatioTTM="pfcfRatioTTM",e.PbRatioTTM="pbRatioTTM",e.PtbRatioTTM="ptbRatioTTM",e.EvToSalesTTM="evToSalesTTM",e.EnterpriseValueOverEBITDATTM="enterpriseValueOverEBITDATTM",e.EvToOperatingCashFlowTTM="evToOperatingCashFlowTTM",e.EvToFreeCashFlowTTM="evToFreeCashFlowTTM",e.EarningsYieldTTM="earningsYieldTTM",e.FreeCashFlowYieldTTM="freeCashFlowYieldTTM",e.DebtToEquityTTM="debtToEquityTTM",e.DebtToAssetsTTM="debtToAssetsTTM",e.NetDebtToEBITDATTM="netDebtToEBITDATTM",e.CurrentRatioTTM="currentRatioTTM",e.InterestCoverageTTM="interestCoverageTTM",e.IncomeQualityTTM="incomeQualityTTM",e.DividendYieldTTM="dividendYieldTTM",e.DividendYieldPercentageTTM="dividendYieldPercentageTTM",e.PayoutRatioTTM="payoutRatioTTM",e.SalesGeneralAndAdministrativeToRevenueTTM="salesGeneralAndAdministrativeToRevenueTTM",e.researchAndDevelopmentToRevenueTTM="researchAndDevelopmentToRevenueTTM",e.IntangiblesToTotalAssetsTTM="intangiblesToTotalAssetsTTM",e.CapexToOperatingCashFlowTTM="capexToOperatingCashFlowTTM",e.CapexToRevenueTTM="capexToRevenueTTM",e.CapexToDepreciationTTM="capexToDepreciationTTM",e.StockBasedCompensationToRevenueTTM="stockBasedCompensationToRevenueTTM",e.GrahamNumberTTM="grahamNumberTTM",e.RoicTTM="roicTTM",e.ReturnOnTangibleAssetsTTM="returnOnTangibleAssetsTTM",e.GrahamNetNetTTM="grahamNetNetTTM",e.WorkingCapitalTTM="workingCapitalTTM",e.TangibleAssetValueTTM="tangibleAssetValueTTM",e.NetCurrentAssetValueTTM="netCurrentAssetValueTTM",e.InvestedCapitalTTM="investedCapitalTTM",e.AverageReceivablesTTM="averageReceivablesTTM",e.AveragePayablesTTM="averagePayablesTTM",e.AverageInventoryTTM="averageInventoryTTM",e.DaysSalesOutstandingTTM="daysSalesOutstandingTTM",e.DaysPayablesOutstandingTTM="daysPayablesOutstandingTTM",e.DaysOfInventoryOnHandTTM="daysOfInventoryOnHandTTM",e.ReceivablesTurnoverTTM="receivablesTurnoverTTM",e.PayablesTurnoverTTM="payablesTurnoverTTM",e.InventoryTurnoverTTM="inventoryTurnoverTTM",e.RoeTTM="roeTTM",e.CapexPerShareTTM="capexPerShareTTM",e.DividendPerShareTTM="dividendPerShareTTM",e.DebtToMarketCapTTM="debtToMarketCapTTM"}(s||(t.KeyMetricsKeyEnum=s={})),t.KEY_METRICS_KEYS=Object.values(s),function(e){e.DividendYieldTTM="dividendYieldTTM",e.DividendYieldPercentageTTM="dividendYieldPercentageTTM",e.PeRatioTTM="peRatioTTM",e.PegRatioTTM="pegRatioTTM",e.PayoutRatioTTM="payoutRatioTTM",e.CurrentRatioTTM="currentRatioTTM",e.QuickRatioTTM="quickRatioTTM",e.CashRatioTTM="cashRatioTTM",e.DaysOfSalesOutstandingTTM="daysOfSalesOutstandingTTM",e.DaysOfInventoryOutstandingTTM="daysOfInventoryOutstandingTTM",e.OperatingCycleTTM="operatingCycleTTM",e.DaysOfPayablesOutstandingTTM="daysOfPayablesOutstandingTTM",e.CashConversionCycleTTM="cashConversionCycleTTM",e.GrossProfitMarginTTM="grossProfitMarginTTM",e.OperatingProfitMarginTTM="operatingProfitMarginTTM",e.PretaxProfitMarginTTM="pretaxProfitMarginTTM",e.NetProfitMarginTTM="netProfitMarginTTM",e.EffectiveTaxRateTTM="effectiveTaxRateTTM",e.ReturnOnAssetsTTM="returnOnAssetsTTM",e.ReturnOnEquityTTM="returnOnEquityTTM",e.ReturnOnCapitalEmployedTTM="returnOnCapitalEmployedTTM",e.NetIncomePerEBTTTM="netIncomePerEBTTTM",e.EbtPerEbitTTM="ebtPerEbitTTM",e.EbitPerRevenueTTM="ebitPerRevenueTTM",e.DebtRatioTTM="debtRatioTTM",e.DebtEquityRatioTTM="debtEquityRatioTTM",e.LongTermDebtToCapitalizationTTM="longTermDebtToCapitalizationTTM",e.TotalDebtToCapitalizationTTM="totalDebtToCapitalizationTTM",e.InterestCoverageTTM="interestCoverageTTM",e.CashFlowToDebtRatioTTM="cashFlowToDebtRatioTTM",e.CompanyEquityMultiplierTTM="companyEquityMultiplierTTM",e.ReceivablesTurnoverTTM="receivablesTurnoverTTM",e.PayablesTurnoverTTM="payablesTurnoverTTM",e.InventoryTurnoverTTM="inventoryTurnoverTTM",e.FixedAssetTurnoverTTM="fixedAssetTurnoverTTM",e.AssetTurnoverTTM="assetTurnoverTTM",e.OperatingCashFlowPerShareTTM="operatingCashFlowPerShareTTM",e.FreeCashFlowPerShareTTM="freeCashFlowPerShareTTM",e.CashPerShareTTM="cashPerShareTTM",e.OperatingCashFlowSalesRatioTTM="operatingCashFlowSalesRatioTTM",e.FreeCashFlowOperatingCashFlowRatioTTM="freeCashFlowOperatingCashFlowRatioTTM",e.CashFlowCoverageRatiosTTM="cashFlowCoverageRatiosTTM",e.ShortTermCoverageRatiosTTM="shortTermCoverageRatiosTTM",e.CapitalExpenditureCoverageRatioTTM="capitalExpenditureCoverageRatioTTM",e.DividendPaidAndCapexCoverageRatioTTM="dividendPaidAndCapexCoverageRatioTTM",e.PriceBookValueRatioTTM="priceBookValueRatioTTM",e.PriceToBookRatioTTM="priceToBookRatioTTM",e.PriceToSalesRatioTTM="priceToSalesRatioTTM",e.PriceEarningsRatioTTM="priceEarningsRatioTTM",e.PriceToFreeCashFlowsRatioTTM="priceToFreeCashFlowsRatioTTM",e.PriceToOperatingCashFlowsRatioTTM="priceToOperatingCashFlowsRatioTTM",e.PriceCashFlowRatioTTM="priceCashFlowRatioTTM",e.PriceEarningsToGrowthRatioTTM="priceEarningsToGrowthRatioTTM",e.PriceSalesRatioTTM="priceSalesRatioTTM",e.EnterpriseValueMultipleTTM="enterpriseValueMultipleTTM",e.PriceFairValueTTM="priceFairValueTTM",e.DividendPerShareTTM="dividendPerShareTTM"}(c||(t.RatiosKeyEnum=c={})),t.RATIOS_KEYS=Object.values(c),function(e){e.TargetHigh="targetHigh",e.TargetLow="targetLow",e.TargetConsensus="targetConsensus",e.TargetMedian="targetMedian"}(u||(t.PriceTargetConsensusKeyEnum=u={})),t.PRICE_TARGET_CONSENSUS_KEYS=Object.values(u),function(e){e.CompanyName="companyName",e.Currency="currency",e.Exchange="exchange",e.ExchangeShortName="exchangeShortName",e.Industry="industry",e.Website="website",e.Description="description",e.CEO="ceo",e.Sector="sector",e.Country="country",e.FullTimeEmployees="fullTimeEmployees",e.Phone="phone",e.Address="address",e.City="city",e.State="state",e.Zip="zip",e.IpoDate="ipoDate"}(l||(t.CompanyProfileKeyEnum=l={})),t.COMPANY_PROFILE_KEYS=Object.values(l)},84875:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.arborAxiosLimiter=t.fmpAxiosLimiter=void 0;var i=o(n(86425)),a=o(n(13368)),s=[],c=0,u=i.default.create();t.fmpAxiosLimiter=u,a.default.use(u,{requestsPerSecond:2});var l=i.default.create();t.arborAxiosLimiter=l,l.interceptors.request.use((function(e){return new r((function(t){c<3?(c++,t(e)):s.push((function(){return t(e)}))}))})),l.interceptors.response.use((function(e){return c=Math.max(0,c-1),s.length>0&&s.shift()(),r.resolve(e)}),(function(e){return c=Math.max(0,c-1),s.length>0&&s.shift()(),r.reject(e)}))},17352:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.categories=t.defaultLongAnswerPrompt=t.defaultShortAnswerPrompt=t.defaultScreeningPrompt=void 0,t.defaultScreeningPrompt='You are a helpful assistant.\nYou must only respond in JSON format that adheres to the following schema:\n{\n"list": list[]\n}\n\n- Based on the query, provide a list of stock codes that is the answer to the query,\n- for US Stock, the stock code is the ticker symbol\n- for Stock other than US, append the exchange code to the ticker symbol, eg 700.HK\n- If the query is not related to any listed company, put \'NA\' in "list"',t.defaultShortAnswerPrompt="Company: {{companyName}}\nstockcode: {{symbol}}\nQuery: {{query}}\nInstruction: return the shortest answer possible",t.defaultLongAnswerPrompt="Company: {{companyName}}\nstockcode: {{symbol}}\nQuery: {{query}}",t.categories=[{title:"Market",type:"group",children:[{title:"General",type:"group",children:[{title:"Current Price",key:"price",action:"fetchMarketData"},{title:"Percentage Change",key:"changesPercentage",action:"fetchMarketData"},{title:"Price Change",key:"change",action:"fetchMarketData"},{title:"Daily Low",key:"dayLow",action:"fetchMarketData"},{title:"Daily High",key:"dayHigh",action:"fetchMarketData"},{title:"52-Week High",key:"yearHigh",action:"fetchMarketData"},{title:"52-Week Low",key:"yearLow",action:"fetchMarketData"},{title:"Market Capitalization",key:"marketCap",action:"fetchMarketData"},{title:"50-Day Average Price",key:"priceAvg50",action:"fetchMarketData"},{title:"200-Day Average Price",key:"priceAvg200",action:"fetchMarketData"},{title:"Exchange",key:"exchange",action:"fetchMarketData"},{title:"Trading Volume",key:"volume",action:"fetchMarketData"},{title:"Average Trading Volume",key:"avgVolume",action:"fetchMarketData"},{title:"Opening Price",key:"open",action:"fetchMarketData"},{title:"Previous Closing Price",key:"previousClose",action:"fetchMarketData"},{title:"Earnings Per Share (EPS)",key:"eps",action:"fetchMarketData"},{title:"Price-to-Earnings Ratio (P/E)",key:"pe",action:"fetchMarketData"}]}]},{title:"Financial",type:"group",children:[{title:"Income Statement",type:"group",children:[{title:"Revenue",key:"revenue",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Cost of Revenue",key:"costOfRevenue",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Gross Profit",key:"grossProfit",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Gross Profit Margin",key:"grossProfitRatio",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Research and Development Expenses",key:"researchAndDevelopmentExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"General and Administrative Expenses",key:"generalAndAdministrativeExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Sales and Marketing Expenses",key:"sellingAndMarketingExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Selling, General, and Administrative Expenses (SG&A)",key:"sellingGeneralAndAdministrativeExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Other Expenses",key:"otherExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Operating Expenses",key:"operatingExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Total Costs and Expenses",key:"costAndExpenses",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Interest Income",key:"interestIncome",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Interest Expense",key:"interestExpense",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Depreciation and Amortization",key:"depreciationAndAmortization",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"EBITDA (Earnings Before Interest, Taxes, Depreciation, and Amortization)",key:"ebitda",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"EBITDA Margin",key:"ebitdaratio",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Operating Income",key:"operatingIncome",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Operating Income Margin",key:"operatingIncomeRatio",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Net Other Income/Expenses",key:"totalOtherIncomeExpensesNet",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Income Before Taxes",key:"incomeBeforeTax",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Income Before Taxes Margin",key:"incomeBeforeTaxRatio",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Income Tax Expense",key:"incomeTaxExpense",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Net Income",key:"netIncome",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Net Income Margin",key:"netIncomeRatio",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Earnings Per Share (EPS)",key:"eps",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Diluted Earnings Per Share (EPS Diluted)",key:"epsdiluted",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Weighted Average Shares Outstanding",key:"weightedAverageShsOut",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"},{title:"Weighted Average Shares Outstanding (Diluted)",key:"weightedAverageShsOutDil",action:"fetchIncomeStatement",Year:"2024",peroid:"FY"}]},{title:"Balance Sheet",type:"group",children:[{title:"Cash and Cash Equivalents",key:"cashAndCashEquivalents",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Short-Term Investments",key:"shortTermInvestments",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Cash and Short-Term Investments",key:"cashAndShortTermInvestments",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Net Receivables",key:"netReceivables",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Inventory",key:"inventory",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Current Assets",key:"otherCurrentAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Current Assets",key:"totalCurrentAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Property, Plant, and Equipment (Net)",key:"propertyPlantEquipmentNet",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Goodwill",key:"goodwill",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Intangible Assets",key:"intangibleAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Goodwill and Intangible Assets",key:"goodwillAndIntangibleAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Long-Term Investments",key:"longTermInvestments",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Tax Assets",key:"taxAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Non-Current Assets",key:"otherNonCurrentAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Non-Current Assets",key:"totalNonCurrentAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Assets",key:"otherAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Assets",key:"totalAssets",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Accounts Payable",key:"accountPayables",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Short-Term Debt",key:"shortTermDebt",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Tax Payable",key:"taxPayables",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Deferred Revenue",key:"deferredRevenue",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Current Liabilities",key:"otherCurrentLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Current Liabilities",key:"totalCurrentLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Long-Term Debt",key:"longTermDebt",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Deferred Revenue (Non-Current)",key:"deferredRevenueNonCurrent",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Deferred Tax Liabilities (Non-Current)",key:"deferredTaxLiabilitiesNonCurrent",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Non-Current Liabilities",key:"otherNonCurrentLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Non-Current Liabilities",key:"totalNonCurrentLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Liabilities",key:"otherLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Capital Lease Obligations",key:"capitalLeaseObligations",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Liabilities",key:"totalLiabilities",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Preferred Stock",key:"preferredStock",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Common Stock",key:"commonStock",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Retained Earnings",key:"retainedEarnings",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Accumulated Other Comprehensive Income/Loss",key:"accumulatedOtherComprehensiveIncomeLoss",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Other Total Stockholders’ Equity",key:"othertotalStockholdersEquity",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Stockholders’ Equity",key:"totalStockholdersEquity",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Equity",key:"totalEquity",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Liabilities and Stockholders’ Equity",key:"totalLiabilitiesAndStockholdersEquity",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Minority Interest",key:"minorityInterest",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Liabilities and Total Equity",key:"totalLiabilitiesAndTotalEquity",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Investments",key:"totalInvestments",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Total Debt",key:"totalDebt",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"},{title:"Net Debt",key:"netDebt",action:"fetchBalanceSheet",Year:"2024",peroid:"FY"}]},{title:"Cashflow Statement",type:"group",children:[{title:"Net Income",key:"netIncome",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Depreciation and Amortization",key:"depreciationAndAmortization",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Deferred Income Tax",key:"deferredIncomeTax",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Stock-Based Compensation",key:"stockBasedCompensation",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Change in Working Capital",key:"changeInWorkingCapital",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Accounts Receivables",key:"accountsReceivables",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Inventory",key:"inventory",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Accounts Payables",key:"accountsPayables",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Other Working Capital",key:"otherWorkingCapital",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Other Non-Cash Items",key:"otherNonCashItems",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Net Cash Provided by Operating Activities",key:"netCashProvidedByOperatingActivities",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Investments in Property, Plant, and Equipment",key:"investmentsInPropertyPlantAndEquipment",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Acquisitions (Net)",key:"acquisitionsNet",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Purchases of Investments",key:"purchasesOfInvestments",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Sales/Maturities of Investments",key:"salesMaturitiesOfInvestments",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Other Investing Activities",key:"otherInvestingActivites",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Net Cash Used for Investing Activities",key:"netCashUsedForInvestingActivites",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Debt Repayment",key:"debtRepayment",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Common Stock Issued",key:"commonStockIssued",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Common Stock Repurchased",key:"commonStockRepurchased",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Dividends Paid",key:"dividendsPaid",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Other Financing Activities",key:"otherFinancingActivites",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Net Cash Used/Provided by Financing Activities",key:"netCashUsedProvidedByFinancingActivities",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Effect of Forex Changes on Cash",key:"effectOfForexChangesOnCash",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Net Change in Cash",key:"netChangeInCash",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Cash at End of Period",key:"cashAtEndOfPeriod",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Cash at Beginning of Period",key:"cashAtBeginningOfPeriod",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Operating Cash Flow",key:"operatingCashFlow",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"},{title:"Capital Expenditure",key:"capitalExpenditure",action:"fetchCashFlowStatement",Year:"2024",peroid:"FY"}]},{title:"Key metrics",type:"group",children:[{title:"Revenue per Share (TTM)",key:"revenuePerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Net Income per Share (TTM)",key:"netIncomePerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Operating Cash Flow per Share (TTM)",key:"operatingCashFlowPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Free Cash Flow per Share (TTM)",key:"freeCashFlowPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Cash per Share (TTM)",key:"cashPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Book Value per Share (TTM)",key:"bookValuePerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Tangible Book Value per Share (TTM)",key:"tangibleBookValuePerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Shareholders’ Equity per Share (TTM)",key:"shareholdersEquityPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Interest Debt per Share (TTM)",key:"interestDebtPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Market Capitalization (TTM)",key:"marketCapTTM",action:"fetchKeyMetricsTTM"},{title:"Enterprise Value (TTM)",key:"enterpriseValueTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Earnings Ratio (TTM)",key:"peRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Sales Ratio (TTM)",key:"priceToSalesRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Operating Cash Flow Ratio (TTM)",key:"pocfratioTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Free Cash Flow Ratio (TTM)",key:"pfcfRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Book Ratio (TTM)",key:"pbRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Price-to-Tangible Book Ratio (TTM)",key:"ptbRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Enterprise Value to Sales (TTM)",key:"evToSalesTTM",action:"fetchKeyMetricsTTM"},{title:"Enterprise Value to EBITDA (TTM)",key:"enterpriseValueOverEBITDATTM",action:"fetchKeyMetricsTTM"},{title:"Enterprise Value to Operating Cash Flow (TTM)",key:"evToOperatingCashFlowTTM",action:"fetchKeyMetricsTTM"},{title:"Enterprise Value to Free Cash Flow (TTM)",key:"evToFreeCashFlowTTM",action:"fetchKeyMetricsTTM"},{title:"Earnings Yield (TTM)",key:"earningsYieldTTM",action:"fetchKeyMetricsTTM"},{title:"Free Cash Flow Yield (TTM)",key:"freeCashFlowYieldTTM",action:"fetchKeyMetricsTTM"},{title:"Debt-to-Equity Ratio (TTM)",key:"debtToEquityTTM",action:"fetchKeyMetricsTTM"},{title:"Debt-to-Assets Ratio (TTM)",key:"debtToAssetsTTM",action:"fetchKeyMetricsTTM"},{title:"Net Debt to EBITDA (TTM)",key:"netDebtToEBITDATTM",action:"fetchKeyMetricsTTM"},{title:"Current Ratio (TTM)",key:"currentRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Interest Coverage Ratio (TTM)",key:"interestCoverageTTM",action:"fetchKeyMetricsTTM"},{title:"Income Quality (TTM)",key:"incomeQualityTTM",action:"fetchKeyMetricsTTM"},{title:"Dividend Yield (TTM)",key:"dividendYieldTTM",action:"fetchKeyMetricsTTM"},{title:"Dividend Yield Percentage (TTM)",key:"dividendYieldPercentageTTM",action:"fetchKeyMetricsTTM"},{title:"Payout Ratio (TTM)",key:"payoutRatioTTM",action:"fetchKeyMetricsTTM"},{title:"Sales, General, and Administrative to Revenue (TTM)",key:"salesGeneralAndAdministrativeToRevenueTTM",action:"fetchKeyMetricsTTM"},{title:"Research and Development to Revenue (TTM)",key:"researchAndDevelopementToRevenueTTM",action:"fetchKeyMetricsTTM"},{title:"Intangibles to Total Assets (TTM)",key:"intangiblesToTotalAssetsTTM",action:"fetchKeyMetricsTTM"},{title:"Capital Expenditure to Operating Cash Flow (TTM)",key:"capexToOperatingCashFlowTTM",action:"fetchKeyMetricsTTM"},{title:"Capital Expenditure to Revenue (TTM)",key:"capexToRevenueTTM",action:"fetchKeyMetricsTTM"},{title:"Capital Expenditure to Depreciation (TTM)",key:"capexToDepreciationTTM",action:"fetchKeyMetricsTTM"},{title:"Stock-Based Compensation to Revenue (TTM)",key:"stockBasedCompensationToRevenueTTM",action:"fetchKeyMetricsTTM"},{title:"Graham Number (TTM)",key:"grahamNumberTTM",action:"fetchKeyMetricsTTM"},{title:"Return on Invested Capital (TTM)",key:"roicTTM",action:"fetchKeyMetricsTTM"},{title:"Return on Tangible Assets (TTM)",key:"returnOnTangibleAssetsTTM",action:"fetchKeyMetricsTTM"},{title:"Graham Net-Net (TTM)",key:"grahamNetNetTTM",action:"fetchKeyMetricsTTM"},{title:"Working Capital (TTM)",key:"workingCapitalTTM",action:"fetchKeyMetricsTTM"},{title:"Tangible Asset Value (TTM)",key:"tangibleAssetValueTTM",action:"fetchKeyMetricsTTM"},{title:"Net Current Asset Value (TTM)",key:"netCurrentAssetValueTTM",action:"fetchKeyMetricsTTM"},{title:"Invested Capital (TTM)",key:"investedCapitalTTM",action:"fetchKeyMetricsTTM"},{title:"Average Receivables (TTM)",key:"averageReceivablesTTM",action:"fetchKeyMetricsTTM"},{title:"Average Payables (TTM)",key:"averagePayablesTTM",action:"fetchKeyMetricsTTM"},{title:"Average Inventory (TTM)",key:"averageInventoryTTM",action:"fetchKeyMetricsTTM"},{title:"Days Sales Outstanding (TTM)",key:"daysSalesOutstandingTTM",action:"fetchKeyMetricsTTM"},{title:"Days Payables Outstanding (TTM)",key:"daysPayablesOutstandingTTM",action:"fetchKeyMetricsTTM"},{title:"Days of Inventory on Hand (TTM)",key:"daysOfInventoryOnHandTTM",action:"fetchKeyMetricsTTM"},{title:"Receivables Turnover (TTM)",key:"receivablesTurnoverTTM",action:"fetchKeyMetricsTTM"},{title:"Payables Turnover (TTM)",key:"payablesTurnoverTTM",action:"fetchKeyMetricsTTM"},{title:"Inventory Turnover (TTM)",key:"inventoryTurnoverTTM",action:"fetchKeyMetricsTTM"},{title:"Return on Equity (TTM)",key:"roeTTM",action:"fetchKeyMetricsTTM"},{title:"Capital Expenditure per Share (TTM)",key:"capexPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Dividend per Share (TTM)",key:"dividendPerShareTTM",action:"fetchKeyMetricsTTM"},{title:"Debt to Market Capitalization (TTM)",key:"debtToMarketCapTTM",action:"fetchKeyMetricsTTM"}]},{title:"Key Ratios",type:"group",children:[{title:"Dividend Yield (TTM)",key:"dividendYielTTM",action:"fetchRatiosTTM"},{title:"Dividend Yield Percentage (TTM)",key:"dividendYielPercentageTTM",action:"fetchRatiosTTM"},{title:"Price-to-Earnings Ratio (TTM)",key:"peRatioTTM",action:"fetchRatiosTTM"},{title:"Price/Earnings to Growth Ratio (TTM)",key:"pegRatioTTM",action:"fetchRatiosTTM"},{title:"Payout Ratio (TTM)",key:"payoutRatioTTM",action:"fetchRatiosTTM"},{title:"Current Ratio (TTM)",key:"currentRatioTTM",action:"fetchRatiosTTM"},{title:"Quick Ratio (TTM)",key:"quickRatioTTM",action:"fetchRatiosTTM"},{title:"Cash Ratio (TTM)",key:"cashRatioTTM",action:"fetchRatiosTTM"},{title:"Days Sales Outstanding (TTM)",key:"daysOfSalesOutstandingTTM",action:"fetchRatiosTTM"},{title:"Days Inventory Outstanding (TTM)",key:"daysOfInventoryOutstandingTTM",action:"fetchRatiosTTM"},{title:"Operating Cycle (TTM)",key:"operatingCycleTTM",action:"fetchRatiosTTM"},{title:"Days Payables Outstanding (TTM)",key:"daysOfPayablesOutstandingTTM",action:"fetchRatiosTTM"},{title:"Cash Conversion Cycle (TTM)",key:"cashConversionCycleTTM",action:"fetchRatiosTTM"},{title:"Gross Profit Margin (TTM)",key:"grossProfitMarginTTM",action:"fetchRatiosTTM"},{title:"Operating Profit Margin (TTM)",key:"operatingProfitMarginTTM",action:"fetchRatiosTTM"},{title:"Pre-Tax Profit Margin (TTM)",key:"pretaxProfitMarginTTM",action:"fetchRatiosTTM"},{title:"Net Profit Margin (TTM)",key:"netProfitMarginTTM",action:"fetchRatiosTTM"},{title:"Effective Tax Rate (TTM)",key:"effectiveTaxRateTTM",action:"fetchRatiosTTM"},{title:"Return on Assets (TTM)",key:"returnOnAssetsTTM",action:"fetchRatiosTTM"},{title:"Return on Equity (TTM)",key:"returnOnEquityTTM",action:"fetchRatiosTTM"},{title:"Return on Capital Employed (TTM)",key:"returnOnCapitalEmployedTTM",action:"fetchRatiosTTM"},{title:"Net Income per EBT (TTM)",key:"netIncomePerEBTTTM",action:"fetchRatiosTTM"},{title:"EBT per EBIT (TTM)",key:"ebtPerEbitTTM",action:"fetchRatiosTTM"},{title:"EBIT per Revenue (TTM)",key:"ebitPerRevenueTTM",action:"fetchRatiosTTM"},{title:"Debt Ratio (TTM)",key:"debtRatioTTM",action:"fetchRatiosTTM"},{title:"Debt to Equity Ratio (TTM)",key:"debtEquityRatioTTM",action:"fetchRatiosTTM"},{title:"Long-Term Debt to Capitalization (TTM)",key:"longTermDebtToCapitalizationTTM",action:"fetchRatiosTTM"},{title:"Total Debt to Capitalization (TTM)",key:"totalDebtToCapitalizationTTM",action:"fetchRatiosTTM"},{title:"Interest Coverage Ratio (TTM)",key:"interestCoverageTTM",action:"fetchRatiosTTM"},{title:"Cash Flow to Debt Ratio (TTM)",key:"cashFlowToDebtRatioTTM",action:"fetchRatiosTTM"},{title:"Equity Multiplier (TTM)",key:"companyEquityMultiplierTTM",action:"fetchRatiosTTM"},{title:"Receivables Turnover (TTM)",key:"receivablesTurnoverTTM",action:"fetchRatiosTTM"},{title:"Payables Turnover (TTM)",key:"payablesTurnoverTTM",action:"fetchRatiosTTM"},{title:"Inventory Turnover (TTM)",key:"inventoryTurnoverTTM",action:"fetchRatiosTTM"},{title:"Fixed Asset Turnover (TTM)",key:"fixedAssetTurnoverTTM",action:"fetchRatiosTTM"},{title:"Asset Turnover (TTM)",key:"assetTurnoverTTM",action:"fetchRatiosTTM"},{title:"Operating Cash Flow per Share (TTM)",key:"operatingCashFlowPerShareTTM",action:"fetchRatiosTTM"},{title:"Free Cash Flow per Share (TTM)",key:"freeCashFlowPerShareTTM",action:"fetchRatiosTTM"},{title:"Cash per Share (TTM)",key:"cashPerShareTTM",action:"fetchRatiosTTM"},{title:"Operating Cash Flow to Sales Ratio (TTM)",key:"operatingCashFlowSalesRatioTTM",action:"fetchRatiosTTM"},{title:"Free Cash Flow to Operating Cash Flow Ratio (TTM)",key:"freeCashFlowOperatingCashFlowRatioTTM",action:"fetchRatiosTTM"},{title:"Cash Flow Coverage Ratio (TTM)",key:"cashFlowCoverageRatiosTTM",action:"fetchRatiosTTM"},{title:"Short-Term Coverage Ratio (TTM)",key:"shortTermCoverageRatiosTTM",action:"fetchRatiosTTM"},{title:"Capital Expenditure Coverage Ratio (TTM)",key:"capitalExpenditureCoverageRatioTTM",action:"fetchRatiosTTM"},{title:"Dividend and Capital Expenditure Coverage Ratio (TTM)",key:"dividendPaidAndCapexCoverageRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Book Value Ratio (TTM)",key:"priceBookValueRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Book Ratio (TTM)",key:"priceToBookRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Sales Ratio (TTM)",key:"priceToSalesRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Earnings Ratio (TTM)",key:"priceEarningsRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Free Cash Flow Ratio (TTM)",key:"priceToFreeCashFlowsRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Operating Cash Flow Ratio (TTM)",key:"priceToOperatingCashFlowsRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Cash Flow Ratio (TTM)",key:"priceCashFlowRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Earnings Growth Ratio (TTM)",key:"priceEarningsToGrowthRatioTTM",action:"fetchRatiosTTM"},{title:"Price-to-Sales Ratio (TTM)",key:"priceSalesRatioTTM",action:"fetchRatiosTTM"},{title:"Enterprise Value to EBIT Multiple (TTM)",key:"enterpriseValueMultipleTTM",action:"fetchRatiosTTM"},{title:"Price-to-Fair Value Ratio (TTM)",key:"priceFairValueTTM",action:"fetchRatiosTTM"},{title:"Dividend per Share (TTM)",key:"dividendPerShareTTM",action:"fetchRatiosTTM"}]}]},{title:"Analyst",type:"group",children:[{title:"Consensus Price Target",type:"group",children:[{title:"Price Target Consensus (High)",key:"targetHigh",action:"fetchPriceTargetConsensus"},{title:"Price Target Consensus (Low)",key:"targetLow",action:"fetchPriceTargetConsensus"},{title:"Price Target Consensus (Average)",key:"targetConsensus",action:"fetchPriceTargetConsensus"},{title:"Price Target Consensus (Median)",key:"targetMedian",action:"fetchPriceTargetConsensus"}]}]}]},15797:function(e,t,n){"use strict";var r=n(64583).Promise,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=r))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setInLocalStorage=function(e,t){var n=Office.context.partitionKey;n?localStorage.setItem(n+e,t):localStorage.setItem(e,t)},t.getFromLocalStorage=function(e){var t=Office.context.partitionKey;return t?localStorage.getItem(t+e):localStorage.getItem(e)},t.clearLocalStorage=function(){localStorage.clear()},t.getFromWorkbookSettings=function(e){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,Excel.run((function(n){return o(t,void 0,void 0,(function(){var t,r;return i(this,(function(o){switch(o.label){case 0:return t=n.workbook.settings,r=t.getItemOrNullObject(e),[4,n.sync()];case 1:return o.sent(),r.isNullObject?[2,null]:(r.load("value"),[4,n.sync()]);case 2:return o.sent(),[2,r.value]}}))}))}))];case 1:return[2,n.sent()]}}))}))},t.setInWorkbookSettings=function(e,t){return o(this,void 0,void 0,(function(){var n=this;return i(this,(function(r){switch(r.label){case 0:return[4,Excel.run((function(r){return o(n,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return n=r.workbook.settings,o=n.getItemOrNullObject(e),[4,r.sync()];case 1:return i.sent(),o.isNullObject?n.add(e,t):o.value=t,[4,r.sync()];case 2:return i.sent(),[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))}},59302:function(e,t,n){"use strict";var r,o=n(64583).Promise,i=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return a;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=function(e){return e&&e.name?e.name:null}(t)}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0!==t.keys.length){var n;try{n=e._batchLoadFn(t.keys)}catch(n){return s(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return s(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!u(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));c(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){s(e,t,n)}))}else c(t)}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var i=n.get(r);if(i){var a=t.cacheHits||(t.cacheHits=[]);return new o((function(e){a.push((function(){e(i)}))}))}}t.keys.push(e);var l=new o((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,l),l},t.loadMany=function(e){if(!u(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return o.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);void 0===n.get(i)&&(t instanceof Error?(r=o.reject(t)).catch((function(){})):r=o.resolve(t),n.set(i,r))}return this},e}(),a="object"==typeof process&&"function"==typeof process.nextTick?function(e){r||(r=o.resolve()),r.then((function(){process.nextTick(e)}))}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function s(e,t,n){c(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function c(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function u(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=i},64583:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,o=void 0,i=void 0,a=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(i?i(d):b())};var s="undefined"!=typeof window?window:void 0,c=s||{},u=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(d,1)}}var p=new Array(1e3);function d(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var y,m,g,v,b=void 0;function T(e,t){var n=this,r=new this.constructor(M);void 0===r[w]&&D(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return I(o,r,i,n._result)}))}else x(n,r,e,t);return r}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(M);return C(t,e),t}b=l?function(){return process.nextTick(d)}:u?(m=0,g=new u(d),v=document.createTextNode(""),g.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):f?((y=new MessageChannel).port1.onmessage=d,function(){return y.port2.postMessage(0)}):void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(d)}:h()}catch(e){return h()}}():h();var w=Math.random().toString(36).substring(2);function M(){}var E=void 0,O=1,S=2;function P(t,n,r){n.constructor===t.constructor&&r===T&&n.constructor.resolve===_?function(e,t){t._state===O?R(e,t._result):t._state===S?k(e,t._result):x(t,void 0,(function(t){return C(e,t)}),(function(t){return k(e,t)}))}(t,n):void 0===r?R(t,n):e(r)?function(e,t,n){a((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?C(e,n):R(e,n))}),(function(t){r||(r=!0,k(e,t))}),e._label);!r&&o&&(r=!0,k(e,o))}),e)}(t,n,r):R(t,n)}function C(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)R(e,t);else{var n=void 0;try{n=t.then}catch(t){return void k(e,t)}P(e,t,n)}var r,o}function A(e){e._onerror&&e._onerror(e._result),F(e)}function R(e,t){e._state===E&&(e._result=t,e._state=O,0!==e._subscribers.length&&a(F,e))}function k(e,t){e._state===E&&(e._state=S,e._result=t,a(A,e))}function x(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+O]=n,o[i+S]=r,0===i&&e._state&&a(F,e)}function F(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?I(n,r,o,i):o(i);e._subscribers.length=0}}function I(t,n,r,o){var i=e(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(e){c=!1,s=e}if(n===a)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==E||(i&&c?C(n,a):!1===c?k(n,s):t===O?R(n,a):t===S&&k(n,a))}var j=0;function D(e){e[w]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}var B=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(M),this.promise[w]||D(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&R(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===E&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===_){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===T&&e._state!==E)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===N){var s=new n(M);a?k(s,i):P(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===E&&(this._remaining--,e===S?k(r,n):this._result[t]=n),0===this._remaining&&R(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,(function(e){return n._settledAt(O,t,e)}),(function(e){return n._settledAt(S,t,e)}))},e}();var N=function(){function t(e){this[w]=j++,this._result=this._state=void 0,this._subscribers=[],M!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){C(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return N.prototype.then=T,N.all=function(e){return new B(this,e).promise},N.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},N.resolve=_,N.reject=function(e){var t=new this(M);return k(t,e),t},N._setScheduler=function(e){i=e},N._setAsap=function(e){a=e},N._asap=a,N.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=N},N.Promise=N,N}()},2543:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=32,u=128,l=1/0,f=9007199254740991,h=NaN,p=4294967295,d=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],y="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",b="[object Error]",T="[object Function]",_="[object GeneratorFunction]",w="[object Map]",M="[object Number]",E="[object Object]",O="[object Promise]",S="[object RegExp]",P="[object Set]",C="[object String]",A="[object Symbol]",R="[object WeakMap]",k="[object ArrayBuffer]",x="[object DataView]",F="[object Float32Array]",I="[object Float64Array]",j="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",L="[object Uint8ClampedArray]",q="[object Uint16Array]",Y="[object Uint32Array]",V=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,z=RegExp(K.source),H=RegExp(W.source),J=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,Te=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Me="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+_e+"]",Ae="["+Pe+"]",Re="["+we+"]",ke="\\d+",xe="["+Me+"]",Fe="["+Ee+"]",Ie="[^"+_e+Pe+ke+Me+Ee+Oe+"]",je="\\ud83c[\\udffb-\\udfff]",De="[^"+_e+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+Oe+"]",qe="\\u200d",Ye="(?:"+Fe+"|"+Ie+")",Ve="(?:"+Le+"|"+Ie+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",$e="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Re+"|"+je+")?",We="["+Se+"]?",ze=We+Ke+"(?:"+qe+"(?:"+[De,Be,Ne].join("|")+")"+We+Ke+")*",He="(?:"+[xe,Be,Ne].join("|")+")"+ze,Je="(?:"+[De+Re+"?",Re,Be,Ne,Ce].join("|")+")",Ge=RegExp("['’]","g"),Xe=RegExp(Re,"g"),Qe=RegExp(je+"(?="+je+")|"+Je+ze,"g"),Ze=RegExp([Le+"?"+Fe+"+"+Ue+"(?="+[Ae,Le,"$"].join("|")+")",Ve+"+"+$e+"(?="+[Ae,Le+Ye,"$"].join("|")+")",Le+"?"+Ye+"+"+Ue,Le+"+"+$e,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,He].join("|"),"g"),et=RegExp("["+qe+_e+we+Se+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[F]=ot[I]=ot[j]=ot[D]=ot[B]=ot[N]=ot[L]=ot[q]=ot[Y]=!0,ot[y]=ot[m]=ot[k]=ot[g]=ot[x]=ot[v]=ot[b]=ot[T]=ot[w]=ot[M]=ot[E]=ot[S]=ot[P]=ot[C]=ot[R]=!1;var it={};it[y]=it[m]=it[k]=it[x]=it[g]=it[v]=it[F]=it[I]=it[j]=it[D]=it[B]=it[w]=it[M]=it[E]=it[S]=it[P]=it[C]=it[A]=it[N]=it[L]=it[q]=it[Y]=!0,it[b]=it[T]=it[R]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ct=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||lt||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,dt=pt&&pt.exports===ht,yt=dt&&ut.process,mt=function(){try{return pt&&pt.require&&pt.require("util").types||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),gt=mt&&mt.isArrayBuffer,vt=mt&&mt.isDate,bt=mt&&mt.isMap,Tt=mt&&mt.isRegExp,_t=mt&&mt.isSet,wt=mt&&mt.isTypedArray;function Mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function At(e,t){return!(null==e||!e.length)&&Lt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function kt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function xt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ft(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function It(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Ut("length");function Bt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Nt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Lt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Nt(e,Yt,n)}function qt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Yt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:h}function Ut(e){return function(t){return null==t?o:t[e]}}function $t(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Wt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ht(e){return e?e.slice(0,hn(e)+1).replace(re,""):e}function Jt(e){return function(t){return e(t)}}function Gt(e,t){return kt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Lt(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Lt(t,e[n],0)>-1;);return n}var en=$t({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),tn=$t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+at[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function ln(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Dt(e)}function fn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var pn=$t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dn=function e(t){var n,r=(t=null==t?ft:dn.defaults(ft.Object(),t,dn.pick(ft,nt))).Array,oe=t.Date,_e=t.Error,we=t.Function,Me=t.Math,Ee=t.Object,Oe=t.RegExp,Se=t.String,Pe=t.TypeError,Ce=r.prototype,Ae=we.prototype,Re=Ee.prototype,ke=t["__core-js_shared__"],xe=Ae.toString,Fe=Re.hasOwnProperty,Ie=0,je=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Re.toString,Be=xe.call(Ee),Ne=ft._,Le=Oe("^"+xe.call(Fe).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=dt?t.Buffer:o,Ye=t.Symbol,Ve=t.Uint8Array,Ue=qe?qe.allocUnsafe:o,$e=an(Ee.getPrototypeOf,Ee),Ke=Ee.create,We=Re.propertyIsEnumerable,ze=Ce.splice,He=Ye?Ye.isConcatSpreadable:o,Je=Ye?Ye.iterator:o,Qe=Ye?Ye.toStringTag:o,et=function(){try{var e=ui(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ut=oe&&oe.now!==ft.Date.now&&oe.now,lt=t.setTimeout!==ft.setTimeout&&t.setTimeout,ht=Me.ceil,pt=Me.floor,yt=Ee.getOwnPropertySymbols,mt=qe?qe.isBuffer:o,Dt=t.isFinite,$t=Ce.join,yn=an(Ee.keys,Ee),mn=Me.max,gn=Me.min,vn=oe.now,bn=t.parseInt,Tn=Me.random,_n=Ce.reverse,wn=ui(t,"DataView"),Mn=ui(t,"Map"),En=ui(t,"Promise"),On=ui(t,"Set"),Sn=ui(t,"WeakMap"),Pn=ui(Ee,"create"),Cn=Sn&&new Sn,An={},Rn=Bi(wn),kn=Bi(Mn),xn=Bi(En),Fn=Bi(On),In=Bi(Sn),jn=Ye?Ye.prototype:o,Dn=jn?jn.valueOf:o,Bn=jn?jn.toString:o;function Nn(e){if(es(e)&&!Ua(e)&&!(e instanceof Vn)){if(e instanceof Yn)return e;if(Fe.call(e,"__wrapped__"))return Ni(e)}return new Yn(e)}var Ln=function(){function e(){}return function(t){if(!Za(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function zn(e){var t=this.__data__=new $n(e);this.size=t.size}function Hn(e,t){var n=Ua(e),r=!n&&Va(e),o=!n&&!r&&za(e),i=!n&&!r&&!o&&cs(e),a=n||r||o||i,s=a?zt(e.length,Se):[],c=s.length;for(var u in e)!t&&!Fe.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||mi(u,c))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[Kr(0,t-1)]:o}function Gn(e,t){return xi(Po(e),ir(t,0,e.length))}function Xn(e){return xi(Po(e))}function Qn(e,t,n){(n!==o&&!La(e[t],n)||n===o&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Fe.call(e,t)&&La(r,n)&&(n!==o||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(La(e[n][0],t))return n;return-1}function tr(e,t,n,r){return lr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function nr(e,t){return e&&Co(t,Rs(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Os(e,t[n]);return a}function ir(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ar(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Za(e))return e;var f=Ua(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Po(e,s)}else{var h=hi(e),p=h==T||h==_;if(za(e))return _o(e,c);if(h==E||h==y||p&&!i){if(s=u||p?{}:di(e),!c)return u?function(e,t){return Co(e,fi(e),t)}(e,function(e,t){return e&&Co(t,ks(t),e)}(s,e)):function(e,t){return Co(e,li(e),t)}(e,nr(s,e))}else{if(!it[h])return i?e:{};s=function(e,t,n){var r,o=e.constructor;switch(t){case k:return wo(e);case g:case v:return new o(+e);case x:return function(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case F:case I:case j:case D:case B:case N:case L:case q:case Y:return Mo(e,n);case w:return new o;case M:case C:return new o(e);case S:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new o;case A:return r=e,Dn?Ee(Dn.call(r)):{}}}(e,h,c)}}a||(a=new zn);var d=a.get(e);if(d)return d;a.set(e,s),is(e)?e.forEach((function(r){s.add(ar(r,t,n,r,e,a))})):ts(e)&&e.forEach((function(r,o){s.set(o,ar(r,t,n,o,e,a))}));var m=f?o:(l?u?ni:ti:u?ks:Rs)(e);return Ot(m||e,(function(r,o){m&&(r=e[o=r]),Zn(s,o,ar(r,t,n,o,e,a))})),s}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Pe(i);return Ci((function(){e.apply(o,n)}),t)}function ur(e,t,n,r){var o=-1,i=At,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=kt(t,Jt(n))),r?(i=Rt,a=!1):t.length>=200&&(i=Xt,a=!1,t=new Wn(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;c.push(l)}else i(t,f,r)||c.push(l)}return c}Nn.templateSettings={escape:J,evaluate:G,interpolate:X,variable:"",imports:{_:Nn}},Nn.prototype=qn.prototype,Nn.prototype.constructor=Nn,Yn.prototype=Ln(qn.prototype),Yn.prototype.constructor=Yn,Vn.prototype=Ln(qn.prototype),Vn.prototype.constructor=Vn,Un.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Un.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Un.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?o:n}return Fe.call(t,e)?t[e]:o},Un.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==o:Fe.call(t,e)},Un.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===o?a:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,0))},$n.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?o:t[n][1]},$n.prototype.has=function(e){return er(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Mn||$n),string:new Un}},Kn.prototype.delete=function(e){var t=si(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return si(this,e).get(e)},Kn.prototype.has=function(e){return si(this,e).has(e)},Kn.prototype.set=function(e,t){var n=si(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,a),this},Wn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.clear=function(){this.__data__=new $n,this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},zn.prototype.get=function(e){return this.__data__.get(e)},zn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!Mn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var lr=ko(vr),fr=ko(br,!0);function hr(e,t){var n=!0;return lr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function pr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!ss(s):n(s,c)))var c=s,u=a}return u}function dr(e,t){var n=[];return lr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=yi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?yr(s,t-1,n,r,o):xt(o,s):r||(o[o.length]=s)}return o}var mr=xo(),gr=xo(!0);function vr(e,t){return e&&mr(e,t,Rs)}function br(e,t){return e&&gr(e,t,Rs)}function Tr(e,t){return Ct(t,(function(t){return Ga(e[t])}))}function _r(e,t){for(var n=0,r=(t=go(t,e)).length;null!=e&&n<r;)e=e[Di(t[n++])];return n&&n==r?e:o}function wr(e,t,n){var r=t(e);return Ua(e)?r:xt(r,n(e))}function Mr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Ee(e)?function(e){var t=Fe.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),i}(e):function(e){return De.call(e)}(e)}function Er(e,t){return e>t}function Or(e,t){return null!=e&&Fe.call(e,t)}function Sr(e,t){return null!=e&&t in Ee(e)}function Pr(e,t,n){for(var i=n?Rt:At,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,f=[];c--;){var h=e[c];c&&t&&(h=kt(h,Jt(t))),l=gn(h.length,l),u[c]=!n&&(t||a>=120&&h.length>=120)?new Wn(c&&h):o}h=e[0];var p=-1,d=u[0];e:for(;++p<a&&f.length<l;){var y=h[p],m=t?t(y):y;if(y=n||0!==y?y:0,!(d?Xt(d,m):i(f,m,n))){for(c=s;--c;){var g=u[c];if(!(g?Xt(g,m):i(e[c],m,n)))continue e}d&&d.push(m),f.push(y)}}return f}function Cr(e,t,n){var r=null==(e=Oi(e,t=go(t,e)))?e:e[Di(Ji(t))];return null==r?o:Mt(r,e,n)}function Ar(e){return es(e)&&Mr(e)==y}function Rr(e,t,n,r,i){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Ua(e),c=Ua(t),u=s?m:hi(e),l=c?m:hi(t),f=(u=u==y?E:u)==E,h=(l=l==y?E:l)==E,p=u==l;if(p&&za(e)){if(!za(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new zn),s||cs(e)?Zo(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case g:case v:case M:return La(+e,+t);case b:return e.name==t.name&&e.message==t.message;case S:case C:return e==t+"";case w:var s=on;case P:var c=1&r;if(s||(s=cn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Zo(s(e),s(t),r,o,i,a);return a.delete(e),l;case A:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var d=f&&Fe.call(e,"__wrapped__"),T=h&&Fe.call(t,"__wrapped__");if(d||T){var _=d?e.value():e,O=T?t.value():t;return a||(a=new zn),i(_,O,n,r,a)}}return!!p&&(a||(a=new zn),function(e,t,n,r,i,a){var s=1&n,c=ti(e),u=c.length;if(u!=ti(t).length&&!s)return!1;for(var l=u;l--;){var f=c[l];if(!(s?f in t:Fe.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var d=!0;a.set(e,t),a.set(t,e);for(var y=s;++l<u;){var m=e[f=c[l]],g=t[f];if(r)var v=s?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(!(v===o?m===g||i(m,g,n,r,a):v)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var b=e.constructor,T=t.constructor;b==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof T&&T instanceof T||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,i,a))}(e,t,n,r,Rr,i))}function kr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ee(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],f=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var h=new zn;if(r)var p=r(l,f,u,e,t,h);if(!(p===o?Rr(f,l,3,r,h):p))return!1}}return!0}function xr(e){return!(!Za(e)||(t=e,je&&je in t))&&(Ga(e)?Le:ye).test(Bi(e));var t}function Fr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Ua(e)?Nr(e[0],e[1]):Br(e):fc(e)}function Ir(e){if(!_i(e))return yn(e);var t=[];for(var n in Ee(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e,t){return e<t}function Dr(e,t){var n=-1,o=Ka(e)?r(e.length):[];return lr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Br(e){var t=ci(e);return 1==t.length&&t[0][2]?Mi(t[0][0],t[0][1]):function(n){return n===e||kr(n,e,t)}}function Nr(e,t){return vi(e)&&wi(t)?Mi(Di(e),t):function(n){var r=Os(n,e);return r===o&&r===t?Ss(n,e):Rr(t,r,3)}}function Lr(e,t,n,r,i){e!==t&&mr(t,(function(a,s){if(i||(i=new zn),Za(a))!function(e,t,n,r,i,a,s){var c=Si(e,n),u=Si(t,n),l=s.get(u);if(l)Qn(e,n,l);else{var f=a?a(c,u,n+"",e,t,s):o,h=f===o;if(h){var p=Ua(u),d=!p&&za(u),y=!p&&!d&&cs(u);f=u,p||d||y?Ua(c)?f=c:Wa(c)?f=Po(c):d?(h=!1,f=_o(u,!0)):y?(h=!1,f=Mo(u,!0)):f=[]:rs(u)||Va(u)?(f=c,Va(c)?f=ms(c):Za(c)&&!Ga(c)||(f=di(u))):h=!1}h&&(s.set(u,f),i(f,u,r,a,s),s.delete(u)),Qn(e,n,f)}}(e,t,s,n,Lr,r,i);else{var c=r?r(Si(e,s),a,s+"",e,t,i):o;c===o&&(c=a),Qn(e,s,c)}}),ks)}function qr(e,t){var n=e.length;if(n)return mi(t+=t<0?n:0,n)?e[t]:o}function Yr(e,t,n){t=t.length?kt(t,(function(e){return Ua(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;t=kt(t,Jt(ai()));var o=Dr(e,(function(e,n,o){var i=kt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var c=Eo(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));t--;)e[t]=e[t].value;return e}(o)}function Vr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=_r(e,a);n(s,a)&&Gr(i,go(a,e),s)}return i}function Ur(e,t,n,r){var o=r?qt:Lt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=kt(e,Jt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&ze.call(s,c,1),ze.call(e,c,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;mi(o)?ze.call(e,o,1):co(e,o)}}return e}function Kr(e,t){return e+pt(Tn()*(t-e+1))}function Wr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return Ai(Ei(e,t,nc),e+"")}function Hr(e){return Jn(Ls(e))}function Jr(e,t){var n=Ls(e);return xi(n,ir(t,0,n.length))}function Gr(e,t,n,r){if(!Za(e))return e;for(var i=-1,a=(t=go(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=Di(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var f=c[u];(l=r?r(f,u,c):o)===o&&(l=Za(f)?f:mi(t[i+1])?[]:{})}Zn(c,u,l),c=c[u]}return e}var Xr=Cn?function(e,t){return Cn.set(e,t),e}:nc,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Zs(t),writable:!0})}:nc;function Zr(e){return xi(Ls(e))}function eo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function to(e,t){var n;return lr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function no(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!ss(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ro(e,t,nc,n)}function ro(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=ss(t),l=t===o;i<a;){var f=pt((i+a)/2),h=n(e[f]),p=h!==o,d=null===h,y=h==h,m=ss(h);if(s)var g=r||y;else g=l?y&&(r||p):c?y&&p&&(r||!d):u?y&&p&&!d&&(r||!m):!d&&!m&&(r?h<=t:h<t);g?i=f+1:a=f}return gn(a,4294967294)}function oo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!La(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function io(e){return"number"==typeof e?e:ss(e)?h:+e}function ao(e){if("string"==typeof e)return e;if(Ua(e))return kt(e,ao)+"";if(ss(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function so(e,t,n){var r=-1,o=At,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Rt;else if(i>=200){var u=t?null:zo(e);if(u)return cn(u);a=!1,o=Xt,c=new Wn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(l)}else o(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function co(e,t){return null==(e=Oi(e,t=go(t,e)))||delete e[Di(Ji(t))]}function uo(e,t,n,r){return Gr(e,t,n(_r(e,t)),r)}function lo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?eo(e,r?0:i,r?i+1:o):eo(e,r?i+1:0,r?o:i)}function fo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,xt([e],t.args))}),n)}function ho(e,t,n){var o=e.length;if(o<2)return o?so(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=ur(a[i]||s,e[c],t,n));return so(yr(a,1),t,n)}function po(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function yo(e){return Wa(e)?e:[]}function mo(e){return"function"==typeof e?e:nc}function go(e,t){return Ua(e)?e:vi(e,t)?[e]:ji(gs(e))}var vo=zr;function bo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:eo(e,t,n)}var To=at||function(e){return ft.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=Ue?Ue(n):new e.constructor(n);return e.copy(r),r}function wo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Mo(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=ss(e),s=t!==o,c=null===t,u=t==t,l=ss(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Oo(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=mn(a-s,0),f=r(u+l),h=!o;++c<u;)f[c]=t[c];for(;++i<s;)(h||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[c++]=e[i++];return f}function So(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,f=mn(a-c,0),h=r(f+l),p=!o;++i<f;)h[i]=e[i];for(var d=i;++u<l;)h[d+u]=t[u];for(;++s<c;)(p||i<a)&&(h[d+n[s]]=e[i++]);return h}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Co(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?rr(n,c,u):Zn(n,c,u)}return n}function Ao(e,t){return function(n,r){var o=Ua(n)?Et:tr,i=t?t():{};return o(n,e,ai(r,2),i)}}function Ro(e){return zr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&gi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ee(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function ko(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ee(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function xo(e){return function(t,n,r){for(var o=-1,i=Ee(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function Fo(e){return function(t){var n=rn(t=gs(t))?fn(t):o,r=n?n[0]:t.charAt(0),i=n?bo(n,1).join(""):t.slice(1);return r[e]()+i}}function Io(e){return function(t){return Ft(Gs(Vs(t).replace(Ge,"")),e,"")}}function jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ln(e.prototype),r=e.apply(n,t);return Za(r)?r:n}}function Do(e){return function(t,n,r){var i=Ee(t);if(!Ka(t)){var a=ai(n,3);t=Rs(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Bo(e){return ei((function(t){var n=t.length,r=n,a=Yn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(i);if(a&&!c&&"wrapper"==oi(s))var c=new Yn([],!0)}for(r=c?r:n;++r<n;){var u=oi(s=t[r]),l="wrapper"==u?ri(s):o;c=l&&bi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[oi(l[0])].apply(c,l[3]):1==s.length&&bi(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ua(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function No(e,t,n,i,a,s,c,l,f,h){var p=t&u,d=1&t,y=2&t,m=24&t,g=512&t,v=y?o:jo(e);return function u(){for(var b=arguments.length,T=r(b),_=b;_--;)T[_]=arguments[_];if(m)var w=ii(u),M=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(T,w);if(i&&(T=Oo(T,i,a,m)),s&&(T=So(T,s,c,m)),b-=M,m&&b<h){var E=sn(T,w);return Ko(e,t,No,u.placeholder,n,T,E,l,f,h-b)}var O=d?n:this,S=y?O[e]:e;return b=T.length,l?T=function(e,t){for(var n=e.length,r=gn(t.length,n),i=Po(e);r--;){var a=t[r];e[r]=mi(a,n)?i[a]:o}return e}(T,l):g&&b>1&&T.reverse(),p&&f<b&&(T.length=f),this&&this!==ft&&this instanceof u&&(S=v||jo(S)),S.apply(O,T)}}function Lo(e,t){return function(n,r){return function(e,t,n,r){return vr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function qo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ao(n),r=ao(r)):(n=io(n),r=io(r)),i=e(n,r)}return i}}function Yo(e){return ei((function(t){return t=kt(t,Jt(ai())),zr((function(n){var r=this;return e(t,(function(e){return Mt(e,r,n)}))}))}))}function Vo(e,t){var n=(t=t===o?" ":ao(t)).length;if(n<2)return n?Wr(t,e):t;var r=Wr(t,ht(e/ln(t)));return rn(t)?bo(fn(r),0,e).join(""):r.slice(0,e)}function Uo(e){return function(t,n,i){return i&&"number"!=typeof i&&gi(t,n,i)&&(n=i=o),t=hs(t),n===o?(n=t,t=0):n=hs(n),function(e,t,n,o){for(var i=-1,a=mn(ht((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:hs(i),e)}}function $o(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Ko(e,t,n,r,i,a,s,u,l,f){var h=8&t;t|=h?c:64,4&(t&=~(h?64:c))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,u,l,f],d=n.apply(o,p);return bi(e)&&Pi(d,p),d.placeholder=r,Ri(d,e,t)}function Wo(e){var t=Me[e];return function(e,n){if(e=ys(e),(n=null==n?0:gn(ps(n),292))&&Dt(e)){var r=(gs(e)+"e").split("e");return+((r=(gs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var zo=On&&1/cn(new On([,-0]))[1]==l?function(e){return new On(e)}:sc;function Ho(e){return function(t){var n=hi(t);return n==w?on(t):n==P?un(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jo(e,t,n,a,l,f,h,p){var d=2&t;if(!d&&"function"!=typeof e)throw new Pe(i);var y=a?a.length:0;if(y||(t&=-97,a=l=o),h=h===o?h:mn(ps(h),0),p=p===o?p:ps(p),y-=l?l.length:0,64&t){var m=a,g=l;a=l=o}var v=d?o:ri(e),b=[e,t,n,a,l,m,g,f,h,p];if(v&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Oo(l,c,t[4]):c,e[4]=l?sn(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?So(l,c,t[6]):c,e[6]=l?sn(e[5],s):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(b,v),e=b[0],t=b[1],n=b[2],a=b[3],l=b[4],!(p=b[9]=b[9]===o?d?0:e.length:mn(b[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?function(e,t,n){var i=jo(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ii(a);u--;)c[u]=arguments[u];var f=s<3&&c[0]!==l&&c[s-1]!==l?[]:sn(c,l);return(s-=f.length)<n?Ko(e,t,No,a.placeholder,o,c,f,o,o,n-s):Mt(this&&this!==ft&&this instanceof a?i:e,this,c)}}(e,t,p):t!=c&&33!=t||l.length?No.apply(o,b):function(e,t,n,o){var i=1&t,a=jo(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,f=r(l+c),h=this&&this!==ft&&this instanceof t?a:e;++u<l;)f[u]=o[u];for(;c--;)f[u++]=arguments[++s];return Mt(h,i?n:this,f)}}(e,t,n,a);else var T=function(e,t,n){var r=1&t,o=jo(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ri((v?Xr:Pi)(T,b),e,t)}function Go(e,t,n,r){return e===o||La(e,Re[n])&&!Fe.call(r,n)?t:e}function Xo(e,t,n,r,i,a){return Za(e)&&Za(t)&&(a.set(t,e),Lr(e,t,o,Xo,a),a.delete(t)),e}function Qo(e){return rs(e)?o:e}function Zo(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,p=!0,d=2&n?new Wn:o;for(a.set(e,t),a.set(t,e);++h<c;){var y=e[h],m=t[h];if(r)var g=s?r(m,y,h,t,e,a):r(y,m,h,e,t,a);if(g!==o){if(g)continue;p=!1;break}if(d){if(!jt(t,(function(e,t){if(!Xt(d,t)&&(y===e||i(y,e,n,r,a)))return d.push(t)}))){p=!1;break}}else if(y!==m&&!i(y,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ei(e){return Ai(Ei(e,o,$i),e+"")}function ti(e){return wr(e,Rs,li)}function ni(e){return wr(e,ks,fi)}var ri=Cn?function(e){return Cn.get(e)}:sc;function oi(e){for(var t=e.name+"",n=An[t],r=Fe.call(An,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(Fe.call(Nn,"placeholder")?Nn:e).placeholder}function ai(){var e=Nn.iteratee||rc;return e=e===rc?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function si(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wi(o)]}return t}function ui(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return xr(n)?n:o}var li=yt?function(e){return null==e?[]:(e=Ee(e),Ct(yt(e),(function(t){return We.call(e,t)})))}:dc,fi=yt?function(e){for(var t=[];e;)xt(t,li(e)),e=$e(e);return t}:dc,hi=Mr;function pi(e,t,n){for(var r=-1,o=(t=go(t,e)).length,i=!1;++r<o;){var a=Di(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Qa(o)&&mi(a,o)&&(Ua(e)||Va(e))}function di(e){return"function"!=typeof e.constructor||_i(e)?{}:Ln($e(e))}function yi(e){return Ua(e)||Va(e)||!!(He&&e&&e[He])}function mi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function gi(e,t,n){if(!Za(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&mi(t,n.length):"string"==r&&t in n)&&La(n[t],e)}function vi(e,t){if(Ua(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ss(e))||Z.test(e)||!Q.test(e)||null!=t&&e in Ee(t)}function bi(e){var t=oi(e),n=Nn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ri(n);return!!r&&e===r[0]}(wn&&hi(new wn(new ArrayBuffer(1)))!=x||Mn&&hi(new Mn)!=w||En&&hi(En.resolve())!=O||On&&hi(new On)!=P||Sn&&hi(new Sn)!=R)&&(hi=function(e){var t=Mr(e),n=t==E?e.constructor:o,r=n?Bi(n):"";if(r)switch(r){case Rn:return x;case kn:return w;case xn:return O;case Fn:return P;case In:return R}return t});var Ti=ke?Ga:yc;function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function wi(e){return e==e&&!Za(e)}function Mi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Ee(n))}}function Ei(e,t,n){return t=mn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=mn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),Mt(e,this,c)}}function Oi(e,t){return t.length<2?e:_r(e,eo(t,0,-1))}function Si(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pi=ki(Xr),Ci=lt||function(e,t){return ft.setTimeout(e,t)},Ai=ki(Qr);function Ri(e,t,n){var r=t+"";return Ai(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(d,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(r),n)))}function ki(e){var t=0,n=0;return function(){var r=vn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function xi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Kr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fi,Ii,ji=(Fi=Fa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,o){t.push(r?o.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Ii.size&&Ii.clear(),e})),Ii=Fi.cache,Fi);function Di(e){if("string"==typeof e||ss(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ni(e){if(e instanceof Vn)return e.clone();var t=new Yn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Li=zr((function(e,t){return Wa(e)?ur(e,yr(t,1,Wa,!0)):[]})),qi=zr((function(e,t){var n=Ji(t);return Wa(n)&&(n=o),Wa(e)?ur(e,yr(t,1,Wa,!0),ai(n,2)):[]})),Yi=zr((function(e,t){var n=Ji(t);return Wa(n)&&(n=o),Wa(e)?ur(e,yr(t,1,Wa,!0),o,n):[]}));function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=mn(r+o,0)),Nt(e,ai(t,3),o)}function Ui(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ps(n),i=n<0?mn(r+i,0):gn(i,r-1)),Nt(e,ai(t,3),i,!0)}function $i(e){return null!=e&&e.length?yr(e,1):[]}function Ki(e){return e&&e.length?e[0]:o}var Wi=zr((function(e){var t=kt(e,yo);return t.length&&t[0]===e[0]?Pr(t):[]})),zi=zr((function(e){var t=Ji(e),n=kt(e,yo);return t===Ji(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Pr(n,ai(t,2)):[]})),Hi=zr((function(e){var t=Ji(e),n=kt(e,yo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,o,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Gi=zr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Ur(e,t):e}var Qi=ei((function(e,t){var n=null==e?0:e.length,r=or(e,t);return $r(e,kt(t,(function(e){return mi(e,n)?+e:e})).sort(Eo)),r}));function Zi(e){return null==e?e:_n.call(e)}var ea=zr((function(e){return so(yr(e,1,Wa,!0))})),ta=zr((function(e){var t=Ji(e);return Wa(t)&&(t=o),so(yr(e,1,Wa,!0),ai(t,2))})),na=zr((function(e){var t=Ji(e);return t="function"==typeof t?t:o,so(yr(e,1,Wa,!0),o,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(Wa(e))return t=mn(e.length,t),!0})),zt(t,(function(t){return kt(e,Ut(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ra(e);return null==t?n:kt(n,(function(e){return Mt(t,o,e)}))}var ia=zr((function(e,t){return Wa(e)?ur(e,t):[]})),aa=zr((function(e){return ho(Ct(e,Wa))})),sa=zr((function(e){var t=Ji(e);return Wa(t)&&(t=o),ho(Ct(e,Wa),ai(t,2))})),ca=zr((function(e){var t=Ji(e);return t="function"==typeof t?t:o,ho(Ct(e,Wa),o,t)})),ua=zr(ra),la=zr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,oa(e,n)}));function fa(e){var t=Nn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ei((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&mi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Yn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),da=Ao((function(e,t,n){Fe.call(e,n)?++e[n]:rr(e,n,1)})),ya=Do(Vi),ma=Do(Ui);function ga(e,t){return(Ua(e)?Ot:lr)(e,ai(t,3))}function va(e,t){return(Ua(e)?St:fr)(e,ai(t,3))}var ba=Ao((function(e,t,n){Fe.call(e,n)?e[n].push(t):rr(e,n,[t])})),Ta=zr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ka(e)?r(e.length):[];return lr(e,(function(e){a[++o]=i?Mt(t,e,n):Cr(e,t,n)})),a})),_a=Ao((function(e,t,n){rr(e,n,t)}));function wa(e,t){return(Ua(e)?kt:Dr)(e,ai(t,3))}var Ma=Ao((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ea=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&gi(e,t[0],t[1])?t=[]:n>2&&gi(t[0],t[1],t[2])&&(t=[t[0]]),Yr(e,yr(t,1),[])})),Oa=ut||function(){return ft.Date.now()};function Sa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Jo(e,u,o,o,o,o,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Pe(i);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ca=zr((function(e,t,n){var r=1;if(n.length){var o=sn(n,ii(Ca));r|=c}return Jo(e,r,t,n,o)})),Aa=zr((function(e,t,n){var r=3;if(n.length){var o=sn(n,ii(Aa));r|=c}return Jo(t,r,e,n,o)}));function Ra(e,t,n){var r,a,s,c,u,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new Pe(i);function y(t){var n=r,i=a;return r=a=o,f=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=s}function g(){var e=Oa();if(m(e))return v(e);u=Ci(g,function(e){var n=t-(e-l);return p?gn(n,s-(e-f)):n}(e))}function v(e){return u=o,d&&r?y(e):(r=a=o,c)}function b(){var e=Oa(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return f=e,u=Ci(g,t),h?y(e):c}(l);if(p)return To(u),u=Ci(g,t),y(l)}return u===o&&(u=Ci(g,t)),c}return t=ys(t)||0,Za(n)&&(h=!!n.leading,s=(p="maxWait"in n)?mn(ys(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){u!==o&&To(u),f=0,r=l=a=u=o},b.flush=function(){return u===o?c:v(Oa())},b}var ka=zr((function(e,t){return cr(e,1,t)})),xa=zr((function(e,t,n){return cr(e,ys(t)||0,n)}));function Fa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Fa.Cache||Kn),n}function Ia(e){if("function"!=typeof e)throw new Pe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fa.Cache=Kn;var ja=vo((function(e,t){var n=(t=1==t.length&&Ua(t[0])?kt(t[0],Jt(ai())):kt(yr(t,1),Jt(ai()))).length;return zr((function(r){for(var o=-1,i=gn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Mt(e,this,r)}))})),Da=zr((function(e,t){var n=sn(t,ii(Da));return Jo(e,c,o,t,n)})),Ba=zr((function(e,t){var n=sn(t,ii(Ba));return Jo(e,64,o,t,n)})),Na=ei((function(e,t){return Jo(e,256,o,o,o,t)}));function La(e,t){return e===t||e!=e&&t!=t}var qa=$o(Er),Ya=$o((function(e,t){return e>=t})),Va=Ar(function(){return arguments}())?Ar:function(e){return es(e)&&Fe.call(e,"callee")&&!We.call(e,"callee")},Ua=r.isArray,$a=gt?Jt(gt):function(e){return es(e)&&Mr(e)==k};function Ka(e){return null!=e&&Qa(e.length)&&!Ga(e)}function Wa(e){return es(e)&&Ka(e)}var za=mt||yc,Ha=vt?Jt(vt):function(e){return es(e)&&Mr(e)==v};function Ja(e){if(!es(e))return!1;var t=Mr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function Ga(e){if(!Za(e))return!1;var t=Mr(e);return t==T||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xa(e){return"number"==typeof e&&e==ps(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Za(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function es(e){return null!=e&&"object"==typeof e}var ts=bt?Jt(bt):function(e){return es(e)&&hi(e)==w};function ns(e){return"number"==typeof e||es(e)&&Mr(e)==M}function rs(e){if(!es(e)||Mr(e)!=E)return!1;var t=$e(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Be}var os=Tt?Jt(Tt):function(e){return es(e)&&Mr(e)==S},is=_t?Jt(_t):function(e){return es(e)&&hi(e)==P};function as(e){return"string"==typeof e||!Ua(e)&&es(e)&&Mr(e)==C}function ss(e){return"symbol"==typeof e||es(e)&&Mr(e)==A}var cs=wt?Jt(wt):function(e){return es(e)&&Qa(e.length)&&!!ot[Mr(e)]},us=$o(jr),ls=$o((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Ka(e))return as(e)?fn(e):Po(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=hi(e);return(t==w?on:t==P?cn:Ls)(e)}function hs(e){return e?(e=ys(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function ds(e){return e?ir(ps(e),0,p):0}function ys(e){if("number"==typeof e)return e;if(ss(e))return h;if(Za(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Za(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ht(e);var n=de.test(e);return n||me.test(e)?ct(e.slice(2),n?2:8):pe.test(e)?h:+e}function ms(e){return Co(e,ks(e))}function gs(e){return null==e?"":ao(e)}var vs=Ro((function(e,t){if(_i(t)||Ka(t))Co(t,Rs(t),e);else for(var n in t)Fe.call(t,n)&&Zn(e,n,t[n])})),bs=Ro((function(e,t){Co(t,ks(t),e)})),Ts=Ro((function(e,t,n,r){Co(t,ks(t),e,r)})),_s=Ro((function(e,t,n,r){Co(t,Rs(t),e,r)})),ws=ei(or),Ms=zr((function(e,t){e=Ee(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&gi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=ks(a),c=-1,u=s.length;++c<u;){var l=s[c],f=e[l];(f===o||La(f,Re[l])&&!Fe.call(e,l))&&(e[l]=a[l])}return e})),Es=zr((function(e){return e.push(o,Xo),Mt(Fs,o,e)}));function Os(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Ss(e,t){return null!=e&&pi(e,t,Sr)}var Ps=Lo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),Zs(nc)),Cs=Lo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),ai),As=zr(Cr);function Rs(e){return Ka(e)?Hn(e):Ir(e)}function ks(e){return Ka(e)?Hn(e,!0):function(e){if(!Za(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}(e)}var xs=Ro((function(e,t,n){Lr(e,t,n)})),Fs=Ro((function(e,t,n,r){Lr(e,t,n,r)})),Is=ei((function(e,t){var n={};if(null==e)return n;var r=!1;t=kt(t,(function(t){return t=go(t,e),r||(r=t.length>1),t})),Co(e,ni(e),n),r&&(n=ar(n,7,Qo));for(var o=t.length;o--;)co(n,t[o]);return n})),js=ei((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ss(e,n)}))}(e,t)}));function Ds(e,t){if(null==e)return{};var n=kt(ni(e),(function(e){return[e]}));return t=ai(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Ho(Rs),Ns=Ho(ks);function Ls(e){return null==e?[]:Gt(e,Rs(e))}var qs=Io((function(e,t,n){return t=t.toLowerCase(),e+(n?Ys(t):t)}));function Ys(e){return Js(gs(e).toLowerCase())}function Vs(e){return(e=gs(e))&&e.replace(ve,en).replace(Xe,"")}var Us=Io((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$s=Io((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=Fo("toLowerCase"),Ws=Io((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),zs=Io((function(e,t,n){return e+(n?" ":"")+Js(t)})),Hs=Io((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Fo("toUpperCase");function Gs(e,t,n){return e=gs(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Xs=zr((function(e,t){try{return Mt(e,o,t)}catch(e){return Ja(e)?e:new _e(e)}})),Qs=ei((function(e,t){return Ot(t,(function(t){t=Di(t),rr(e,t,Ca(e[t],e))})),e}));function Zs(e){return function(){return e}}var ec=Bo(),tc=Bo(!0);function nc(e){return e}function rc(e){return Fr("function"==typeof e?e:ar(e,1))}var oc=zr((function(e,t){return function(n){return Cr(n,e,t)}})),ic=zr((function(e,t){return function(n){return Cr(e,n,t)}}));function ac(e,t,n){var r=Rs(t),o=Tr(t,r);null!=n||Za(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Tr(t,Rs(t)));var i=!(Za(n)&&"chain"in n&&!n.chain),a=Ga(e);return Ot(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,xt([this.value()],arguments))})})),e}function sc(){}var cc=Yo(kt),uc=Yo(Pt),lc=Yo(jt);function fc(e){return vi(e)?Ut(Di(e)):function(e){return function(t){return _r(t,e)}}(e)}var hc=Uo(),pc=Uo(!0);function dc(){return[]}function yc(){return!1}var mc,gc=qo((function(e,t){return e+t}),0),vc=Wo("ceil"),bc=qo((function(e,t){return e/t}),1),Tc=Wo("floor"),_c=qo((function(e,t){return e*t}),1),wc=Wo("round"),Mc=qo((function(e,t){return e-t}),0);return Nn.after=function(e,t){if("function"!=typeof t)throw new Pe(i);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Nn.ary=Sa,Nn.assign=vs,Nn.assignIn=bs,Nn.assignInWith=Ts,Nn.assignWith=_s,Nn.at=ws,Nn.before=Pa,Nn.bind=Ca,Nn.bindAll=Qs,Nn.bindKey=Aa,Nn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ua(e)?e:[e]},Nn.chain=fa,Nn.chunk=function(e,t,n){t=(n?gi(e,t,n):t===o)?1:mn(ps(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(ht(i/t));a<i;)c[s++]=eo(e,a,a+=t);return c},Nn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Nn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return xt(Ua(n)?Po(n):[n],yr(t,1))},Nn.cond=function(e){var t=null==e?0:e.length,n=ai();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new Pe(i);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Mt(o[0],this,n))return Mt(o[1],this,n)}}))},Nn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return sr(n,e,t)}}(ar(e,1))},Nn.constant=Zs,Nn.countBy=da,Nn.create=function(e,t){var n=Ln(e);return null==t?n:nr(n,t)},Nn.curry=function e(t,n,r){var i=Jo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Nn.curryRight=function e(t,n,r){var i=Jo(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Nn.debounce=Ra,Nn.defaults=Ms,Nn.defaultsDeep=Es,Nn.defer=ka,Nn.delay=xa,Nn.difference=Li,Nn.differenceBy=qi,Nn.differenceWith=Yi,Nn.drop=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=n||t===o?1:ps(t))<0?0:t,r):[]},Nn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,0,(t=r-(t=n||t===o?1:ps(t)))<0?0:t):[]},Nn.dropRightWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!0,!0):[]},Nn.dropWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!0):[]},Nn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&gi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ps(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ps(r))<0&&(r+=i),r=n>r?0:ds(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Nn.filter=function(e,t){return(Ua(e)?Ct:dr)(e,ai(t,3))},Nn.flatMap=function(e,t){return yr(wa(e,t),1)},Nn.flatMapDeep=function(e,t){return yr(wa(e,t),l)},Nn.flatMapDepth=function(e,t,n){return n=n===o?1:ps(n),yr(wa(e,t),n)},Nn.flatten=$i,Nn.flattenDeep=function(e){return null!=e&&e.length?yr(e,l):[]},Nn.flattenDepth=function(e,t){return null!=e&&e.length?yr(e,t=t===o?1:ps(t)):[]},Nn.flip=function(e){return Jo(e,512)},Nn.flow=ec,Nn.flowRight=tc,Nn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Nn.functions=function(e){return null==e?[]:Tr(e,Rs(e))},Nn.functionsIn=function(e){return null==e?[]:Tr(e,ks(e))},Nn.groupBy=ba,Nn.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Nn.intersection=Wi,Nn.intersectionBy=zi,Nn.intersectionWith=Hi,Nn.invert=Ps,Nn.invertBy=Cs,Nn.invokeMap=Ta,Nn.iteratee=rc,Nn.keyBy=_a,Nn.keys=Rs,Nn.keysIn=ks,Nn.map=wa,Nn.mapKeys=function(e,t){var n={};return t=ai(t,3),vr(e,(function(e,r,o){rr(n,t(e,r,o),e)})),n},Nn.mapValues=function(e,t){var n={};return t=ai(t,3),vr(e,(function(e,r,o){rr(n,r,t(e,r,o))})),n},Nn.matches=function(e){return Br(ar(e,1))},Nn.matchesProperty=function(e,t){return Nr(e,ar(t,1))},Nn.memoize=Fa,Nn.merge=xs,Nn.mergeWith=Fs,Nn.method=oc,Nn.methodOf=ic,Nn.mixin=ac,Nn.negate=Ia,Nn.nthArg=function(e){return e=ps(e),zr((function(t){return qr(t,e)}))},Nn.omit=Is,Nn.omitBy=function(e,t){return Ds(e,Ia(ai(t)))},Nn.once=function(e){return Pa(2,e)},Nn.orderBy=function(e,t,n,r){return null==e?[]:(Ua(t)||(t=null==t?[]:[t]),Ua(n=r?o:n)||(n=null==n?[]:[n]),Yr(e,t,n))},Nn.over=cc,Nn.overArgs=ja,Nn.overEvery=uc,Nn.overSome=lc,Nn.partial=Da,Nn.partialRight=Ba,Nn.partition=Ma,Nn.pick=js,Nn.pickBy=Ds,Nn.property=fc,Nn.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},Nn.pull=Gi,Nn.pullAll=Xi,Nn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,ai(n,2)):e},Nn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,o,n):e},Nn.pullAt=Qi,Nn.range=hc,Nn.rangeRight=pc,Nn.rearg=Na,Nn.reject=function(e,t){return(Ua(e)?Ct:dr)(e,Ia(ai(t,3)))},Nn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ai(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return $r(e,o),n},Nn.rest=function(e,t){if("function"!=typeof e)throw new Pe(i);return zr(e,t=t===o?t:ps(t))},Nn.reverse=Zi,Nn.sampleSize=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:ps(t),(Ua(e)?Gn:Jr)(e,t)},Nn.set=function(e,t,n){return null==e?e:Gr(e,t,n)},Nn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Gr(e,t,n,r)},Nn.shuffle=function(e){return(Ua(e)?Xn:Zr)(e)},Nn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&gi(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===o?r:ps(n)),eo(e,t,n)):[]},Nn.sortBy=Ea,Nn.sortedUniq=function(e){return e&&e.length?oo(e):[]},Nn.sortedUniqBy=function(e,t){return e&&e.length?oo(e,ai(t,2)):[]},Nn.split=function(e,t,n){return n&&"number"!=typeof n&&gi(e,t,n)&&(t=n=o),(n=n===o?p:n>>>0)?(e=gs(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ao(t))&&rn(e)?bo(fn(e),0,n):e.split(t,n):[]},Nn.spread=function(e,t){if("function"!=typeof e)throw new Pe(i);return t=null==t?0:mn(ps(t),0),zr((function(n){var r=n[t],o=bo(n,0,t);return r&&xt(o,r),Mt(e,this,o)}))},Nn.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Nn.take=function(e,t,n){return e&&e.length?eo(e,0,(t=n||t===o?1:ps(t))<0?0:t):[]},Nn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=r-(t=n||t===o?1:ps(t)))<0?0:t,r):[]},Nn.takeRightWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!1,!0):[]},Nn.takeWhile=function(e,t){return e&&e.length?lo(e,ai(t,3)):[]},Nn.tap=function(e,t){return t(e),e},Nn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(i);return Za(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ra(e,t,{leading:r,maxWait:t,trailing:o})},Nn.thru=ha,Nn.toArray=fs,Nn.toPairs=Bs,Nn.toPairsIn=Ns,Nn.toPath=function(e){return Ua(e)?kt(e,Di):ss(e)?[e]:Po(ji(gs(e)))},Nn.toPlainObject=ms,Nn.transform=function(e,t,n){var r=Ua(e),o=r||za(e)||cs(e);if(t=ai(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Za(e)&&Ga(i)?Ln($e(e)):{}}return(o?Ot:vr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Nn.unary=function(e){return Sa(e,1)},Nn.union=ea,Nn.unionBy=ta,Nn.unionWith=na,Nn.uniq=function(e){return e&&e.length?so(e):[]},Nn.uniqBy=function(e,t){return e&&e.length?so(e,ai(t,2)):[]},Nn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?so(e,o,t):[]},Nn.unset=function(e,t){return null==e||co(e,t)},Nn.unzip=ra,Nn.unzipWith=oa,Nn.update=function(e,t,n){return null==e?e:uo(e,t,mo(n))},Nn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:uo(e,t,mo(n),r)},Nn.values=Ls,Nn.valuesIn=function(e){return null==e?[]:Gt(e,ks(e))},Nn.without=ia,Nn.words=Gs,Nn.wrap=function(e,t){return Da(mo(t),e)},Nn.xor=aa,Nn.xorBy=sa,Nn.xorWith=ca,Nn.zip=ua,Nn.zipObject=function(e,t){return po(e||[],t||[],Zn)},Nn.zipObjectDeep=function(e,t){return po(e||[],t||[],Gr)},Nn.zipWith=la,Nn.entries=Bs,Nn.entriesIn=Ns,Nn.extend=bs,Nn.extendWith=Ts,ac(Nn,Nn),Nn.add=gc,Nn.attempt=Xs,Nn.camelCase=qs,Nn.capitalize=Ys,Nn.ceil=vc,Nn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),ir(ys(e),t,n)},Nn.clone=function(e){return ar(e,4)},Nn.cloneDeep=function(e){return ar(e,5)},Nn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:o)},Nn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:o)},Nn.conformsTo=function(e,t){return null==t||sr(e,t,Rs(t))},Nn.deburr=Vs,Nn.defaultTo=function(e,t){return null==e||e!=e?t:e},Nn.divide=bc,Nn.endsWith=function(e,t,n){e=gs(e),t=ao(t);var r=e.length,i=n=n===o?r:ir(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Nn.eq=La,Nn.escape=function(e){return(e=gs(e))&&H.test(e)?e.replace(W,tn):e},Nn.escapeRegExp=function(e){return(e=gs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Nn.every=function(e,t,n){var r=Ua(e)?Pt:hr;return n&&gi(e,t,n)&&(t=o),r(e,ai(t,3))},Nn.find=ya,Nn.findIndex=Vi,Nn.findKey=function(e,t){return Bt(e,ai(t,3),vr)},Nn.findLast=ma,Nn.findLastIndex=Ui,Nn.findLastKey=function(e,t){return Bt(e,ai(t,3),br)},Nn.floor=Tc,Nn.forEach=ga,Nn.forEachRight=va,Nn.forIn=function(e,t){return null==e?e:mr(e,ai(t,3),ks)},Nn.forInRight=function(e,t){return null==e?e:gr(e,ai(t,3),ks)},Nn.forOwn=function(e,t){return e&&vr(e,ai(t,3))},Nn.forOwnRight=function(e,t){return e&&br(e,ai(t,3))},Nn.get=Os,Nn.gt=qa,Nn.gte=Ya,Nn.has=function(e,t){return null!=e&&pi(e,t,Or)},Nn.hasIn=Ss,Nn.head=Ki,Nn.identity=nc,Nn.includes=function(e,t,n,r){e=Ka(e)?e:Ls(e),n=n&&!r?ps(n):0;var o=e.length;return n<0&&(n=mn(o+n,0)),as(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Lt(e,t,n)>-1},Nn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=mn(r+o,0)),Lt(e,t,o)},Nn.inRange=function(e,t,n){return t=hs(t),n===o?(n=t,t=0):n=hs(n),function(e,t,n){return e>=gn(t,n)&&e<mn(t,n)}(e=ys(e),t,n)},Nn.invoke=As,Nn.isArguments=Va,Nn.isArray=Ua,Nn.isArrayBuffer=$a,Nn.isArrayLike=Ka,Nn.isArrayLikeObject=Wa,Nn.isBoolean=function(e){return!0===e||!1===e||es(e)&&Mr(e)==g},Nn.isBuffer=za,Nn.isDate=Ha,Nn.isElement=function(e){return es(e)&&1===e.nodeType&&!rs(e)},Nn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ua(e)||"string"==typeof e||"function"==typeof e.splice||za(e)||cs(e)||Va(e)))return!e.length;var t=hi(e);if(t==w||t==P)return!e.size;if(_i(e))return!Ir(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Nn.isEqual=function(e,t){return Rr(e,t)},Nn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Rr(e,t,o,n):!!r},Nn.isError=Ja,Nn.isFinite=function(e){return"number"==typeof e&&Dt(e)},Nn.isFunction=Ga,Nn.isInteger=Xa,Nn.isLength=Qa,Nn.isMap=ts,Nn.isMatch=function(e,t){return e===t||kr(e,t,ci(t))},Nn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,kr(e,t,ci(t),n)},Nn.isNaN=function(e){return ns(e)&&e!=+e},Nn.isNative=function(e){if(Ti(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},Nn.isNil=function(e){return null==e},Nn.isNull=function(e){return null===e},Nn.isNumber=ns,Nn.isObject=Za,Nn.isObjectLike=es,Nn.isPlainObject=rs,Nn.isRegExp=os,Nn.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=f},Nn.isSet=is,Nn.isString=as,Nn.isSymbol=ss,Nn.isTypedArray=cs,Nn.isUndefined=function(e){return e===o},Nn.isWeakMap=function(e){return es(e)&&hi(e)==R},Nn.isWeakSet=function(e){return es(e)&&"[object WeakSet]"==Mr(e)},Nn.join=function(e,t){return null==e?"":$t.call(e,t)},Nn.kebabCase=Us,Nn.last=Ji,Nn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ps(n))<0?mn(r+i,0):gn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Nt(e,Yt,i,!0)},Nn.lowerCase=$s,Nn.lowerFirst=Ks,Nn.lt=us,Nn.lte=ls,Nn.max=function(e){return e&&e.length?pr(e,nc,Er):o},Nn.maxBy=function(e,t){return e&&e.length?pr(e,ai(t,2),Er):o},Nn.mean=function(e){return Vt(e,nc)},Nn.meanBy=function(e,t){return Vt(e,ai(t,2))},Nn.min=function(e){return e&&e.length?pr(e,nc,jr):o},Nn.minBy=function(e,t){return e&&e.length?pr(e,ai(t,2),jr):o},Nn.stubArray=dc,Nn.stubFalse=yc,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=_c,Nn.nth=function(e,t){return e&&e.length?qr(e,ps(t)):o},Nn.noConflict=function(){return ft._===this&&(ft._=Ne),this},Nn.noop=sc,Nn.now=Oa,Nn.pad=function(e,t,n){e=gs(e);var r=(t=ps(t))?ln(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Vo(pt(o),n)+e+Vo(ht(o),n)},Nn.padEnd=function(e,t,n){e=gs(e);var r=(t=ps(t))?ln(e):0;return t&&r<t?e+Vo(t-r,n):e},Nn.padStart=function(e,t,n){e=gs(e);var r=(t=ps(t))?ln(e):0;return t&&r<t?Vo(t-r,n)+e:e},Nn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(gs(e).replace(re,""),t||0)},Nn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&gi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hs(e),t===o?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Tn();return gn(e+i*(t-e+st("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Nn.reduce=function(e,t,n){var r=Ua(e)?Ft:Kt,o=arguments.length<3;return r(e,ai(t,4),n,o,lr)},Nn.reduceRight=function(e,t,n){var r=Ua(e)?It:Kt,o=arguments.length<3;return r(e,ai(t,4),n,o,fr)},Nn.repeat=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:ps(t),Wr(gs(e),t)},Nn.replace=function(){var e=arguments,t=gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nn.result=function(e,t,n){var r=-1,i=(t=go(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Di(t[r])];a===o&&(r=i,a=n),e=Ga(a)?a.call(e):a}return e},Nn.round=wc,Nn.runInContext=e,Nn.sample=function(e){return(Ua(e)?Jn:Hr)(e)},Nn.size=function(e){if(null==e)return 0;if(Ka(e))return as(e)?ln(e):e.length;var t=hi(e);return t==w||t==P?e.size:Ir(e).length},Nn.snakeCase=Ws,Nn.some=function(e,t,n){var r=Ua(e)?jt:to;return n&&gi(e,t,n)&&(t=o),r(e,ai(t,3))},Nn.sortedIndex=function(e,t){return no(e,t)},Nn.sortedIndexBy=function(e,t,n){return ro(e,t,ai(n,2))},Nn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=no(e,t);if(r<n&&La(e[r],t))return r}return-1},Nn.sortedLastIndex=function(e,t){return no(e,t,!0)},Nn.sortedLastIndexBy=function(e,t,n){return ro(e,t,ai(n,2),!0)},Nn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=no(e,t,!0)-1;if(La(e[n],t))return n}return-1},Nn.startCase=zs,Nn.startsWith=function(e,t,n){return e=gs(e),n=null==n?0:ir(ps(n),0,e.length),t=ao(t),e.slice(n,n+t.length)==t},Nn.subtract=Mc,Nn.sum=function(e){return e&&e.length?Wt(e,nc):0},Nn.sumBy=function(e,t){return e&&e.length?Wt(e,ai(t,2)):0},Nn.template=function(e,t,n){var r=Nn.templateSettings;n&&gi(e,t,n)&&(t=o),e=gs(e),t=Ts({},t,r,Go);var i,a,s=Ts({},t.imports,r.imports,Go),c=Rs(s),u=Gt(s,c),l=0,f=t.interpolate||be,h="__p += '",p=Oe((t.escape||be).source+"|"+f.source+"|"+(f===X?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),d="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,(function(t,n,r,o,s,c){return r||(r=o),h+=e.slice(l,c).replace(Te,nn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var y=Fe.call(t,"variable")&&t.variable;if(y){if(ue.test(y))throw new _e("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(U,"$1").replace($,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Xs((function(){return we(c,d+"return "+h).apply(o,u)}));if(m.source=h,Ja(m))throw m;return m},Nn.times=function(e,t){if((e=ps(e))<1||e>f)return[];var n=p,r=gn(e,p);t=ai(t),e-=p;for(var o=zt(r,t);++n<e;)t(n);return o},Nn.toFinite=hs,Nn.toInteger=ps,Nn.toLength=ds,Nn.toLower=function(e){return gs(e).toLowerCase()},Nn.toNumber=ys,Nn.toSafeInteger=function(e){return e?ir(ps(e),-9007199254740991,f):0===e?e:0},Nn.toString=gs,Nn.toUpper=function(e){return gs(e).toUpperCase()},Nn.trim=function(e,t,n){if((e=gs(e))&&(n||t===o))return Ht(e);if(!e||!(t=ao(t)))return e;var r=fn(e),i=fn(t);return bo(r,Qt(r,i),Zt(r,i)+1).join("")},Nn.trimEnd=function(e,t,n){if((e=gs(e))&&(n||t===o))return e.slice(0,hn(e)+1);if(!e||!(t=ao(t)))return e;var r=fn(e);return bo(r,0,Zt(r,fn(t))+1).join("")},Nn.trimStart=function(e,t,n){if((e=gs(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=ao(t)))return e;var r=fn(e);return bo(r,Qt(r,fn(t))).join("")},Nn.truncate=function(e,t){var n=30,r="...";if(Za(t)){var i="separator"in t?t.separator:i;n="length"in t?ps(t.length):n,r="omission"in t?ao(t.omission):r}var a=(e=gs(e)).length;if(rn(e)){var s=fn(e);a=s.length}if(n>=a)return e;var c=n-ln(r);if(c<1)return r;var u=s?bo(s,0,c).join(""):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),os(i)){if(e.slice(c).search(i)){var l,f=u;for(i.global||(i=Oe(i.source,gs(he.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;u=u.slice(0,h===o?c:h)}}else if(e.indexOf(ao(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},Nn.unescape=function(e){return(e=gs(e))&&z.test(e)?e.replace(K,pn):e},Nn.uniqueId=function(e){var t=++Ie;return gs(e)+t},Nn.upperCase=Hs,Nn.upperFirst=Js,Nn.each=ga,Nn.eachRight=va,Nn.first=Ki,ac(Nn,(mc={},vr(Nn,(function(e,t){Fe.call(Nn.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),Nn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nn[e].placeholder=Nn})),Ot(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:mn(ps(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=gn(n,r.__takeCount__):r.__views__.push({size:gn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ai(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(nc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Cr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ia(ai(e)))},Vn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(p)},vr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Nn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Nn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Ua(t),f=function(e){var t=i.apply(Nn,xt([e],s));return r&&h?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,y=c&&!p;if(!a&&l){t=y?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:ha,args:[f],thisArg:o}),new Yn(m,h)}return d&&y?e.apply(this,s):(m=this.thru(f),d?r?m.value()[0]:m.value():m)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Nn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ua(o)?o:[],e)}return this[n]((function(n){return t.apply(Ua(n)?n:[],e)}))}})),vr(Vn.prototype,(function(e,t){var n=Nn[t];if(n){var r=n.name+"";Fe.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[No(o,2).name]=[{name:"wrapper",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ua(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=gn(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return fo(e,this.__actions__);var d=[];e:for(;c--&&h<p;){for(var y=-1,m=e[u+=t];++y<f;){var g=l[y],v=g.iteratee,b=g.type,T=v(m);if(2==b)m=T;else if(!T){if(1==b)continue e;break e}}d[h++]=m}return d},Nn.prototype.at=pa,Nn.prototype.chain=function(){return fa(this)},Nn.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===o&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Nn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Ni(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Nn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[Zi],thisArg:o}),new Yn(t,this.__chain__)}return this.thru(Zi)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Je&&(Nn.prototype[Je]=function(){return this}),Nn}();ft._=dn,(r=function(){return dn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},72788:function(e,t,n){"use strict";var r=n(64583).Promise;function o(e){this.requestsPerSecond=e.requestsPerSecond,this.promiseImplementation=e.promiseImplementation||r,this.lastStartTime=0,this.queued=[]}o.prototype.add=function(e,t){var n=this,r=t||{};return new n.promiseImplementation((function(t,o){n.queued.push({resolve:t,reject:o,promise:e,weight:r.weight||1,signal:r.signal}),n.dequeue()}))},o.prototype.addAll=function(e,t){var n=e.map(function(e){return this.add(e,t)}.bind(this));return r.all(n)},o.prototype.dequeue=function(){if(this.queued.length>0){var e=new Date,t=this.queued[0].weight,n=1e3/this.requestsPerSecond*t,r=e-this.lastStartTime;r>=n?this._execute():setTimeout(function(){this.dequeue()}.bind(this),n-r)}},o.prototype._execute=function(){this.lastStartTime=new Date;var e=this.queued.shift();e.signal&&e.signal.aborted?e.reject(new DOMException("","AbortError")):e.promise().then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}))},e.exports=o},86425:function(e,t,n){"use strict";var r=n(64583).Promise;function o(e,t){return function(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:a}=Object,s=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:f}=Array,h=l("undefined"),p=u("ArrayBuffer"),d=l("string"),y=l("function"),m=l("number"),g=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==s(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=u("Date"),T=u("File"),_=u("Blob"),w=u("FileList"),M=u("URLSearchParams"),[E,O,S,P]=["ReadableStream","Request","Response","Headers"].map(u);function C(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),f(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function A(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,k=e=>!h(e)&&e!==R,x=(F="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>F&&e instanceof F);var F;const I=u("HTMLFormElement"),j=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D=u("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};C(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},N="abcdefghijklmnopqrstuvwxyz",L="0123456789",q={DIGIT:L,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+L},Y=u("AsyncFunction"),V=(U="function"==typeof setImmediate,$=y(R.postMessage),U?setImmediate:$?(K=`axios@${Math.random()}`,W=[],R.addEventListener("message",(({source:e,data:t})=>{e===R&&t===K&&W.length&&W.shift()()}),!1),e=>{W.push(e),R.postMessage(K,"*")}):e=>setTimeout(e));var U,$,K,W;const z="undefined"!=typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!=typeof process&&process.nextTick||V;var H={isArray:f,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=s(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:d,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:v,isReadableStream:E,isRequest:O,isResponse:S,isHeaders:P,isUndefined:h,isDate:b,isFile:T,isBlob:_,isRegExp:D,isFunction:y,isStream:e=>g(e)&&y(e.pipe),isURLSearchParams:M,isTypedArray:x,isFileList:w,forEach:C,merge:function e(){const{caseless:t}=k(this)&&this||{},n={},r=(r,o)=>{const i=t&&A(n,o)||o;v(n[i])&&v(r)?n[i]=e(n[i],r):v(r)?n[i]=e({},r):f(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&C(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(C(t,((t,r)=>{n&&y(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,s;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],r&&!r(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:I,hasOwnProperty:j,hasOwnProp:j,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,n)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];y(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:A,global:R,isContextDefined:k,ALPHABET:q,generateString:(e=16,t=q.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=f(e)?[]:{};return C(e,((e,t)=>{const i=n(e,r+1);!h(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Y,isThenable:e=>e&&(g(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:V,asap:z};function J(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const G=J.prototype,X={};function Q(e){return H.isPlainObject(e)||H.isArray(e)}function Z(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,n){return e?e.concat(t).map((function(e,t){return e=Z(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(J,X),Object.defineProperty(G,"isAxiosError",{value:!0}),J.from=(e,t,n,r,o,i)=>{const a=Object.create(G);return H.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),J.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const te=H.toFlatObject(H,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ne(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!H.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(H.isDate(e))return e.toISOString();if(!s&&H.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(e)||H.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(H.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(H.isArray(e)&&function(e){return H.isArray(e)&&!e.some(Q)}(e)||(H.isFileList(e)||H.endsWith(n,"[]"))&&(s=H.toArray(e)))return n=Z(n),s.forEach((function(e,r){!H.isUndefined(e)&&null!==e&&t.append(!0===a?ee([n],r,i):null===a?n:n+"[]",c(e))})),!1;return!!Q(e)||(t.append(ee(o,n,i),c(e)),!1)}const l=[],f=Object.assign(te,{defaultVisitor:u,convertValue:c,isVisitable:Q});if(!H.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!H.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),H.forEach(n,(function(n,i){!0===(!(H.isUndefined(n)||null===n)&&o.call(t,n,H.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),l.pop()}}(e),t}function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function oe(e,t){this._pairs=[],e&&ne(e,this,t)}const ie=oe.prototype;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function se(e,t,n){if(!t)return e;const r=n&&n.encode||ae,o=n&&n.serialize;let i;if(i=o?o(t,n):H.isURLSearchParams(t)?t.toString():new oe(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ce=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},le={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:oe,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const fe="undefined"!=typeof window&&"undefined"!=typeof document,he="object"==typeof navigator&&navigator||void 0,pe=fe&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),de="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ye=fe&&window.location.href||"http://localhost";var me={...Object.freeze({__proto__:null,hasBrowserEnv:fe,hasStandardBrowserWebWorkerEnv:de,hasStandardBrowserEnv:pe,navigator:he,origin:ye}),...le};function ge(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&H.isArray(r)?r.length:i,s?(H.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&H.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&H.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,((e,r)=>{t(function(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const ve={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=H.isObject(e);if(o&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return r?JSON.stringify(ge(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ne(e,new me.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return me.isNode&&H.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=H.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ne(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(H.isString(e))try{return(0,JSON.parse)(e),H.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw J.from(e,J.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:me.classes.FormData,Blob:me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));var be=ve;const Te=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_e=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function Me(e){return!1===e||null==e?e:H.isArray(e)?e.map(Me):String(e)}function Ee(e,t,n,r,o){return H.isFunction(r)?r.call(this,t,n):(o&&(t=n),H.isString(t)?H.isString(r)?-1!==t.indexOf(r):H.isRegExp(r)?r.test(t):void 0:void 0)}class Oe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=we(t);if(!o)throw new Error("header name must be a non-empty string");const i=H.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Me(e))}const i=(e,t)=>H.forEach(e,((e,n)=>o(e,n,t)));if(H.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(H.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Te[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(H.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=we(e)){const n=H.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(H.isFunction(t))return t.call(this,e,n);if(H.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=H.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ee(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=we(e)){const o=H.findKey(n,e);!o||t&&!Ee(0,n[o],o,t)||(delete n[o],r=!0)}}return H.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Ee(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return H.forEach(this,((r,o)=>{const i=H.findKey(n,o);if(i)return t[i]=Me(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=Me(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&H.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[_e]=this[_e]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=we(e);t[r]||(function(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}}Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),H.reduceDescriptors(Oe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),H.freezeMethods(Oe);var Se=Oe;function Pe(e,t){const n=this||be,r=t||n,o=Se.from(r.headers);let i=r.data;return H.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Ce(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,n),this.name="CanceledError"}function Re(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}H.inherits(Ae,J,{__CANCEL__:!0});const ke=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=r[a];o||(o=c),n[i]=s,r[i]=c;let l=a,f=0;for(;l!==i;)f+=n[l++],l%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(1e3*f/h):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),i-s)))},()=>n&&a(n)]}((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,c=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},xe=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Fe=e=>(...t)=>H.asap((()=>e(...t)));var Ie=me.hasStandardBrowserEnv?function(){const e=me.navigator&&/(msie|trident)/i.test(me.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=H.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},je=me.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];H.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),H.isString(r)&&a.push("path="+r),H.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function De(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Be=e=>e instanceof Se?{...e}:e;function Ne(e,t){t=t||{};const n={};function r(e,t,n){return H.isPlainObject(e)&&H.isPlainObject(t)?H.merge.call({caseless:n},e,t):H.isPlainObject(t)?H.merge({},t):H.isArray(t)?t.slice():t}function o(e,t,n){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!H.isUndefined(t))return r(void 0,t)}function a(e,t){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(Be(e),Be(t),!0)};return H.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,a=i(e[r],t[r],r);H.isUndefined(a)&&i!==s||(n[r]=a)})),n}var Le=e=>{const t=Ne({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=Se.from(s),t.url=se(De(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),H.isFormData(r))if(me.hasStandardBrowserEnv||me.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(me.hasStandardBrowserEnv&&(o&&H.isFunction(o)&&(o=o(t)),o||!1!==o&&Ie(t.url))){const e=i&&a&&je.read(a);e&&s.set(i,e)}return t},qe="undefined"!=typeof XMLHttpRequest&&function(e){return new r((function(t,n){const r=Le(e);let o=r.data;const i=Se.from(r.headers).normalize();let a,s,c,u,l,{responseType:f,onUploadProgress:h,onDownloadProgress:p}=r;function d(){u&&u(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let y=new XMLHttpRequest;function m(){if(!y)return;const r=Se.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());Re((function(e){t(e),d()}),(function(e){n(e),d()}),{data:f&&"text"!==f&&"json"!==f?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout,"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(m)},y.onabort=function(){y&&(n(new J("Request aborted",J.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new J(t,o.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,y)),y=null},void 0===o&&i.setContentType(null),"setRequestHeader"in y&&H.forEach(i.toJSON(),(function(e,t){y.setRequestHeader(t,e)})),H.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),f&&"json"!==f&&(y.responseType=r.responseType),p&&([c,l]=ke(p,!0),y.addEventListener("progress",c)),h&&y.upload&&([s,u]=ke(h),y.upload.addEventListener("progress",s),y.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(a=t=>{y&&(n(!t||t.type?new Ae(null,e,y):t),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===me.protocols.indexOf(g)?n(new J("Unsupported protocol "+g+":",J.ERR_BAD_REQUEST,e)):y.send(o||null)}))},Ye=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof J?t:new Ae(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>H.asap(a),s}};const Ve=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Ue=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Ve(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel(e){return s(e),o.return()}},{highWaterMark:2})},$e="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ke=$e&&"function"==typeof ReadableStream,We=$e&&("function"==typeof TextEncoder?(ze=new TextEncoder,e=>ze.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ze;const He=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Je=Ke&&He((()=>{let e=!1;const t=new Request(me.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ge=Ke&&He((()=>H.isReadableStream(new Response("").body))),Xe={stream:Ge&&(e=>e.body)};var Qe;$e&&(Qe=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=H.isFunction(Qe[e])?t=>t[e]():(t,n)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,n)})})));const Ze={http:null,xhr:qe,fetch:$e&&(async e=>{let{url:t,method:n,data:o,signal:i,cancelToken:a,timeout:s,onDownloadProgress:c,onUploadProgress:u,responseType:l,headers:f,withCredentials:h="same-origin",fetchOptions:p}=Le(e);l=l?(l+"").toLowerCase():"text";let d,y=Ye([i,a&&a.toAbortSignal()],s);const m=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let g;try{if(u&&Je&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=H.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(H.isBlob(e))return e.size;if(H.isSpecCompliantForm(e)){const t=new Request(me.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return H.isArrayBufferView(e)||H.isArrayBuffer(e)?e.byteLength:(H.isURLSearchParams(e)&&(e+=""),H.isString(e)?(await We(e)).byteLength:void 0)})(t):n})(f,o))){let e,n=new Request(t,{method:"POST",body:o,duplex:"half"});if(H.isFormData(o)&&(e=n.headers.get("content-type"))&&f.setContentType(e),n.body){const[e,t]=xe(g,ke(Fe(u)));o=Ue(n.body,65536,e,t)}}H.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;d=new Request(t,{...p,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:o,duplex:"half",credentials:i?h:void 0});let a=await fetch(d);const s=Ge&&("stream"===l||"response"===l);if(Ge&&(c||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=H.toFiniteNumber(a.headers.get("content-length")),[n,r]=c&&xe(t,ke(Fe(c),!0))||[];a=new Response(Ue(a.body,65536,n,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let v=await Xe[H.findKey(Xe,l)||"text"](a,e);return!s&&m&&m(),await new r(((t,n)=>{Re(t,n,{data:v,headers:Se.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:d})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,d),{cause:t.cause||t});throw J.from(t,t&&t.code,e,d)}})};H.forEach(Ze,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>H.isFunction(e)||null===e||!1===e;var nt=e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!tt(n)&&(r=Ze[(t=String(n)).toLowerCase()],void 0===r))throw new J(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new J("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function ot(e){return rt(e),e.headers=Se.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nt(e.adapter||be.adapter)(e).then((function(t){return rt(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t}),(function(t){return Ce(t)||(rt(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),r.reject(t)}))}const it={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{it[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const at={};it.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new J(r(o," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!at[o]&&(at[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var st={assertOptions:function(e,t,n){if("object"!=typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new J("option "+i+" must be "+n,J.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}},validators:it};const ct=st.validators;class ut{constructor(e){this.defaults=e,this.interceptors={request:new ce,response:new ce}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ne(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:i}=t;void 0!==n&&st.assertOptions(n,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1),null!=o&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:st.assertOptions(o,{encode:ct.function,serialize:ct.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&H.merge(i.common,i[t.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Se.concat(a,i);const s=[];let c=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let f,h=0;if(!c){const e=[ot.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,u),f=e.length,l=r.resolve(t);h<f;)l=l.then(e[h++],e[h++]);return l}f=s.length;let p=t;for(h=0;h<f;){const e=s[h++],t=s[h++];try{p=e(p)}catch(e){t.call(this,e);break}}try{l=ot.call(this,p)}catch(e){return r.reject(e)}for(h=0,f=u.length;h<f;)l=l.then(u[h++],u[h++]);return l}getUri(e){return se(De((e=Ne(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],(function(e){ut.prototype[e]=function(t,n){return this.request(Ne(n||{},{method:e,url:t,data:(n||{}).data}))}})),H.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Ne(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ut.prototype[e]=t(),ut.prototype[e+"Form"]=t(!0)}));var lt=ut;class ft{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new r((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new r((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,r,o){n.reason||(n.reason=new Ae(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ft((function(t){e=t})),cancel:e}}}var ht=ft;const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach((([e,t])=>{pt[t]=e}));var dt=pt;const yt=function e(t){const n=new lt(t),r=o(lt.prototype.request,n);return H.extend(r,lt.prototype,n,{allOwnKeys:!0}),H.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ne(t,n))},r}(be);yt.Axios=lt,yt.CanceledError=Ae,yt.CancelToken=ht,yt.isCancel=Ce,yt.VERSION="1.7.7",yt.toFormData=ne,yt.AxiosError=J,yt.Cancel=yt.CanceledError,yt.all=function(e){return r.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return H.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Ne,yt.AxiosHeaders=Se,yt.formToJSON=e=>ge(H.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=nt,yt.HttpStatusCode=dt,yt.default=yt,e.exports=yt},24356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultipartBody=void 0;class n{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}t.MultipartBody=n},78978:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(70331),t)},12212:function(e,t,n){const r=n(83085),o=n(78978);r.kind||r.setShims(o.getRuntime(),{auto:!0});for(const e of Object.keys(r))Object.defineProperty(t,e,{get(){return r[e]}})},83085:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setShims=t.isFsReadStream=t.fileFromPath=t.getDefaultAgent=t.getMultipartRequestOptions=t.ReadableStream=t.File=t.Blob=t.FormData=t.Headers=t.Response=t.Request=t.fetch=t.kind=t.auto=void 0,t.auto=!1,t.kind=void 0,t.fetch=void 0,t.Request=void 0,t.Response=void 0,t.Headers=void 0,t.FormData=void 0,t.Blob=void 0,t.File=void 0,t.ReadableStream=void 0,t.getMultipartRequestOptions=void 0,t.getDefaultAgent=void 0,t.fileFromPath=void 0,t.isFsReadStream=void 0,t.setShims=function(e,n={auto:!1}){if(t.auto)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(t.kind)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${t.kind}'\``);t.auto=n.auto,t.kind=e.kind,t.fetch=e.fetch,t.Request=e.Request,t.Response=e.Response,t.Headers=e.Headers,t.FormData=e.FormData,t.Blob=e.Blob,t.File=e.File,t.ReadableStream=e.ReadableStream,t.getMultipartRequestOptions=e.getMultipartRequestOptions,t.getDefaultAgent=e.getDefaultAgent,t.fileFromPath=e.fileFromPath,t.isFsReadStream=e.isFsReadStream}},70331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntime=void 0;const r=n(24356);t.getRuntime=function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,o,i,a;try{n=fetch,o=Request,i=Response,a=Headers}catch(e){throw new Error(`this environment is missing the following Web Fetch API type: ${e.message}. ${t}`)}return{kind:"web",fetch:n,Request:o,Response:i,Headers:a,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new r.MultipartBody(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}},43690:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MalformedJSON=t.PartialJSON=t.partialParse=void 0;class n extends Error{}t.PartialJSON=n;class r extends Error{}t.MalformedJSON=r;t.partialParse=e=>function(e,t=511){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return((e,t)=>{const o=e.length;let i=0;const a=e=>{throw new n(`${e} at position ${i}`)},s=e=>{throw new r(`${e} at position ${i}`)},c=()=>(p(),i>=o&&a("Unexpected end of input"),'"'===e[i]?u():"{"===e[i]?l():"["===e[i]?f():"null"===e.substring(i,i+4)||16&t&&o-i<4&&"null".startsWith(e.substring(i))?(i+=4,null):"true"===e.substring(i,i+4)||32&t&&o-i<4&&"true".startsWith(e.substring(i))?(i+=4,!0):"false"===e.substring(i,i+5)||32&t&&o-i<5&&"false".startsWith(e.substring(i))?(i+=5,!1):"Infinity"===e.substring(i,i+8)||128&t&&o-i<8&&"Infinity".startsWith(e.substring(i))?(i+=8,1/0):"-Infinity"===e.substring(i,i+9)||256&t&&1<o-i&&o-i<9&&"-Infinity".startsWith(e.substring(i))?(i+=9,-1/0):"NaN"===e.substring(i,i+3)||64&t&&o-i<3&&"NaN".startsWith(e.substring(i))?(i+=3,NaN):h()),u=()=>{const n=i;let r=!1;for(i++;i<o&&('"'!==e[i]||r&&"\\"===e[i-1]);)r="\\"===e[i]&&!r,i++;if('"'==e.charAt(i))try{return JSON.parse(e.substring(n,++i-Number(r)))}catch(e){s(String(e))}else if(1&t)try{return JSON.parse(e.substring(n,i-Number(r))+'"')}catch(t){return JSON.parse(e.substring(n,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{i++,p();const n={};try{for(;"}"!==e[i];){if(p(),i>=o&&8&t)return n;const r=u();p(),i++;try{const e=c();Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(8&t)return n;throw e}p(),","===e[i]&&i++}}catch(e){if(8&t)return n;a("Expected '}' at end of object")}return i++,n},f=()=>{i++;const n=[];try{for(;"]"!==e[i];)n.push(c()),p(),","===e[i]&&i++}catch(e){if(4&t)return n;a("Expected ']' at end of array")}return i++,n},h=()=>{if(0===i){"-"===e&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(2&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}s(String(n))}}const n=i;for("-"===e[i]&&i++;e[i]&&!",]}".includes(e[i]);)i++;i!=o||2&t||a("Unterminated number literal");try{return JSON.parse(e.substring(n,i))}catch(r){"-"===e.substring(n,i)&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(n,e.lastIndexOf("e")))}catch(e){s(String(e))}}},p=()=>{for(;i<o&&" \n\r\t".includes(e[i]);)i++};return c()})(e.trim(),t)}(e,509)},88757:function(e,t,n){"use strict";var r,o=n(64583).Promise,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.isObj=t.toBase64=t.getHeader=t.getRequiredHeader=t.isHeadersProtocol=t.isRunningInBrowser=t.debug=t.hasOwn=t.isEmptyObj=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.readEnv=t.ensurePresent=t.castToError=t.sleep=t.safeJSON=t.isRequestOptions=t.createResponseHeaders=t.PagePromise=t.AbstractPage=t.APIClient=t.APIPromise=t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=void 0;const s=n(35392),c=n(6716),u=n(89526),l=n(12212),f=n(64042);var h=n(64042);async function p(e){const{response:t}=e;if(e.options.stream)return A("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):c.Stream.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return A("response",t.status,t.url,t.headers,e),d(e,t)}const r=await t.text();return A("response",t.status,t.url,t.headers,r),r}function d(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}Object.defineProperty(t,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return h.maybeMultipartFormRequestOptions}}),Object.defineProperty(t,"multipartFormRequestOptions",{enumerable:!0,get:function(){return h.multipartFormRequestOptions}}),Object.defineProperty(t,"createForm",{enumerable:!0,get:function(){return h.createForm}});class y extends o{constructor(e,t=p){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new y(this.responsePromise,(async t=>d(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await o.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=y,t.APIClient=class{constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:r,fetch:o}){this.baseURL=e,this.maxRetries=O("maxRetries",t),this.timeout=O("timeout",n),this.httpAgent=r,this.fetch=o??l.fetch}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...w(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${R()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(o.resolve(n).then((async n=>{const r=n&&(0,f.isBlobLike)(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){const{method:n,path:r,query:o,headers:i={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:(0,f.isMultipartBody)(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(a),c=this.buildURL(r,o);"timeout"in e&&O("timeout",e.timeout);const u=e.timeout??this.timeout,h=e.httpAgent??this.httpAgent??(0,l.getDefaultAgent)(c),p=u+1e3;return"number"==typeof h?.options?.timeout&&p>(h.options.timeout??0)&&(h.options.timeout=p),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey),{req:{method:n,...a&&{body:a},headers:this.buildHeaders({options:e,headers:i,contentLength:s,retryCount:t}),...h&&{agent:h},signal:e.signal??null},url:c,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:o}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(e);return C(i,a),C(i,n),(0,f.isMultipartBody)(e.body)&&"node"!==l.kind&&delete i["content-type"],void 0===(0,t.getHeader)(a,"x-stainless-retry-count")&&void 0===(0,t.getHeader)(n,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return u.APIError.generate(e,t,n,r)}request(e,t=null){return new y(this.makeRequest(e,t))}async makeRequest(e,n){const r=await e,o=r.maxRetries??this.maxRetries;null==n&&(n=o),await this.prepareOptions(r);const{req:i,url:a,timeout:s}=this.buildRequest(r,{retryCount:o-n});if(await this.prepareRequest(i,{url:a,options:r}),A("request",a,r,i.headers),r.signal?.aborted)throw new u.APIUserAbortError;const c=new AbortController,l=await this.fetchWithTimeout(a,i,s,c).catch(t.castToError);if(l instanceof Error){if(r.signal?.aborted)throw new u.APIUserAbortError;if(n)return this.retryRequest(r,n);if("AbortError"===l.name)throw new u.APIConnectionTimeoutError;throw new u.APIConnectionError({cause:l})}const f=(0,t.createResponseHeaders)(l.headers);if(!l.ok){if(n&&this.shouldRetry(l))return A(`response (error; retrying, ${n} attempts remaining)`,l.status,a,f),this.retryRequest(r,n,f);const e=await l.text().catch((e=>(0,t.castToError)(e).message)),o=(0,t.safeJSON)(e),i=o?void 0:e;throw A(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,a,f,i),this.makeStatusError(l.status,o,i,f)}return{response:l,options:r,controller:c}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new g(this,n,e)}buildURL(e,t){const n=E(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return S(r)||(t={...r,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new u.OpenAIError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:o,...i}=t||{};o&&o.addEventListener("abort",(()=>r.abort()));const a=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...i}).finally((()=>{clearTimeout(a)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,n,r){let o;const i=r?.["retry-after-ms"];if(i){const e=parseFloat(i);Number.isNaN(e)||(o=e)}const a=r?.["retry-after"];if(a&&!o){const e=parseFloat(a);o=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const t=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,t)}return await(0,t.sleep)(o),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${s.VERSION}`}};class m{constructor(e,t,n,o){r.set(this,void 0),i(this,r,e,"f"),this.options=o,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new u.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await a(this,r,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=m;class g extends y{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await p(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=g,t.createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}});const v={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0};t.isRequestOptions=e=>"object"==typeof e&&null!==e&&!S(e)&&Object.keys(e).every((e=>P(v,e)));const b=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",T=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let _;const w=()=>_??(_=(()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":T(Deno.build.os),"X-Stainless-Arch":b(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":T(process.platform),"X-Stainless-Arch":b(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}};const M=new RegExp("^(?:[a-z]+:)?//","i"),E=e=>M.test(e);t.sleep=e=>new o((t=>setTimeout(t,e)));const O=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new u.OpenAIError(`${e} must be an integer`);if(t<0)throw new u.OpenAIError(`${e} must be a positive integer`);return t};function S(e){if(!e)return!0;for(const t in e)return!1;return!0}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){for(const n in t){if(!P(t,n))continue;const r=n.toLowerCase();if(!r)continue;const o=t[n];null===o?delete e[r]:void 0!==o&&(e[r]=o)}}function A(e,...t){"undefined"!=typeof process&&"true"===process?.env?.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},t.ensurePresent=e=>{if(null==e)throw new u.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e},t.readEnv=e=>"undefined"!=typeof process?process.env?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0,t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new u.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new u.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e),t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)},t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)},t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)},t.isEmptyObj=S,t.hasOwn=P,t.debug=A;const R=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator,t.isHeadersProtocol=e=>"function"==typeof e?.get,t.getRequiredHeader=(e,n)=>{const r=(0,t.getHeader)(e,n);if(void 0===r)throw new Error(`Could not find ${n} header`);return r},t.getHeader=(e,n)=>{const r=n.toLowerCase();if((0,t.isHeadersProtocol)(e)){const t=n[0]?.toUpperCase()+n.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const o of[n,r,n.toUpperCase(),t]){const t=e.get(o);if(t)return t}}for(const[t,o]of Object.entries(e))if(t.toLowerCase()===r)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${n} header, using the first entry.`),o[0]):o},t.toBase64=e=>{if(!e)return"";if("undefined"!=typeof Buffer)return Buffer.from(e).toString("base64");if("undefined"!=typeof btoa)return btoa(e);throw new u.OpenAIError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}},89526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentFilterFinishReasonError=t.LengthFinishReasonError=t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const r=n(88757);class o extends Error{}t.OpenAIError=o;class i extends o{constructor(e,t,n,r){super(`${i.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const o=t;this.error=o,this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,o){if(!e)return new a({message:n,cause:(0,r.castToError)(t)});const y=t?.error;return 400===e?new s(e,y,n,o):401===e?new c(e,y,n,o):403===e?new u(e,y,n,o):404===e?new l(e,y,n,o):409===e?new f(e,y,n,o):422===e?new h(e,y,n,o):429===e?new p(e,y,n,o):e>=500?new d(e,y,n,o):new i(e,y,n,o)}}t.APIError=i,t.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}};class a extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}t.APIConnectionError=a,t.APIConnectionTimeoutError=class extends a{constructor({message:e}={}){super({message:e??"Request timed out."})}};class s extends i{constructor(){super(...arguments),this.status=400}}t.BadRequestError=s;class c extends i{constructor(){super(...arguments),this.status=401}}t.AuthenticationError=c;class u extends i{constructor(){super(...arguments),this.status=403}}t.PermissionDeniedError=u;class l extends i{constructor(){super(...arguments),this.status=404}}t.NotFoundError=l;class f extends i{constructor(){super(...arguments),this.status=409}}t.ConflictError=f;class h extends i{constructor(){super(...arguments),this.status=422}}t.UnprocessableEntityError=h;class p extends i{constructor(){super(...arguments),this.status=429}}t.RateLimitError=p;class d extends i{}t.InternalServerError=d,t.LengthFinishReasonError=class extends o{constructor(){super("Could not parse response content as the length limit was reached")}},t.ContentFilterFinishReasonError=class extends o{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}},32012:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.fileFromPath=t.toFile=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.OpenAI=void 0;const s=a(n(89526)),c=a(n(64042)),u=a(n(41441)),l=a(n(88757)),f=a(n(2510)),h=a(n(33946));class p extends l.APIClient{constructor({baseURL:e=l.readEnv("OPENAI_BASE_URL"),apiKey:t=l.readEnv("OPENAI_API_KEY"),organization:n=l.readEnv("OPENAI_ORG_ID")??null,project:r=l.readEnv("OPENAI_PROJECT_ID")??null,...o}={}){if(void 0===t)throw new s.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:n,project:r,...o,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&l.isRunningInBrowser())throw new s.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new h.Completions(this),this.chat=new h.Chat(this),this.embeddings=new h.Embeddings(this),this.files=new h.Files(this),this.images=new h.Images(this),this.audio=new h.Audio(this),this.moderations=new h.Moderations(this),this.models=new h.Models(this),this.fineTuning=new h.FineTuning(this),this.beta=new h.Beta(this),this.batches=new h.Batches(this),this.uploads=new h.Uploads(this),this._options=i,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return u.stringify(e,{arrayFormat:"brackets"})}}t.OpenAI=p,r=p,p.OpenAI=r,p.DEFAULT_TIMEOUT=6e5,p.OpenAIError=s.OpenAIError,p.APIError=s.APIError,p.APIConnectionError=s.APIConnectionError,p.APIConnectionTimeoutError=s.APIConnectionTimeoutError,p.APIUserAbortError=s.APIUserAbortError,p.NotFoundError=s.NotFoundError,p.ConflictError=s.ConflictError,p.RateLimitError=s.RateLimitError,p.BadRequestError=s.BadRequestError,p.AuthenticationError=s.AuthenticationError,p.InternalServerError=s.InternalServerError,p.PermissionDeniedError=s.PermissionDeniedError,p.UnprocessableEntityError=s.UnprocessableEntityError,p.toFile=c.toFile,p.fileFromPath=c.fileFromPath,t.OpenAIError=s.OpenAIError,t.APIError=s.APIError,t.APIConnectionError=s.APIConnectionError,t.APIConnectionTimeoutError=s.APIConnectionTimeoutError,t.APIUserAbortError=s.APIUserAbortError,t.NotFoundError=s.NotFoundError,t.ConflictError=s.ConflictError,t.RateLimitError=s.RateLimitError,t.BadRequestError=s.BadRequestError,t.AuthenticationError=s.AuthenticationError,t.InternalServerError=s.InternalServerError,t.PermissionDeniedError=s.PermissionDeniedError,t.UnprocessableEntityError=s.UnprocessableEntityError,t.toFile=c.toFile,t.fileFromPath=c.fileFromPath,function(e){e.Page=f.Page,e.CursorPage=f.CursorPage,e.Completions=h.Completions,e.Chat=h.Chat,e.Embeddings=h.Embeddings,e.Files=h.Files,e.FileObjectsPage=h.FileObjectsPage,e.Images=h.Images,e.Audio=h.Audio,e.Moderations=h.Moderations,e.Models=h.Models,e.ModelsPage=h.ModelsPage,e.FineTuning=h.FineTuning,e.Beta=h.Beta,e.Batches=h.Batches,e.BatchesPage=h.BatchesPage,e.Uploads=h.Uploads}(p=t.OpenAI||(t.OpenAI={}));class d extends p{constructor({baseURL:e=l.readEnv("OPENAI_BASE_URL"),apiKey:t=l.readEnv("AZURE_OPENAI_API_KEY"),apiVersion:n=l.readEnv("OPENAI_API_VERSION"),endpoint:r,deployment:o,azureADTokenProvider:i,dangerouslyAllowBrowser:a,...c}={}){if(!n)throw new s.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof i&&(a=!0),!i&&!t)throw new s.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(i&&t)throw new s.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=m),c.defaultQuery={...c.defaultQuery,"api-version":n},e){if(r)throw new s.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(r||(r=process.env.AZURE_OPENAI_ENDPOINT),!r)throw new s.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${r}/openai`}super({apiKey:t,baseURL:e,...c,...void 0!==a?{dangerouslyAllowBrowser:a}:{}}),this.apiVersion="",this._azureADTokenProvider=i,this.apiVersion=n,this._deployment=o}buildRequest(e){if(y.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!l.isObj(e.body))throw new Error("Expected request body to be an object");const t=this._deployment||e.body.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){const e=await this._azureADTokenProvider();if(!e||"string"!=typeof e)throw new s.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}authHeaders(e){return{}}async prepareOptions(e){if(e.headers?.["api-key"])return super.prepareOptions(e);const t=await this._getAzureADToken();if(e.headers??(e.headers={}),t)e.headers.Authorization=`Bearer ${t}`;else{if(this.apiKey===m)throw new s.OpenAIError("Unable to handle auth");e.headers["api-key"]=this.apiKey}return super.prepareOptions(e)}}t.AzureOpenAI=d;const y=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),m="<Missing Key>";t=e.exports=p,e.exports.AzureOpenAI=d,t.default=p},59724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0;const r=n(89526);class o{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=o.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(o.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new r.OpenAIError(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new r.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new r.OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}t.LineDecoder=o,o.NEWLINE_CHARS=new Set(["\n","\r"]),o.NEWLINE_REGEXP=/\r\n|[\n\r]/g},95257:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3986=t.RFC1738=t.formatters=t.default_format=void 0,t.default_format="RFC3986",t.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},t.RFC1738="RFC1738",t.RFC3986="RFC3986"},41441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.stringify=void 0;const r=n(95257),o={formatters:r.formatters,RFC1738:r.RFC1738,RFC3986:r.RFC3986,default:r.default_format};t.formats=o;var i=n(50168);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}})},50168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;const r=n(78348),o=n(95257),i=Object.prototype.hasOwnProperty,a={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},s=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,s(t)?t:[t])},l=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:o.default_format,formatter:o.formatters[o.default_format],indices:!1,serializeDate(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h={};function p(e,t,n,o,i,a,c,l,d,y,m,g,v,b,T,_,w,M){let E=e,O=M,S=0,P=!1;for(;void 0!==(O=O.get(h))&&!P;){const t=O.get(e);if(S+=1,void 0!==t){if(t===S)throw new RangeError("Cyclic object value");P=!0}void 0===O.get(h)&&(S=0)}if("function"==typeof y?E=y(t,E):E instanceof Date?E=v?.(E):"comma"===n&&s(E)&&(E=(0,r.maybe_map)(E,(function(e){return e instanceof Date?v?.(e):e}))),null===E){if(a)return d&&!_?d(t,f.encoder,w,"key",b):t;E=""}if("string"==typeof(C=E)||"number"==typeof C||"boolean"==typeof C||"symbol"==typeof C||"bigint"==typeof C||(0,r.is_buffer)(E)){if(d){const e=_?t:d(t,f.encoder,w,"key",b);return[T?.(e)+"="+T?.(d(E,f.encoder,w,"value",b))]}return[T?.(t)+"="+T?.(String(E))]}var C;const A=[];if(void 0===E)return A;let R;if("comma"===n&&s(E))_&&d&&(E=(0,r.maybe_map)(E,d)),R=[{value:E.length>0?E.join(",")||null:void 0}];else if(s(y))R=y;else{const e=Object.keys(E);R=m?e.sort(m):e}const k=l?String(t).replace(/\./g,"%2E"):String(t),x=o&&s(E)&&1===E.length?k+"[]":k;if(i&&s(E)&&0===E.length)return x+"[]";for(let t=0;t<R.length;++t){const r=R[t],f="object"==typeof r&&void 0!==r.value?r.value:E[r];if(c&&null===f)continue;const O=g&&l?r.replace(/\./g,"%2E"):r,P=s(E)?"function"==typeof n?n(x,O):x:x+(g?"."+O:"["+O+"]");M.set(e,S);const C=new WeakMap;C.set(h,M),u(A,p(f,P,n,o,i,a,c,l,"comma"===n&&_&&s(E)?null:d,y,m,g,v,b,T,_,w,C))}return A}t.stringify=function(e,t={}){let n=e;const r=function(e=f){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=o.default_format;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=o.formatters[n];let c,u=f.filter;if(("function"==typeof e.filter||s(e.filter))&&(u=e.filter),c=e.arrayFormat&&e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=void 0===e.allowDots?1==!!e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);let c,l;"function"==typeof r.filter?(l=r.filter,n=l("",n)):s(r.filter)&&(l=r.filter,c=l);const h=[];if("object"!=typeof n||null===n)return"";const d=a[r.arrayFormat],y="comma"===d&&r.commaRoundTrip;c||(c=Object.keys(n)),r.sort&&c.sort(r.sort);const m=new WeakMap;for(let e=0;e<c.length;++e){const t=c[e];r.skipNulls&&null===n[t]||u(h,p(n[t],t,d,y,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,m))}const g=h.join(r.delimiter);let v=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},78348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe_map=t.combine=t.is_buffer=t.is_regexp=t.compact=t.encode=t.decode=t.assign_single_source=t.merge=void 0;const r=n(95257),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();t.merge=function e(t,n,r={}){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);let a=t;return i(t)&&!i(n)&&(a=function(e,t){const n=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(n[t]=e[t]);return n}(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(o.call(t,i)){const o=t[i];o&&"object"==typeof o&&n&&"object"==typeof n?t[i]=e(o,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){const a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),a)},t.assign_single_source=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},t.decode=function(e,t,n){const r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}};const s=1024;t.encode=(e,t,n,o,i)=>{if(0===e.length)return e;let c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let u="";for(let e=0;e<c.length;e+=s){const t=c.length>=s?c.slice(e,e+s):c,n=[];for(let e=0;e<t.length;++e){let o=t.charCodeAt(e);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||i===r.RFC1738&&(40===o||41===o)?n[n.length]=t.charAt(e):o<128?n[n.length]=a[o]:o<2048?n[n.length]=a[192|o>>6]+a[128|63&o]:o<55296||o>=57344?n[n.length]=a[224|o>>12]+a[128|o>>6&63]+a[128|63&o]:(e+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(e)),n[n.length]=a[240|o>>18]+a[128|o>>12&63]+a[128|o>>6&63]+a[128|63&o])}u+=n.join("")}return u},t.compact=function(e){const t=[{obj:{o:e},prop:"o"}],n=[];for(let e=0;e<t.length;++e){const r=t[e],o=r.obj[r.prop],i=Object.keys(o);for(let e=0;e<i.length;++e){const r=i[e],a=o[r];"object"==typeof a&&null!==a&&-1===n.indexOf(a)&&(t.push({obj:o,prop:r}),n.push(a))}}return function(e){for(;e.length>1;){const t=e.pop();if(!t)continue;const n=t.obj[t.prop];if(i(n)){const e=[];for(let t=0;t<n.length;++t)void 0!==n[t]&&e.push(n[t]);t.obj[t.prop]=e}}}(t),e},t.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.is_buffer=function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},t.combine=function(e,t){return[].concat(e,t)},t.maybe_map=function(e,t){if(i(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}},71118:function(e,t,n){"use strict";var r,o,i,a,s,c,u,l,f=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const h=n(89526),p=n(64691),d=n(46289),y=n(50460),m=n(63357),g=10;class v extends y.EventStream{constructor(){super(...arguments),r.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),((0,d.isFunctionMessage)(e)||(0,d.isToolMessage)(e))&&e.content)this._emit("functionCallResult",e.content);else if((0,d.isAssistantMessage)(e)&&e.function_call)this._emit("functionCall",e.function_call);else if((0,d.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new h.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),f(this,r,"m",o).call(this)}async finalMessage(){return await this.done(),f(this,r,"m",i).call(this)}async finalFunctionCall(){return await this.done(),f(this,r,"m",a).call(this)}async finalFunctionCallResult(){return await this.done(),f(this,r,"m",s).call(this)}async totalUsage(){return await this.done(),f(this,r,"m",c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=f(this,r,"m",i).call(this);t&&this._emit("finalMessage",t);const n=f(this,r,"m",o).call(this);n&&this._emit("finalContent",n);const u=f(this,r,"m",a).call(this);u&&this._emit("finalFunctionCall",u);const l=f(this,r,"m",s).call(this);null!=l&&this._emit("finalFunctionCallResult",l),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",f(this,r,"m",c).call(this))}async _createChatCompletion(e,t,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort()))),f(this,r,"m",u).call(this,t);const i=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,m.parseChatCompletion)(i,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const o="function",{function_call:i="auto",stream:a,...s}=t,c="string"!=typeof i&&i?.name,{maxChatCompletions:u=g}=n||{},d={};for(const e of t.functions)d[e.name||e.function.name]=e;const y=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<u;++t){const t=await this._createChatCompletion(e,{...s,function_call:i,functions:y,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new h.OpenAIError("missing message in ChatCompletion response");if(!a.function_call)return;const{name:u,arguments:m}=a.function_call,g=d[u];if(!g){const e=`Invalid function_call: ${JSON.stringify(u)}. Available options are: ${y.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:o,name:u,content:e});continue}if(c&&c!==u){const e=`Invalid function_call: ${JSON.stringify(u)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,name:u,content:e});continue}let v;try{v=(0,p.isRunnableFunctionWithParse)(g)?await g.parse(m):m}catch(e){this._addMessage({role:o,name:u,content:e instanceof Error?e.message:String(e)});continue}const b=await g.function(v,this),T=f(this,r,"m",l).call(this,b);if(this._addMessage({role:o,name:u,content:T}),c)return}}async _runTools(e,t,n){const o="tool",{tool_choice:i="auto",stream:a,...s}=t,c="string"!=typeof i&&i?.function?.name,{maxChatCompletions:u=g}=n||{},d=t.tools.map((e=>{if((0,m.isAutoParsableTool)(e)){if(!e.$callback)throw new h.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),y={};for(const e of d)"function"===e.type&&(y[e.function.name||e.function.function.name]=e.function);const v="tools"in t?d.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<u;++t){const t=await this._createChatCompletion(e,{...s,tool_choice:i,tools:v,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new h.OpenAIError("missing message in ChatCompletion response");if(!a.tool_calls?.length)return;for(const e of a.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:i}=e.function,a=y[n];if(!a){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(y).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:t,content:e});continue}if(c&&c!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,tool_call_id:t,content:e});continue}let s;try{s=(0,p.isRunnableFunctionWithParse)(a)?await a.parse(i):i}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:o,tool_call_id:t,content:n});continue}const u=await a.function(s,this),h=f(this,r,"m",l).call(this,u);if(this._addMessage({role:o,tool_call_id:t,content:h}),c)return}}}}t.AbstractChatCompletionRunner=v,r=new WeakSet,o=function(){return f(this,r,"m",i).call(this).content??null},i=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,d.isAssistantMessage)(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new h.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},a=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,d.isAssistantMessage)(t)&&t?.function_call)return t.function_call;if((0,d.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},s=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,d.isFunctionMessage)(t)&&null!=t.content)return t.content;if((0,d.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},u=function(e){if(null!=e.n&&e.n>1)throw new h.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},l=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},18868:function(e,t,n){"use strict";var r,o,i,a,s,c,u,l,f,h,p,d,y,m,g,v,b,T,_,w,M,E,O=n(64583).Promise,S=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),P=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&S(t,e,n);return P(t,e),t},A=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},R=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const k=C(n(88757)),x=n(6716),F=n(89526),I=n(50460);class j extends I.EventStream{constructor(){super(...arguments),r.add(this),o.set(this,[]),i.set(this,{}),a.set(this,{}),s.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),d.set(this,void 0),y.set(this,void 0)}[(o=new WeakMap,i=new WeakMap,a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,y=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new O(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new j;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const o=x.Stream.fromReadableStream(e,this.controller);for await(const e of o)A(this,r,"m",m).call(this,e);if(o.controller.signal?.aborted)throw new F.APIUserAbortError;return this._addRun(A(this,r,"m",g).call(this))}toReadableStream(){return new x.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,o){const i=new j;return i._run((()=>i._runToolAssistantStream(e,t,n,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createToolAssistantStream(e,t,n,o,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const s={...o,stream:!0},c=await e.submitToolOutputs(t,n,s,{...i,signal:this.controller.signal});this._connected();for await(const e of c)A(this,r,"m",m).call(this,e);if(c.controller.signal?.aborted)throw new F.APIUserAbortError;return this._addRun(A(this,r,"m",g).call(this))}static createThreadAssistantStream(e,t,n){const r=new j;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const o=new j;return o._run((()=>o._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}currentEvent(){return A(this,p,"f")}currentRun(){return A(this,d,"f")}currentMessageSnapshot(){return A(this,s,"f")}currentRunStepSnapshot(){return A(this,y,"f")}async finalRunSteps(){return await this.done(),Object.values(A(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(A(this,a,"f"))}async finalRun(){if(await this.done(),!A(this,c,"f"))throw Error("Final run was not received.");return A(this,c,"f")}async _createThreadAssistantStream(e,t,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...t,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const e of a)A(this,r,"m",m).call(this,e);if(a.controller.signal?.aborted)throw new F.APIUserAbortError;return this._addRun(A(this,r,"m",g).call(this))}async _createAssistantStream(e,t,n,o){const i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const a={...n,stream:!0},s=await e.create(t,a,{...o,signal:this.controller.signal});this._connected();for await(const e of s)A(this,r,"m",m).call(this,e);if(s.controller.signal?.aborted)throw new F.APIUserAbortError;return this._addRun(A(this,r,"m",g).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!k.isObj(t)||!k.isObj(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...r);continue}for(const e of r){if(!k.isObj(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,o){return await this._createToolAssistantStream(n,e,t,r,o)}}t.AssistantStream=j,m=function(e){if(!this.ended)switch(R(this,p,e,"f"),A(this,r,"m",T).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":A(this,r,"m",E).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":A(this,r,"m",b).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":A(this,r,"m",v).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},g=function(){if(this.ended)throw new F.OpenAIError("stream has ended, this shouldn't happen");if(!A(this,c,"f"))throw Error("Final run has not been received");return A(this,c,"f")},v=function(e){const[t,n]=A(this,r,"m",w).call(this,e,A(this,s,"f"));R(this,s,t,"f"),A(this,a,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=A(this,u,"f")){if(A(this,l,"f"))switch(A(this,l,"f").type){case"text":this._emit("textDone",A(this,l,"f").text,A(this,s,"f"));break;case"image_file":this._emit("imageFileDone",A(this,l,"f").image_file,A(this,s,"f"))}R(this,u,n.index,"f")}R(this,l,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==A(this,u,"f")){const t=e.data.content[A(this,u,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,A(this,s,"f"));break;case"text":this._emit("textDone",t.text,A(this,s,"f"))}}A(this,s,"f")&&this._emit("messageDone",e.data),R(this,s,void 0,"f")}},b=function(e){const t=A(this,r,"m",_).call(this,e);switch(R(this,y,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==A(this,f,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(A(this,h,"f")&&this._emit("toolCallDone",A(this,h,"f")),R(this,f,e.index,"f"),R(this,h,t.step_details.tool_calls[e.index],"f"),A(this,h,"f")&&this._emit("toolCallCreated",A(this,h,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,y,void 0,"f"),"tool_calls"==e.data.step_details.type&&A(this,h,"f")&&(this._emit("toolCallDone",A(this,h,"f")),R(this,h,void 0,"f")),this._emit("runStepDone",e.data,t)}},T=function(e){A(this,o,"f").push(e),this._emit("event",e)},_=function(e){switch(e.event){case"thread.run.step.created":return A(this,i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=A(this,i,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=j.accumulateDelta(t,n.delta);A(this,i,"f")[e.data.id]=r}return A(this,i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":A(this,i,"f")[e.data.id]=e.data}if(A(this,i,"f")[e.data.id])return A(this,i,"f")[e.data.id];throw new Error("No snapshot available")},w=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=e.data;if(o.delta.content)for(const e of o.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=A(this,r,"m",M).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},M=function(e,t){return j.accumulateDelta(t,e)},E=function(e){switch(R(this,d,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":R(this,c,e.data,"f"),A(this,h,"f")&&(this._emit("toolCallDone",A(this,h,"f")),R(this,h,void 0,"f"))}}},44648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const r=n(71118),o=n(46289);class i extends r.AbstractChatCompletionRunner{static runFunctions(e,t,n){const r=new i,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,o))),r}static runTools(e,t,n){const r=new i,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,o))),r}_addMessage(e,t=!0){super._addMessage(e,t),(0,o.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=i},95126:function(e,t,n){"use strict";var r,o,i,a,s,c,u,l,f,h,p,d,y=n(64583).Promise,m=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const v=n(89526),b=n(71118),T=n(6716),_=n(63357),w=n(43690);class M extends b.AbstractChatCompletionRunner{constructor(e){super(),r.add(this),o.set(this,void 0),i.set(this,void 0),a.set(this,void 0),m(this,o,e,"f"),m(this,i,[],"f")}get currentChatCompletionSnapshot(){return g(this,a,"f")}static fromReadableStream(e){const t=new M(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new M(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort()))),g(this,r,"m",s).call(this);const i=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of i)g(this,r,"m",u).call(this,e);if(i.controller.signal?.aborted)throw new v.APIUserAbortError;return this._addChatCompletion(g(this,r,"m",h).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),g(this,r,"m",s).call(this),this._connected();const o=T.Stream.fromReadableStream(e,this.controller);let i;for await(const e of o)i&&i!==e.id&&this._addChatCompletion(g(this,r,"m",h).call(this)),g(this,r,"m",u).call(this,e),i=e.id;if(o.controller.signal?.aborted)throw new v.APIUserAbortError;return this._addChatCompletion(g(this,r,"m",h).call(this))}[(o=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakSet,s=function(){this.ended||m(this,a,void 0,"f")},c=function(e){let t=g(this,i,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},g(this,i,"f")[e.index]=t,t)},u=function(e){if(this.ended)return;const t=g(this,r,"m",d).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const o=g(this,r,"m",c).call(this,e);e.finish_reason&&(g(this,r,"m",f).call(this,e),null!=o.current_tool_call_index&&g(this,r,"m",l).call(this,e,o.current_tool_call_index));for(const t of n.delta.tool_calls??[])o.current_tool_call_index!==t.index&&(g(this,r,"m",f).call(this,e),null!=o.current_tool_call_index&&g(this,r,"m",l).call(this,e,o.current_tool_call_index)),o.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&"function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""})}}},l=function(e,t){if(g(this,r,"m",c).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=g(this,o,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:(0,_.isAutoParsableTool)(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},f=function(e){const t=g(this,r,"m",c).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=g(this,r,"m",p).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},h=function(){if(this.ended)throw new v.OpenAIError("stream has ended, this shouldn't happen");const e=g(this,a,"f");if(!e)throw new v.OpenAIError("request ended without sending any chunks");return m(this,a,void 0,"f"),m(this,i,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:i,system_fingerprint:a,...s}=e,c={...s,id:n,choices:r.map((({message:t,finish_reason:n,index:r,logprobs:o,...i})=>{if(!n)throw new v.OpenAIError(`missing finish_reason for choice ${r}`);const{content:a=null,function_call:s,tool_calls:c,...u}=t,l=t.role;if(!l)throw new v.OpenAIError(`missing role for choice ${r}`);if(s){const{arguments:e,name:c}=s;if(null==e)throw new v.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!c)throw new v.OpenAIError(`missing function_call.name for choice ${r}`);return{...i,message:{content:a,function_call:{arguments:e,name:c},role:l,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}}return c?{...i,index:r,finish_reason:n,logprobs:o,message:{...u,role:l,content:a,refusal:t.refusal??null,tool_calls:c.map(((t,n)=>{const{function:o,type:i,id:a,...s}=t,{arguments:c,name:u,...l}=o||{};if(null==a)throw new v.OpenAIError(`missing choices[${r}].tool_calls[${n}].id\n${E(e)}`);if(null==i)throw new v.OpenAIError(`missing choices[${r}].tool_calls[${n}].type\n${E(e)}`);if(null==u)throw new v.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.name\n${E(e)}`);if(null==c)throw new v.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.arguments\n${E(e)}`);return{...s,id:a,type:i,function:{...l,name:u,arguments:c}}}))}}:{...i,message:{...u,content:a,role:l,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}})),created:o,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return(0,_.maybeParseChatCompletion)(c,t)}(e,g(this,o,"f"))},p=function(){const e=g(this,o,"f")?.response_format;return(0,_.isAutoParsableResponseFormat)(e)?e:null},d=function(e){var t,n,i,s;let c=g(this,a,"f");const{choices:u,...l}=e;c?Object.assign(c,l):c=m(this,a,{...l,choices:[]},"f");for(const{delta:a,finish_reason:u,index:l,logprobs:f=null,...h}of e.choices){let e=c.choices[l];if(e||(e=c.choices[l]={finish_reason:u,index:l,message:{},logprobs:f,...h}),f)if(e.logprobs){const{content:r,refusal:o,...i}=f;Object.assign(e.logprobs,i),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),o&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...o))}else e.logprobs=Object.assign({},f);if(u&&(e.finish_reason=u,g(this,o,"f")&&(0,_.hasAutoParseableInput)(g(this,o,"f")))){if("length"===u)throw new v.LengthFinishReasonError;if("content_filter"===u)throw new v.ContentFilterFinishReasonError}if(Object.assign(e,h),!a)continue;const{content:d,refusal:y,function_call:m,role:b,tool_calls:T,...M}=a;if(Object.assign(e.message,M),y&&(e.message.refusal=(e.message.refusal||"")+y),b&&(e.message.role=b),m&&(e.message.function_call?(m.name&&(e.message.function_call.name=m.name),m.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=m.arguments)):e.message.function_call=m),d&&(e.message.content=(e.message.content||"")+d,!e.message.refusal&&g(this,r,"m",p).call(this)&&(e.message.parsed=(0,w.partialParse)(e.message.content))),T){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:i,...a}of T){const c=(s=e.message.tool_calls)[t]??(s[t]={});Object.assign(c,a),n&&(c.id=n),r&&(c.type=r),i&&(c.function??(c.function={name:i.name??"",arguments:""})),i?.name&&(c.function.name=i.name),i?.arguments&&(c.function.arguments+=i.arguments,(0,_.shouldParseToolCall)(g(this,o,"f"),c)&&(c.function.parsed_arguments=(0,w.partialParse)(c.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new y(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new T.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function E(e){return JSON.stringify(e)}t.ChatCompletionStream=M},67730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const r=n(95126);class o extends r.ChatCompletionStream{static fromReadableStream(e){const t=new o(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new o(null),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,i))),r}static runTools(e,t,n){const r=new o(t),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,i))),r}}t.ChatCompletionStreamingRunner=o},50460:function(e,t,n){"use strict";var r,o,i,a,s,c,u,l,f,h,p,d,y,m=n(64583).Promise,g=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const b=n(89526);t.EventStream=class{constructor(){r.add(this),this.controller=new AbortController,o.set(this,void 0),i.set(this,(()=>{})),a.set(this,(()=>{})),s.set(this,void 0),c.set(this,(()=>{})),u.set(this,(()=>{})),l.set(this,{}),f.set(this,!1),h.set(this,!1),p.set(this,!1),d.set(this,!1),g(this,o,new m(((e,t)=>{g(this,i,e,"f"),g(this,a,t,"f")})),"f"),g(this,s,new m(((e,t)=>{g(this,c,e,"f"),g(this,u,t,"f")})),"f"),v(this,o,"f").catch((()=>{})),v(this,s,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),v(this,r,"m",y).bind(this))}),0)}_connected(){this.ended||(v(this,i,"f").call(this),this._emit("connect"))}get ended(){return v(this,f,"f")}get errored(){return v(this,h,"f")}get aborted(){return v(this,p,"f")}abort(){this.controller.abort()}on(e,t){return(v(this,l,"f")[e]||(v(this,l,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=v(this,l,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(v(this,l,"f")[e]||(v(this,l,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new m(((t,n)=>{g(this,d,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){g(this,d,!0,"f"),await v(this,s,"f")}_emit(e,...t){if(v(this,f,"f"))return;"end"===e&&(g(this,f,!0,"f"),v(this,c,"f").call(this));const n=v(this,l,"f")[e];if(n&&(v(this,l,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return v(this,d,"f")||n?.length||m.reject(e),v(this,a,"f").call(this,e),v(this,u,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];v(this,d,"f")||n?.length||m.reject(e),v(this,a,"f").call(this,e),v(this,u,"f").call(this,e),this._emit("end")}}_emitFinal(){}},o=new WeakMap,i=new WeakMap,a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,r=new WeakSet,y=function(e){if(g(this,h,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new b.APIUserAbortError),e instanceof b.APIUserAbortError)return g(this,p,!0,"f"),this._emit("abort",e);if(e instanceof b.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new b.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new b.OpenAIError(String(e)))}},64691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=t.ParsingFunction=t.isRunnableFunctionWithParse=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse},t.ParsingFunction=class{constructor(e){this.function=e.function,this.parse=e.parse,this.parameters=e.parameters,this.description=e.description,this.name=e.name}},t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},73346:function(e,t,n){"use strict";var r=n(64583).Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0,t.allSettledWithThrow=async e=>{const t=await r.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const e of t)"fulfilled"===e.status&&o.push(e.value);return o}},46289:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=t.isToolMessage=t.isFunctionMessage=t.isAssistantMessage=void 0,t.isAssistantMessage=e=>"assistant"===e?.role,t.isFunctionMessage=e=>"function"===e?.role,t.isToolMessage=e=>"tool"===e?.role,t.isPresent=function(e){return null!=e}},63357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateInputTools=t.hasAutoParseableInput=t.shouldParseToolCall=t.parseChatCompletion=t.maybeParseChatCompletion=t.isAutoParsableTool=t.makeParseableTool=t.isAutoParsableResponseFormat=t.makeParseableResponseFormat=void 0;const r=n(89526);function o(e){return"auto-parseable-response-format"===e?.$brand}function i(e){return"auto-parseable-tool"===e?.$brand}function a(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new r.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new r.ContentFilterFinishReasonError;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:i(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?s(t,e.message.content):null}}}));return{...e,choices:n}}function s(e,t){return"json_schema"!==e.response_format?.type?null:"json_schema"===e.response_format?.type?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function c(e){return!!o(e.response_format)||(e.tools?.some((e=>i(e)||"function"===e.type&&!0===e.function.strict))??!1)}t.makeParseableResponseFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.isAutoParsableResponseFormat=o,t.makeParseableTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=i,t.maybeParseChatCompletion=function(e,t){return t&&c(t)?a(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}},t.parseChatCompletion=a,t.shouldParseToolCall=function(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return i(n)||n?.function.strict||!1},t.hasAutoParseableInput=c,t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}},2510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPage=t.Page=void 0;const r=n(88757);class o extends r.AbstractPage{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}t.Page=o;class i extends r.AbstractPage{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}t.CursorPage=i},32802:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0,t.APIResource=class{constructor(e){this._client=e}}},1253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const a=n(32802),s=i(n(5113)),c=i(n(33694)),u=i(n(17655));class l extends a.APIResource{constructor(){super(...arguments),this.transcriptions=new c.Transcriptions(this._client),this.translations=new u.Translations(this._client),this.speech=new s.Speech(this._client)}}t.Audio=l,function(e){e.Transcriptions=c.Transcriptions,e.Translations=u.Translations,e.Speech=s.Speech}(l=t.Audio||(t.Audio={}))},5113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const r=n(32802);class o extends r.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}t.Speech=o,o=t.Speech||(t.Speech={})},33694:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const a=n(32802),s=i(n(88757));class c extends a.APIResource{create(e,t){return this._client.post("/audio/transcriptions",s.multipartFormRequestOptions({body:e,...t}))}}t.Transcriptions=c,c=t.Transcriptions||(t.Transcriptions={})},17655:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const a=n(32802),s=i(n(88757));class c extends a.APIResource{create(e,t){return this._client.post("/audio/translations",s.multipartFormRequestOptions({body:e,...t}))}}t.Translations=c,c=t.Translations||(t.Translations={})},32530:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BatchesPage=t.Batches=void 0;const a=n(32802),s=n(88757),c=i(n(32530)),u=n(2510);class l extends a.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/batches",f,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}t.Batches=l;class f extends u.CursorPage{}t.BatchesPage=f,function(e){e.BatchesPage=c.BatchesPage}(l=t.Batches||(t.Batches={}))},92964:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantsPage=t.Assistants=void 0;const a=n(32802),s=n(88757),c=i(n(92964)),u=n(2510);class l extends a.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/assistants",f,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}t.Assistants=l;class f extends u.CursorPage{}t.AssistantsPage=f,function(e){e.AssistantsPage=c.AssistantsPage}(l=t.Assistants||(t.Assistants={}))},6183:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const a=n(32802),s=i(n(92964)),c=i(n(41356)),u=i(n(2682)),l=i(n(97734));class f extends a.APIResource{constructor(){super(...arguments),this.vectorStores=new l.VectorStores(this._client),this.chat=new c.Chat(this._client),this.assistants=new s.Assistants(this._client),this.threads=new u.Threads(this._client)}}t.Beta=f,function(e){e.VectorStores=l.VectorStores,e.VectorStoresPage=l.VectorStoresPage,e.Chat=c.Chat,e.Assistants=s.Assistants,e.AssistantsPage=s.AssistantsPage,e.Threads=u.Threads}(f=t.Beta||(t.Beta={}))},41356:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const a=n(32802),s=i(n(68111));class c extends a.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}t.Chat=c,function(e){e.Completions=s.Completions}(c=t.Chat||(t.Chat={}))},68111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.ChatCompletionStream=t.ParsingToolFunction=t.ParsingFunction=t.ChatCompletionStreamingRunner=t.ChatCompletionRunner=void 0;const r=n(32802),o=n(44648);var i=n(44648);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return i.ChatCompletionRunner}});const a=n(67730);var s=n(67730);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return s.ChatCompletionStreamingRunner}});var c=n(64691);Object.defineProperty(t,"ParsingFunction",{enumerable:!0,get:function(){return c.ParsingFunction}}),Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return c.ParsingToolFunction}});const u=n(95126),l=n(63357);var f=n(95126);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return f.ChatCompletionStream}});class h extends r.APIResource{parse(e,t){return(0,l.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>(0,l.parseChatCompletion)(t,e)))}runFunctions(e,t){return e.stream?a.ChatCompletionStreamingRunner.runFunctions(this._client,e,t):o.ChatCompletionRunner.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?a.ChatCompletionStreamingRunner.runTools(this._client,e,t):o.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return u.ChatCompletionStream.createChatCompletion(this._client,e,t)}}t.Completions=h},96059:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesPage=t.Messages=void 0;const a=n(32802),s=n(88757),c=i(n(96059)),u=n(2510);class l extends a.APIResource{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,f,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}t.Messages=l;class f extends u.CursorPage{}t.MessagesPage=f,function(e){e.MessagesPage=c.MessagesPage}(l=t.Messages||(t.Messages={}))},41946:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RunsPage=t.Runs=void 0;const a=n(32802),s=n(88757),c=n(18868),u=n(88757),l=i(n(41946)),f=i(n(57733)),h=n(2510);class p extends a.APIResource{constructor(){super(...arguments),this.steps=new f.Steps(this._client)}create(e,t,n){const{include:r,...o}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,d,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return c.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,u.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return c.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const o=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,o.id,r)}submitToolOutputsStream(e,t,n,r){return c.AssistantStream.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}t.Runs=p;class d extends h.CursorPage{}t.RunsPage=d,function(e){e.RunsPage=l.RunsPage,e.Steps=f.Steps,e.RunStepsPage=f.RunStepsPage}(p=t.Runs||(t.Runs={}))},57733:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RunStepsPage=t.Steps=void 0;const a=n(32802),s=n(88757),c=i(n(57733)),u=n(2510);class l extends a.APIResource{retrieve(e,t,n,r={},o){return(0,s.isRequestOptions)(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(e,t,n={},r){return(0,s.isRequestOptions)(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,f,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}t.Steps=l;class f extends u.CursorPage{}t.RunStepsPage=f,function(e){e.RunStepsPage=c.RunStepsPage}(l=t.Steps||(t.Steps={}))},2682:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const a=n(32802),s=n(88757),c=n(18868),u=i(n(96059)),l=i(n(41946));class f extends a.APIResource{constructor(){super(...arguments),this.runs=new l.Runs(this._client),this.messages=new u.Messages(this._client)}create(e={},t){return(0,s.isRequestOptions)(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return c.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=f,function(e){e.Runs=l.Runs,e.RunsPage=l.RunsPage,e.Messages=u.Messages,e.MessagesPage=u.MessagesPage}(f=t.Threads||(t.Threads={}))},33159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoreFilesPage=t.FileBatches=void 0;const r=n(32802),o=n(88757),i=n(88757),a=n(73346),s=n(44113);Object.defineProperty(t,"VectorStoreFilesPage",{enumerable:!0,get:function(){return s.VectorStoreFilesPage}});class c extends r.APIResource{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n={},r){return(0,o.isRequestOptions)(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,s.VectorStoreFilesPage,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:a}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,i.sleep)(e);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=r?.maxConcurrency??5,i=Math.min(o,t.length),s=this._client,c=t.values(),u=[...n],l=Array(i).fill(c).map((async function(e){for(let t of e){const e=await s.files.create({file:t,purpose:"assistants"},r);u.push(e.id)}}));return await(0,a.allSettledWithThrow)(l),await this.createAndPoll(e,{file_ids:u})}}t.FileBatches=c,c=t.FileBatches||(t.FileBatches={})},44113:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoreFilesPage=t.Files=void 0;const a=n(32802),s=n(88757),c=i(n(44113)),u=n(2510);class l extends a.APIResource{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},n){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,f,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const o=await this.retrieve(e,t,{...n,headers:r}).withResponse(),i=o.data;switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,s.sleep)(e);break;case"failed":case"completed":return i}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}t.Files=l;class f extends u.CursorPage{}t.VectorStoreFilesPage=f,function(e){e.VectorStoreFilesPage=c.VectorStoreFilesPage}(l=t.Files||(t.Files={}))},97734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoresPage=t.VectorStores=void 0;const a=n(32802),s=n(88757),c=i(n(97734)),u=i(n(33159)),l=i(n(44113)),f=n(2510);class h extends a.APIResource{constructor(){super(...arguments),this.files=new l.Files(this._client),this.fileBatches=new u.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/vector_stores",p,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}t.VectorStores=h;class p extends f.CursorPage{}t.VectorStoresPage=p,function(e){e.VectorStoresPage=c.VectorStoresPage,e.Files=l.Files,e.VectorStoreFilesPage=l.VectorStoreFilesPage,e.FileBatches=u.FileBatches}(h=t.VectorStores||(t.VectorStores={}))},76111:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const a=n(32802),s=i(n(96374));class c extends a.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}t.Chat=c,function(e){e.Completions=s.Completions}(c=t.Chat||(t.Chat={}))},96374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(32802);class o extends r.APIResource{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=o,o=t.Completions||(t.Completions={})},7949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=t.Completions=void 0;var r=n(96374);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return r.Completions}});var o=n(76111);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return o.Chat}})},79045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(32802);class o extends r.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=o,o=t.Completions||(t.Completions={})},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=n(32802);class o extends r.APIResource{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}t.Embeddings=o,o=t.Embeddings||(t.Embeddings={})},61461:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileObjectsPage=t.Files=void 0;const a=n(32802),s=n(88757),c=n(88757),u=n(89526),l=i(n(88757)),f=i(n(61461)),h=n(2510);class p extends a.APIResource{create(e,t){return this._client.post("/files",l.multipartFormRequestOptions({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/files",d,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await(0,c.sleep)(t),i=await this.retrieve(e),Date.now()-o>n)throw new u.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return i}}t.Files=p;class d extends h.Page{}t.FileObjectsPage=d,function(e){e.FileObjectsPage=f.FileObjectsPage}(p=t.Files||(t.Files={}))},33453:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const a=n(32802),s=i(n(71718));class c extends a.APIResource{constructor(){super(...arguments),this.jobs=new s.Jobs(this._client)}}t.FineTuning=c,function(e){e.Jobs=s.Jobs,e.FineTuningJobsPage=s.FineTuningJobsPage,e.FineTuningJobEventsPage=s.FineTuningJobEventsPage}(c=t.FineTuning||(t.FineTuning={}))},33955:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuningJobCheckpointsPage=t.Checkpoints=void 0;const a=n(32802),s=n(88757),c=i(n(33955)),u=n(2510);class l extends a.APIResource{list(e,t={},n){return(0,s.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,f,{query:t,...n})}}t.Checkpoints=l;class f extends u.CursorPage{}t.FineTuningJobCheckpointsPage=f,function(e){e.FineTuningJobCheckpointsPage=c.FineTuningJobCheckpointsPage}(l=t.Checkpoints||(t.Checkpoints={}))},71718:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuningJobEventsPage=t.FineTuningJobsPage=t.Jobs=void 0;const a=n(32802),s=n(88757),c=i(n(71718)),u=i(n(33955)),l=n(2510);class f extends a.APIResource{constructor(){super(...arguments),this.checkpoints=new u.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return(0,s.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",h,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return(0,s.isRequestOptions)(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,p,{query:t,...n})}}t.Jobs=f;class h extends l.CursorPage{}t.FineTuningJobsPage=h;class p extends l.CursorPage{}t.FineTuningJobEventsPage=p,function(e){e.FineTuningJobsPage=c.FineTuningJobsPage,e.FineTuningJobEventsPage=c.FineTuningJobEventsPage,e.Checkpoints=u.Checkpoints,e.FineTuningJobCheckpointsPage=u.FineTuningJobCheckpointsPage}(f=t.Jobs||(t.Jobs={}))},64989:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const a=n(32802),s=i(n(88757));class c extends a.APIResource{createVariation(e,t){return this._client.post("/images/variations",s.multipartFormRequestOptions({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",s.multipartFormRequestOptions({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}t.Images=c,c=t.Images||(t.Images={})},33946:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=t.Moderations=t.Models=t.ModelsPage=t.Images=t.FineTuning=t.Files=t.FileObjectsPage=t.Embeddings=t.Completions=t.Beta=t.Batches=t.BatchesPage=t.Audio=void 0,o(n(7949),t),o(n(55653),t);var i=n(1253);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return i.Audio}});var a=n(32530);Object.defineProperty(t,"BatchesPage",{enumerable:!0,get:function(){return a.BatchesPage}}),Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return a.Batches}});var s=n(6183);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return s.Beta}});var c=n(79045);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return c.Completions}});var u=n(1242);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return u.Embeddings}});var l=n(61461);Object.defineProperty(t,"FileObjectsPage",{enumerable:!0,get:function(){return l.FileObjectsPage}}),Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return l.Files}});var f=n(33453);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return f.FineTuning}});var h=n(64989);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return h.Images}});var p=n(99458);Object.defineProperty(t,"ModelsPage",{enumerable:!0,get:function(){return p.ModelsPage}}),Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return p.Models}});var d=n(24975);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return d.Moderations}});var y=n(93017);Object.defineProperty(t,"Uploads",{enumerable:!0,get:function(){return y.Uploads}})},99458:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ModelsPage=t.Models=void 0;const a=n(32802),s=i(n(99458)),c=n(2510);class u extends a.APIResource{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",l,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}t.Models=u;class l extends c.Page{}t.ModelsPage=l,function(e){e.ModelsPage=s.ModelsPage}(u=t.Models||(t.Models={}))},24975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const r=n(32802);class o extends r.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=o,o=t.Moderations||(t.Moderations={})},55653:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3061:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Parts=void 0;const a=n(32802),s=i(n(88757));class c extends a.APIResource{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,s.multipartFormRequestOptions({body:t,...n}))}}t.Parts=c,c=t.Parts||(t.Parts={})},93017:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=void 0;const a=n(32802),s=i(n(3061));class c extends a.APIResource{constructor(){super(...arguments),this.parts=new s.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}t.Uploads=c,function(e){e.Parts=s.Parts}(c=t.Uploads||(t.Uploads={}))},6716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readableStreamAsyncIterable=t._decodeChunks=t._iterSSEMessages=t.Stream=void 0;const r=n(12212),o=n(89526),i=n(59724),a=n(89526);class s{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new s((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of c(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if(e&&e.error)throw new a.APIError(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if("error"==n.event)throw new a.APIError(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new s((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new i.LineDecoder,n=f(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new s((()=>r(e)),this.controller),new s((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new r.ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:o}=await t.next();if(o)return e.close();const i=n.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*c(e,t){if(!e.body)throw t.abort(),new o.OpenAIError("Attempted to iterate over a response with no body");const n=new l,r=new i.LineDecoder,a=f(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(new TextEncoder).encode(n):n;let r,o=new Uint8Array(t.length+e.length);for(o.set(t),o.set(e,t.length),t=o;-1!==(r=u(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(a))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}function u(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}t.Stream=s,t._iterSSEMessages=c;class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}function f(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}t._decodeChunks=function(e){const t=new i.LineDecoder,n=[];for(const r of e)n.push(...t.decode(r));return n},t.readableStreamAsyncIterable=f},64042:function(e,t,n){"use strict";var r=n(64583).Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isMultipartBody=t.toFile=t.isUploadable=t.isBlobLike=t.isFileLike=t.isResponseLike=t.fileFromPath=void 0;const o=n(12212);var i=n(12212);async function a(e,n,r){if(e=await e,(0,t.isFileLike)(e))return e;if((0,t.isResponseLike)(e)){const i=await e.blob();n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=(0,t.isBlobLike)(i)?[await i.arrayBuffer()]:[i];return new o.File(a,n,r)}const i=await async function(e){let n=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)n.push(e);else if((0,t.isBlobLike)(e))n.push(await e.arrayBuffer());else{if(!c(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){return`[${Object.getOwnPropertyNames(e).map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const t of e)n.push(t)}return n}(e);if(n||(n=function(e){return s(e.name)||s(e.filename)||s(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!r?.type){const e=i[0]?.type;"string"==typeof e&&(r={...r,type:e})}return new o.File(i,n,r)}Object.defineProperty(t,"fileFromPath",{enumerable:!0,get:function(){return i.fileFromPath}}),t.isResponseLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,t.isFileLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&(0,t.isBlobLike)(e),t.isBlobLike=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,t.isUploadable=e=>(0,t.isFileLike)(e)||(0,t.isResponseLike)(e)||(0,o.isFsReadStream)(e),t.toFile=a;const s=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,c=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.isMultipartBody=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],t.maybeMultipartFormRequestOptions=async e=>{if(!u(e.body))return e;const n=await(0,t.createForm)(e.body);return(0,o.getMultipartRequestOptions)(n,e)},t.multipartFormRequestOptions=async e=>{const n=await(0,t.createForm)(e.body);return(0,o.getMultipartRequestOptions)(n,e)},t.createForm=async e=>{const t=new o.FormData;return await r.all(Object.entries(e||{}).map((([e,n])=>l(t,e,n)))),t};const u=e=>{if((0,t.isUploadable)(e))return!0;if(Array.isArray(e))return e.some(u);if(e&&"object"==typeof e)for(const t in e)if(u(e[t]))return!0;return!1},l=async(e,n,o)=>{if(void 0!==o){if(null==o)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)e.append(n,String(o));else if((0,t.isUploadable)(o)){const t=await a(o);e.append(n,t)}else if(Array.isArray(o))await r.all(o.map((t=>l(e,n+"[]",t))));else{if("object"!=typeof o)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`);await r.all(Object.entries(o).map((([t,r])=>l(e,`${n}[${t}]`,r))))}}}},35392:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="4.68.4"},97506:function(e,t,n){"use strict";n.r(t)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n(93501)}();
//# sourceMappingURL=functions.js.map